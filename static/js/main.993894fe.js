/*! For license information please see main.993894fe.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,Ee=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Ie?Ee?Ee.push(e):Ee=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=Ee;if(Ee=Ie=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ie||null!==Ee)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,It,Et,St,_t=!1,Tt=[],Ct=null,Nt=null,At=null,Dt=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){_t=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Dt.forEach(Vt),Rt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var zt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=Xt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Sn(){return En}var _n=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(_n),Cn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Dn),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){_e(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){jr(e,0)}function Xn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Wn(t,Gn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ir={},Er={};function Sr(e){if(Ir[e])return Ir[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Ir[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),s(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Or=Dr[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(_r,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case _r:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=dn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Re(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:bi(s),h=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),$t=Zt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Re(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Ii=-1;function Ei(e){return{current:e}}function Si(e){0>Ii||(e.current=xi[Ii],xi[Ii]=null,Ii--)}function _i(e,t){Ii++,xi[Ii]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ai=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Ni),Si(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));_i(Ci,t),_i(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,_i(Ci,e),_i(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),_i(Ci,e)):Si(Ni),_i(Ni,n)}var ji=null,Vi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge($e,qi),i}finally{kt=t,Ui=!1}}return null}var zi=[],Ki=0,Wi=null,Hi=0,Gi=[],Qi=0,Xi=null,Yi=1,Ji="";function Zi(e,t){zi[Ki++]=Hi,zi[Ki++]=Wi,Wi=e,Hi=t}function $i(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=Xi,Xi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Wi;)Wi=zi[--Ki],zi[Ki]=null,Hi=zi[--Ki],zi[Ki]=null;for(;e===Xi;)Xi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var _a=null;function Ta(e){null===_a?_a=[e]:_a.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ri(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ri(t)?Ai:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===I?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=h(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===I){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===I?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=Xa(!0),Ja=Xa(!1),Za={},$a=Ei(Za),eo=Ei(Za),to=Ei(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),_i($a,t)}function io(){Si($a),Si(eo),Si(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(_i(eo,e),_i($a,n))}function oo(e){eo.current===e&&(Si($a),Si(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Bo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return qo(2048,8,e,t)}function Wo(e,t){return qo(4,2,e,t)}function Ho(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Xo(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:jo,useDebugValue:Xo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=$o.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Ns.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Jo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Xo,useDeferredValue:function(e){return Zo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Jo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Xo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),du(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Iu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ps,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ps,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Ps,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Ps,Rs),Rs|=r;return wu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ri(n)?Ai:Ci.current;return a=Di(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Di(t,c=Ri(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Aa||qa(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Di(t,s=Ri(n)?Ai:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Ka(t,o,r,s),Aa=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ni.current||Aa?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(c=Aa||qa(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Pu,Ou,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=Xi,Yi=e.id,Ji=e.overflow,Xi=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ia(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Hu(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":H(r),$(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Ru(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),$(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Hu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Os&&(Os=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Je()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu=!1,Yu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||$u(n,t);case 6:var r=ls,i=fs;ls=null,ds(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,ds(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));hs(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ec(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):k(i,f,d,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(d=Zu=f;null!==Zu;){switch(p=(h=Zu).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:$u(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:$u(h,h.return);break;case 22:if(null!==h.memoizedState){ws(d);continue}}null!==p?(p.return=h,Zu=p):ws(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Xu;var c=Yu;if(Xu=o,(Yu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Xu=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):bs(e)}}function bs(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function ws(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Is,Es=Math.ceil,Ss=b.ReactCurrentDispatcher,_s=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Ds=0,Rs=0,Ps=Ei(0),Os=0,Ls=null,Ms=0,Fs=0,js=0,Vs=null,Us=null,Bs=0,qs=1/0,zs=null,Ks=!1,Ws=null,Hs=null,Gs=!1,Qs=null,Xs=0,Ys=0,Js=null,Zs=-1,$s=0;function ec(){return 0!==(6&Cs)?Je():-1!==Zs?Zs:Zs=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===$s&&($s=vt()),$s):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Os&&uc(e,Ds)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(qs=Je()+500,Vi&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Ns?Ds:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&qi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zs=-1,$s=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ns?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Ds===t||(zs=null,qs=Je()+500,dc(e,t));;)try{gc();break}catch(s){hc(e,s)}wa(),Ss.current=o,Cs=i,null!==As?t=0:(Ns=null,Ds=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,dc(e,0),uc(e,r),rc(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,dc(e,0),uc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,zs),t);break}wc(e,Us,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,zs),r);break}wc(e,Us,zs);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,dc(e,0),uc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,zs),rc(e,Je()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs=Je()+500,Vi&&qi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&qi()}}function fc(){Rs=Ps.current,Si(Ps)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Pc(e.current,null),Ds=Rs=t,Os=0,Ls=null,js=Fs=Ms=0,Us=Vs=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function hc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,_s.current=null,null===n||null===n.return){Os=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Os&&(Os=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Ns,Ds)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Ds===t||(zs=null,dc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==As)throw Error(a(261));return Ns=null,Ds=0,Os}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!Xe();)kc(As)}function kc(e){var t=Is(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,_s.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Rs)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Os=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Os&&(Os=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,_s.current=null,function(e,t){if(ei=Kt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,Xs=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Ws,Ws=null,e;0!==(1&Xs)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Js?Ys++:(Ys=0,Js=e):Ys=0,qi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt(Xs),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Xs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var d=f.child;if(null!==d)d.return=f,Zu=d;else for(;null!==Zu;){var h=(f=Zu).sibling,p=f.return;if(as(f),f===l){Zu=null;break}if(null!==h){h.return=p,Zu=h;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Cs=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Ic(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ds&n)===n&&(4===Os||3===Os&&(130023424&Ds)===Ds&&500>Je()-Bs?dc(e,0):js|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Lc(n.children,i,o,t);case E:u=8,i|=8;break;case S:return(e=Dc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case T:u=9;break e;case C:u=11;break e;case D:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),ha();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(_i(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ia(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ia(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Iu(e,t,r,i=ma(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zu(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),za(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cs)&&(qs=Je()+500,qi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},It=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Et=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,_e,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,I={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:I.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:I};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=I.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=h;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,E=!1,S=null,_=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?I():(E=!1,S=null)}}else E=!1}if("function"===typeof k)I=function(){k(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=A,I=function(){R.postMessage(null)}}else I=function(){y(A,0)};function P(e){S=e,E||(E=!0,I())}function O(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".d3befce1.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="myapp:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var d=function(t,n){u.onerror=u.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/sl-music-react-app/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmyapp=self.webpackChunkmyapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Jn},SDK_VERSION:function(){return ii},_DEFAULT_ENTRY_NAME:function(){return Wr},_addComponent:function(){return Xr},_addOrOverwriteComponent:function(){return Yr},_apps:function(){return Gr},_clearComponents:function(){return ei},_components:function(){return Qr},_getProvider:function(){return Zr},_registerComponent:function(){return Jr},_removeServiceInstance:function(){return $r},deleteApp:function(){return si},getApp:function(){return oi},getApps:function(){return ui},initializeApp:function(){return ai},onLog:function(){return fi},registerVersion:function(){return li},setLogLevel:function(){return di}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||f(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(t&&("object"===b(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function I(e){var t=k();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function E(e,t,n){return E=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},E.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},S(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var T,C="popstate";function N(e){return{usr:e.state,key:e.key}}function A(e,t,n,r){return void 0===n&&(n=null),_({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function D(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function R(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function P(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,d=null;function h(){f=t.Pop,d&&d({action:f,location:p.location})}var p={get action(){return f},get location(){return e(u,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return u.addEventListener(C,h),d=e,function(){u.removeEventListener(C,h),d=null}},createHref:function(e){return n(u,e)},push:function(e,n){f=t.Push;var i=A(p.location,e,n);r&&r(i,e);var a=N(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&d&&d({action:f,location:i})},replace:function(e,n){f=t.Replace;var i=A(p.location,e,n);r&&r(i,e);var a=N(i),o=p.createHref(i);l.replaceState(a,"",o),c&&d&&d({action:f,location:i})},go:function(e){return l.go(e)}};return p}function O(e,t,n){void 0===n&&(n="/");var r=B(("string"===typeof t?R(t):t).pathname||"/",n);if(null==r)return null;var i=L(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=V(i[o],r);return a}function L(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(q(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=H([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(q(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),L(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:j(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));var M=/^:\w+$/,F=function(e){return"*"===e};function j(e,t){var n=e.split("/"),r=n.length;return n.some(F)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!F(e)})).reduce((function(e,t){return e+(M.test(t)?3:""===t?1:10)}),r)}function V(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:H([i,l.pathname]),pathnameBase:G(H([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=H([i,l.pathnameBase]))}return a}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);z("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return z(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function z(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function K(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function W(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=R(e):(q(!(i=_({},e)).pathname||!i.pathname.includes("?"),K("?","pathname","search",i)),q(!i.pathname||!i.pathname.includes("#"),K("#","pathname","hash",i)),q(!i.search||!i.search.includes("#"),K("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?R(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Q(a),hash:X(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var H=function(e){return e.join("/").replace(/\/\/+/g,"/")},G=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},X=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Y=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n)}(S(Error));var J=v((function e(t,n,r){h(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Z(e){return e instanceof J}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}var ee="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},te=r.useState,ne=r.useEffect,re=r.useLayoutEffect,ie=r.useDebugValue;function ae(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ee(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var oe=r.createContext(null);var ue=r.createContext(null);var se=r.createContext(null);var ce=r.createContext(null);var le=r.createContext(null);var fe=r.createContext(null);var de=r.createContext({outlet:null,matches:[]});var he=r.createContext(null);function pe(){return null!=r.useContext(fe)}function ve(){return pe()||q(!1),r.useContext(fe).location}function me(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function ye(){pe()||q(!1);var e=r.useContext(le),t=e.basename,n=e.navigator,i=r.useContext(de).matches,a=ve().pathname,o=JSON.stringify(me(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);r.useEffect((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=W(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:H([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}function ge(){var e=r.useContext(de).matches,t=e[e.length-1];return t?t.params:{}}function ke(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(de).matches,a=ve().pathname,o=JSON.stringify(me(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return W(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function be(){var e=function(){var e,t=r.useContext(he),n=_e(xe.UseRouteError),i=r.useContext(de),a=i.matches[i.matches.length-1];if(t)return t;return i||q(!1),!a.route.id&&q(!1),null==(e=n.errors)?void 0:e[a.route.id]}(),t=Z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:o},"errorElement")," props on\xa0",r.createElement("code",{style:o},"<Route>")))}var we,xe,Ie=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return v(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(he.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Ee(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(oe);return a&&n.route.errorElement&&(a._deepestRenderedBoundaryId=n.route.id),r.createElement(de.Provider,{value:t},i)}function Se(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||q(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(be,null):null,l=function(){return r.createElement(Ee,{match:o,routeContext:{outlet:e,matches:t.concat(i.slice(0,u+1))}},s?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===u)?r.createElement(Ie,{location:n.location,component:c,error:s,children:l()}):l()}),null)}function _e(e){var t=r.useContext(se);return t||q(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(we||(we={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(xe||(xe={}));var Te;function Ce(e){q(!1)}function Ne(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;pe()&&q(!1);var h=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=R(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,I=void 0===x?null:x,E=v.key,S=void 0===E?"default":E,_=r.useMemo((function(){var e=B(y,h);return null==e?null:{pathname:e,search:k,hash:w,state:I,key:S}}),[h,y,k,w,I,S]);return null==_?null:r.createElement(le.Provider,{value:p},r.createElement(fe.Provider,{children:o,value:{location:_,navigationType:c}}))}function Ae(e){var n=e.children,i=e.location,a=r.useContext(ue);return function(e,n){pe()||q(!1);var i,a=r.useContext(se),o=r.useContext(de).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,ve());if(n){var f,d="string"===typeof n?R(n):n;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||q(!1),i=d}else i=l;var h=i.pathname||"/",p=O(e,{pathname:"/"===c?h:h.slice(c.length)||"/"}),v=Se(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:H([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:H([c,e.pathnameBase])})})),o,a||void 0);return n?r.createElement(fe.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},v):v}(a&&!n?a.router.routes:Re(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Te||(Te={}));var De=new Promise((function(){}));r.Component;function Re(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Ce&&q(!1),e.props.index&&e.props.children&&q(!1);var a=[].concat(d(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Re(e.props.children,a)),n.push(o)}else n.push.apply(n,Re(e.props.children,t))})),n}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Oe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Le=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Me(e){var t=e.basename,n=e.children,i=e.window,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),P((function(e,t){var n=e.location;return A("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:D(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,u=l(r.useState({action:o.action,location:o.location}),2),s=u[0],c=u[1];return r.useLayoutEffect((function(){return o.listen(c)}),[o]),r.createElement(Ne,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var Fe=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=Oe(e,Le),d=function(e,t){var n=(void 0===t?{}:t).relative;pe()||q(!1);var i=r.useContext(le),a=i.basename,o=i.navigator,u=ke(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:H([a,c])),o.createHref({pathname:f,search:l,hash:s})}(c,{relative:i}),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=ye(),l=ve(),f=ke(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:D(l)===D(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(c,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return r.createElement("a",Pe({},f,{href:d,onClick:a?n:function(e){n&&n(e),e.defaultPrevented||h(e)},ref:t,target:s}))}));var je,Ve;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(je||(je={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ve||(Ve={}));function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(){ze=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==b(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=h,u(y,"constructor",h),u(h,"constructor",d),d.displayName=u(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ke(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ke(a,r,i,o,u,"next",e)}function u(e){Ke(a,r,i,o,u,"throw",e)}o(void 0)}))}}function He(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ge(e,t){if(null==e)return{};var n,r,i=He(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Qe=n(694),Xe=n.n(Qe);function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}n(176);function Je(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Ze(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function $e(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==t&&u(t),[s?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),u(e)}),[n])]}function et(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[Je(r)],u=a[r],s=He(a,[Je(r),r].map(Ze)),c=t[r],l=$e(u,o,e[c]),f=l[0],d=l[1];return Ye({},s,((i={})[r]=f,i[c]=d,i))}),e)}function tt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function nt(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function rt(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}tt.__suppressDeprecationWarning=!0,nt.__suppressDeprecationWarning=!0,rt.__suppressDeprecationWarning=!0;var it=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function at(e){var t=it(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}function ot(){return(0,r.useState)(null)}function ut(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}function st(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current=e})),t.current}var ct="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,lt="undefined"!==typeof document||ct?r.useLayoutEffect:r.useEffect;new WeakMap;var ft=n(184),dt=["as","disabled"];function ht(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var d=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:d,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),d(e))}},f]}var pt=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,dt),a=l(ht(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,ft.jsx)(u,Object.assign({},i,o,{ref:t}))}));pt.displayName="Button";var vt=pt,mt=["onKeyDown"];var yt=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,mt),a=l(ht(Object.assign({tagName:"a"},i)),1)[0],o=at((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,ft.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,ft.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));yt.displayName="Anchor";var gt=yt,kt=["xxl","xl","lg","md","sm","xs"],bt=r.createContext({prefixes:{},breakpoints:kt,minBreakpoint:"xs"});bt.Consumer,bt.Provider;function wt(e,t){var n=(0,r.useContext)(bt).prefixes;return e||n[t]||t}function xt(){return(0,r.useContext)(bt).breakpoints}function It(){return(0,r.useContext)(bt).minBreakpoint}var Et=n(164),St=!1,_t=r.createContext(null),Tt="unmounted",Ct="exited",Nt="entering",At="entered",Dt="exiting",Rt=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Ct,r.appearStatus=Nt):i=At:i=t.unmountOnExit||t.mountOnEnter?Tt:Ct,r.state={status:i},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Tt?{status:Ct}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Nt&&n!==At&&(t=Nt):n!==Nt&&n!==At||(t=Dt)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Nt){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Et.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ct&&this.setState({status:Tt})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Et.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||St?this.safeSetState({status:At},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Nt},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:At},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Et.findDOMNode(this);t&&!St?(this.props.onExit(r),this.safeSetState({status:Dt},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ct},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ct},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Et.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===Tt)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,He(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(_t.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},i}(r.Component);function Pt(){}Rt.contextType=_t,Rt.propTypes={},Rt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pt,onEntering:Pt,onEntered:Pt,onExit:Pt,onExiting:Pt,onExited:Pt},Rt.UNMOUNTED=Tt,Rt.EXITED=Ct,Rt.ENTERING=Nt,Rt.ENTERED=At,Rt.EXITING=Dt;var Ot=Rt;function Lt(e){return e&&e.ownerDocument||document}function Mt(e,t){return function(e){var t=Lt(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ft=/([A-Z])/g;var jt=/^ms-/;function Vt(e){return function(e){return e.replace(Ft,"-$1").toLowerCase()}(e).replace(jt,"-ms-")}var Ut=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Bt=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Vt(t))||Mt(e).getPropertyValue(Vt(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Ut.test(e))}(i)?n+=Vt(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Vt(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},qt=!("undefined"===typeof window||!window.document||!window.document.createElement),zt=!1,Kt=!1;try{var Wt={get passive(){return zt=!0},get once(){return Kt=zt=!0}};qt&&(window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,!0))}catch(sM){}var Ht=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Kt){var i=r.once,a=r.capture,o=n;!Kt&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,zt?r:a)}e.addEventListener(t,n,r)};var Gt=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Qt=function(e,t,n,r){return Ht(e,t,n,r),function(){Gt(e,t,n,r)}};function Xt(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Qt(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Yt(e,t,n,r){null==n&&(n=function(e){var t=Bt(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Xt(e,n,r),a=Qt(e,"transitionend",t);return function(){i(),a()}}function Jt(e,t){var n=Bt(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Zt(e,t){var n=Jt(e,"transitionDuration"),r=Jt(e,"transitionDelay"),i=Yt(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}function $t(e){e.offsetHeight}var en=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var tn=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=en(e),r=en(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var nn,rn=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],an=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,d=Ge(e,rn),h=(0,r.useRef)(null),p=tn(h,f),v=function(e){var t;p((t=e)&&"setState"in t?Et.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&h.current&&e(h.current,t)}},y=(0,r.useCallback)(m(n),[n]),g=(0,r.useCallback)(m(i),[i]),k=(0,r.useCallback)(m(a),[a]),b=(0,r.useCallback)(m(o),[o]),w=(0,r.useCallback)(m(u),[u]),x=(0,r.useCallback)(m(s),[s]),I=(0,r.useCallback)(m(c),[c]);return(0,ft.jsx)(Ot,qe(qe({ref:t},d),{},{onEnter:y,onEntered:k,onEntering:g,onExit:b,onExited:x,onExiting:w,addEndListener:I,nodeRef:h,children:"function"===typeof l?function(e,t){return l(e,qe(qe({},t),{},{ref:v}))}:r.cloneElement(l,{ref:v})}))})),on=an,un=["className","children","transitionClasses"],sn=(Ue(nn={},Nt,"show"),Ue(nn,At,"show"),nn),cn=r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=Ge(e,un),s=(0,r.useCallback)((function(e,t){$t(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,ft.jsx)(on,qe(qe({ref:t,addEndListener:Zt},u),{},{onEnter:s,childRef:i.ref,children:function(e,t){return r.cloneElement(i,qe(qe({},t),{},{className:Xe()("fade",n,i.props.className,sn[e],o[e])}))}}))}));cn.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},cn.displayName="Fade";var ln=cn,fn=n(7),dn=n.n(fn),hn=["className","variant"],pn={"aria-label":dn().string,onClick:dn().func,variant:dn().oneOf(["white"])},vn=r.forwardRef((function(e,t){var n=e.className,r=e.variant,i=Ge(e,hn);return(0,ft.jsx)("button",qe({ref:t,type:"button",className:Xe()("btn-close",r&&"btn-close-".concat(r),n)},i))}));vn.displayName="CloseButton",vn.propTypes=pn,vn.defaultProps={"aria-label":"Close"};var mn=vn,yn=function(e){return r.forwardRef((function(t,n){return(0,ft.jsx)("div",qe(qe({},t),{},{ref:n,className:Xe()(t.className,e)}))}))},gn=/-(.)/g;var kn=["className","bsPrefix","as"],bn=function(e){return e[0].toUpperCase()+(t=e,t.replace(gn,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?bn(e):n,a=t.Component,o=t.defaultProps,u=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,s=Ge(t,kn),c=wt(i,e);return(0,ft.jsx)(u,qe({ref:n,className:Xe()(r,c)},s))}));return u.defaultProps=o,u.displayName=i,u}var xn=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],In=yn("h4");In.displayName="DivStyledAsH4";var En=wn("alert-heading",{Component:In}),Sn=wn("alert-link",{Component:gt}),_n={variant:"primary",show:!0,transition:ln,closeLabel:"Close alert"},Tn=r.forwardRef((function(e,t){var n=et(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=n.closeLabel,o=n.closeVariant,u=n.className,s=n.children,c=n.variant,l=n.onClose,f=n.dismissible,d=n.transition,h=Ge(n,xn),p=wt(r,"alert"),v=at((function(e){l&&l(!1,e)})),m=!0===d?ln:d,y=(0,ft.jsxs)("div",qe(qe({role:"alert"},m?void 0:h),{},{ref:t,className:Xe()(u,p,c&&"".concat(p,"-").concat(c),f&&"".concat(p,"-dismissible")),children:[f&&(0,ft.jsx)(mn,{onClick:v,"aria-label":a,variant:o}),s]}));return m?(0,ft.jsx)(m,qe(qe({unmountOnExit:!0},h),{},{ref:void 0,in:i,children:y})):i?y:null}));Tn.displayName="Alert",Tn.defaultProps=_n;var Cn=Object.assign(Tn,{Link:Sn,Heading:En}),Nn=["as","bsPrefix","variant","size","active","className"],An=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,u=e.className,s=Ge(e,Nn),c=wt(r,"btn"),f=l(ht(qe({tagName:n},s)),2),d=f[0],h=f[1].tagName;return(0,ft.jsx)(h,qe(qe(qe({},d),s),{},{ref:t,className:Xe()(u,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),s.href&&s.disabled&&"disabled")}))}));An.displayName="Button",An.defaultProps={variant:"primary",active:!1,disabled:!1};var Dn=An,Rn={divAlert:{backgroundColor:"#fff8",display:"grid",position:"fixed",zIndex:1060,top:0,right:0,bottom:0,left:0,alignItems:"center",justifyContent:"center"}};var Pn=function(e){var t=e.variant,n=e.titulo,r=e.mensaje,i=e.ruta,a=e.show,o=e.onToggleView,u=ye();return(0,ft.jsx)(Cn,{show:a,style:Rn.divAlert,children:(0,ft.jsxs)(Cn,{show:a,variant:t,children:[(0,ft.jsx)(Cn.Heading,{children:n}),(0,ft.jsx)("p",{children:r}),(0,ft.jsx)("hr",{}),(0,ft.jsx)("div",{className:"d-flex justify-content-end",children:(0,ft.jsx)(Dn,{onClick:function(){u("".concat(i)),o(!1)},variant:"outline-success",children:"X"})})]},n)})};function On(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var Ln=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Mn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ln(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Fn=function(e){return function(e){var t=Ln(e);return Mn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},jn=function(e){try{return Mn.decodeString(e,!0)}catch(sM){console.error("base64Decode failed: ",sM)}return null};function Vn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Vn(e[n],t[n]));return e}function Un(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Bn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(sM){return!1}}function qn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function zn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Kn(){var e=Un();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Wn(){return"object"===typeof indexedDB}var Hn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Gn=function(){try{return Hn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/sl-music-react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(sM){return}var t=e&&jn(e[1]);return t&&JSON.parse(t)}}()}catch(sM){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(sM))}},Qn=function(){var e;return null===(e=Gn())||void 0===e?void 0:e.config},Xn=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Yn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Fn(JSON.stringify({alg:"none",type:"JWT"})),Fn(JSON.stringify(a)),""].join(".")}var Jn=function(e){y(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),Zn.prototype.create),a}return v(n)}(S(Error)),Zn=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?$n(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Jn(n,a,t);return o}}]),e}();function $n(e,t){return e.replace(er,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var er=/\{\$([^}]+)}/g;function tr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(rr(u)&&rr(s)){if(!nr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function rr(e){return null!==e&&"object"===typeof e}function ir(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ar(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function or(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ur(e,t){var n=new sr(e,t);return n.subscribe.bind(n)}var sr=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return v(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=On(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=cr),void 0===r.error&&(r.error=cr),void 0===r.complete&&(r.complete=cr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(sM){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(sM){"undefined"!==typeof console&&console.error&&console.error(sM)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function cr(){}function lr(e){return e&&e._delegate?e._delegate:e}var fr=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),dr="[DEFAULT]",hr=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Xn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(sM){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(sM){if(r)return null;throw sM}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dr})}catch(sM){}var t,n=On(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(sM){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=On(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(c_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===dr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(c_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;return this.component?this.component.multipleInstances?e:dr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var pr,vr,mr=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new hr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),yr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(vr||(vr={}));var gr={debug:vr.DEBUG,verbose:vr.VERBOSE,info:vr.INFO,warn:vr.WARN,error:vr.ERROR,silent:vr.SILENT},kr=vr.INFO,br=(Ue(pr={},vr.DEBUG,"log"),Ue(pr,vr.VERBOSE,"log"),Ue(pr,vr.INFO,"info"),Ue(pr,vr.WARN,"warn"),Ue(pr,vr.ERROR,"error"),pr),wr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=br[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},xr=function(){function e(t){h(this,e),this.name=t,this._logLevel=kr,this._logHandler=wr,this._userLogHandler=null,yr.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in vr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?gr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.DEBUG].concat(t)),this._logHandler.apply(this,[this,vr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,vr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.INFO].concat(t)),this._logHandler.apply(this,[this,vr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.WARN].concat(t)),this._logHandler.apply(this,[this,vr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.ERROR].concat(t)),this._logHandler.apply(this,[this,vr.ERROR].concat(t))}}]),e}();var Ir,Er;var Sr=new WeakMap,_r=new WeakMap,Tr=new WeakMap,Cr=new WeakMap,Nr=new WeakMap;var Ar={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _r.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Dr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Er||(Er=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Or(this),n),Pr(Sr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pr(e.apply(Or(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Or(this),t].concat(r));return Tr.set(a,t.sort?t.sort():[t]),Pr(a)}}function Rr(e){return"function"===typeof e?Dr(e):(e instanceof IDBTransaction&&function(e){if(!_r.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));_r.set(e,t)}}(e),t=e,(Ir||(Ir=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ar):e);var t}function Pr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Pr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Sr.set(t,e)})).catch((function(){})),Nr.set(t,e),t}(e);if(Cr.has(e))return Cr.get(e);var t=Rr(e);return t!==e&&(Cr.set(e,t),Nr.set(t,e)),t}var Or=function(e){return Nr.get(e)};var Lr,Mr,Fr=["get","getKey","getAll","getAllKeys","count"],jr=["put","add","delete","clear"],Vr=new Map;function Ur(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Vr.get(t))return Vr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=jr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Fr.includes(n))){var a=function(){var e=We(ze().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Vr.set(t,a),a}}}Ar=function(e){return qe(qe({},e),{},{get:function(t,n,r){return Ur(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ur(t,n)||e.has(t,n)}})}(Ar);var Br=function(){function e(t){h(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var qr="@firebase/app",zr="0.8.3",Kr=new xr("@firebase/app"),Wr="[DEFAULT]",Hr=(Ue(Lr={},qr,"fire-core"),Ue(Lr,"@firebase/app-compat","fire-core-compat"),Ue(Lr,"@firebase/analytics","fire-analytics"),Ue(Lr,"@firebase/analytics-compat","fire-analytics-compat"),Ue(Lr,"@firebase/app-check","fire-app-check"),Ue(Lr,"@firebase/app-check-compat","fire-app-check-compat"),Ue(Lr,"@firebase/auth","fire-auth"),Ue(Lr,"@firebase/auth-compat","fire-auth-compat"),Ue(Lr,"@firebase/database","fire-rtdb"),Ue(Lr,"@firebase/database-compat","fire-rtdb-compat"),Ue(Lr,"@firebase/functions","fire-fn"),Ue(Lr,"@firebase/functions-compat","fire-fn-compat"),Ue(Lr,"@firebase/installations","fire-iid"),Ue(Lr,"@firebase/installations-compat","fire-iid-compat"),Ue(Lr,"@firebase/messaging","fire-fcm"),Ue(Lr,"@firebase/messaging-compat","fire-fcm-compat"),Ue(Lr,"@firebase/performance","fire-perf"),Ue(Lr,"@firebase/performance-compat","fire-perf-compat"),Ue(Lr,"@firebase/remote-config","fire-rc"),Ue(Lr,"@firebase/remote-config-compat","fire-rc-compat"),Ue(Lr,"@firebase/storage","fire-gcs"),Ue(Lr,"@firebase/storage-compat","fire-gcs-compat"),Ue(Lr,"@firebase/firestore","fire-fst"),Ue(Lr,"@firebase/firestore-compat","fire-fst-compat"),Ue(Lr,"fire-js","fire-js"),Ue(Lr,"firebase","fire-js-all"),Lr),Gr=new Map,Qr=new Map;function Xr(e,t){try{e.container.addComponent(t)}catch(sM){Kr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),sM)}}function Yr(e,t){e.container.addOrOverwriteComponent(t)}function Jr(e){var t=e.name;if(Qr.has(t))return Kr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Qr.set(t,e);var n,r=On(Gr.values());try{for(r.s();!(n=r.n()).done;){Xr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Zr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wr;Zr(e,t).clearInstance(n)}function ei(){Qr.clear()}var ti=(Ue(Mr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ue(Mr,"bad-app-name","Illegal App name: '{$appName}"),Ue(Mr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ue(Mr,"app-deleted","Firebase App named '{$appName}' already deleted"),Ue(Mr,"no-options","Need to provide options, when not being deployed to hosting via source."),Ue(Mr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ue(Mr,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ue(Mr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ue(Mr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ue(Mr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ue(Mr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Mr),ni=new Zn("app","Firebase",ti),ri=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fr("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}]),e}(),ii="9.13.0";function ai(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Wr,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ni.create("bad-app-name",{appName:String(a)});if(n||(n=Qn()),!n)throw ni.create("no-options");var o=Gr.get(a);if(o){if(nr(n,o.options)&&nr(i,o.config))return o;throw ni.create("duplicate-app",{appName:a})}var u,s=new mr(a),c=On(Qr.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(d){c.e(d)}finally{c.f()}var f=new ri(n,i,s);return Gr.set(a,f),f}function oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr,t=Gr.get(e);if(!t&&e===Wr)return ai();if(!t)throw ni.create("no-app",{appName:e});return t}function ui(){return Array.from(Gr.values())}function si(e){return ci.apply(this,arguments)}function ci(){return(ci=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Gr.has(n)){e.next=6;break}return Gr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e,t,n){var r,i=null!==(r=Hr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Kr.warn(u.join(" "))}Jr(new fr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function fi(e,t){if(null!==e&&"function"!==typeof e)throw ni.create("invalid-log-argument");!function(e,t){var n,r=On(yr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=gr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:vr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function di(e){var t;t=e,yr.forEach((function(e){e.setLogLevel(t)}))}var hi="firebase-heartbeat-store",pi=null;function vi(){return pi||(pi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Pr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Pr(u.result),e.oldVersion,e.newVersion,Pr(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(hi)}}).catch((function(e){throw ni.create("idb-open",{originalErrorMessage:e.message})}))),pi}function mi(e){return yi.apply(this,arguments)}function yi(){return yi=We(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vi();case 3:return r=e.sent,e.abrupt("return",r.transaction(hi).objectStore(hi).get(bi(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Jn?Kr.warn(e.t0.message):(i=ni.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Kr.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),yi.apply(this,arguments)}function gi(e,t){return ki.apply(this,arguments)}function ki(){return ki=We(ze().mark((function e(t,n){var r,i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vi();case 3:return i=e.sent,a=i.transaction(hi,"readwrite"),o=a.objectStore(hi),e.next=8,o.put(n,bi(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Jn?Kr.warn(e.t0.message):(u=ni.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Kr.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ki.apply(this,arguments)}function bi(e){return"".concat(e.name,"!").concat(e.options.appId)}var wi=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new _i(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return v(e,[{key:"triggerHeartbeat",value:function(){var e=We(ze().mark((function e(){var t,n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=xi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=We(ze().mark((function e(){var t,n,r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=xi(),n=Ii(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Fn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xi(){return(new Date).toISOString().substring(0,10)}function Ii(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=On(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ti(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ti(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ei,Si,_i=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,mi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",gi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",gi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ti(e){return Fn(JSON.stringify({version:2,heartbeats:e})).length}Ei="",Jr(new fr("platform-logger",(function(e){return new Br(e)}),"PRIVATE")),Jr(new fr("heartbeat",(function(e){return new wi(e)}),"PRIVATE")),li(qr,zr,Ei),li(qr,zr,"esm2017"),li("fire-js","");var Ci=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,Xr(t,new fr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),si(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Xr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Yr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ni=(Ue(Si={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ue(Si,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Si),Ai=new Zn("app-compat","Firebase",Ni);var Di=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ai(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(tr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:li,setLogLevel:di,onLog:fi,apps:null,SDK_VERSION:ii,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Jr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ai.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Vn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!tr(n,e=e||Wr))throw Ai.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ci);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Vn(n,e)},createSubscribe:ur,ErrorFactory:Zn,deepExtend:Vn}),n}(),Ri=new xr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ri.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Pi=self.firebase.SDK_VERSION;Pi&&Pi.indexOf("LITE")>=0&&Ri.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Oi=Di;!function(e){li("@firebase/app-compat","0.1.38",e)}();function Li(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function Mi(){return Mi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Li(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Mi.apply(this,arguments)}Oi.registerVersion("firebase","9.13.0","app-compat");function Fi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ji;Object.create;var Vi="facebook.com",Ui="github.com",Bi="google.com",qi="password",zi="twitter.com",Ki="EMAIL_SIGNIN",Wi="PASSWORD_RESET",Hi="RECOVER_EMAIL",Gi="REVERT_SECOND_FACTOR_ADDITION",Qi="VERIFY_AND_CHANGE_EMAIL",Xi="VERIFY_EMAIL";function Yi(){return Ue({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ji=function(){var e;return Ue(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ue(e,"argument-error",""),Ue(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ue(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ue(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ue(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ue(e,"cordova-not-ready","Cordova framework is not ready."),Ue(e,"cors-unsupported","This browser is not supported."),Ue(e,"credential-already-in-use","This credential is already associated with a different user account."),Ue(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ue(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ue(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ue(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ue(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ue(e,"email-already-in-use","The email address is already in use by another account."),Ue(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ue(e,"expired-action-code","The action code has expired."),Ue(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ue(e,"internal-error","An internal AuthError has occurred."),Ue(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ue(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ue(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ue(e,"invalid-auth-event","An internal AuthError has occurred."),Ue(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ue(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ue(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ue(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ue(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ue(e,"invalid-email","The email address is badly formatted."),Ue(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ue(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ue(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ue(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ue(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ue(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ue(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ue(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ue(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ue(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ue(e,"wrong-password","The password is invalid or the user does not have a password."),Ue(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ue(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ue(e,"invalid-provider-id","The specified provider ID is invalid."),Ue(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ue(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ue(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ue(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ue(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ue(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ue(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ue(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ue(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ue(e,"missing-continue-uri","A continue URL must be provided in the request."),Ue(e,"missing-iframe-start","An internal AuthError has occurred."),Ue(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ue(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ue(e,"missing-multi-factor-info","No second factor identifier is provided."),Ue(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ue(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ue(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ue(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ue(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ue(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ue(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ue(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ue(e,"no-auth-event","An internal AuthError has occurred."),Ue(e,"no-such-provider","User was not linked to an account with the given provider."),Ue(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ue(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ue(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ue(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ue(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ue(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ue(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ue(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ue(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ue(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ue(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ue(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ue(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ue(e,"timeout","The operation has timed out."),Ue(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ue(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ue(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ue(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ue(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ue(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ue(e,"unverified-email","The operation requires a verified email."),Ue(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ue(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ue(e,"user-disabled","The user account has been disabled by an administrator."),Ue(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ue(e,"user-signed-out",""),Ue(e,"weak-password","The password must be 6 characters long or more."),Ue(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ue(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Zi=Yi,$i=new Zn("auth","Firebase",Yi()),ea=new xr("@firebase/auth");function ta(e){if(ea.logLevel<=vr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ea.error.apply(ea,["Auth (".concat(ii,"): ").concat(e)].concat(n))}}function na(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw oa.apply(void 0,[e].concat(n))}function ra(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oa.apply(void 0,[e].concat(n))}function ia(e,t,n){var r=Object.assign(Object.assign({},Zi()),Ue({},t,n));return new Zn("auth","Firebase",r).create(t,{appName:e.name})}function aa(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&na(e,"argument-error"),ia(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function oa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=d(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(d(o)))}return $i.create.apply($i,[e].concat(n))}function ua(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw oa.apply(void 0,[t].concat(r))}}function sa(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ta(t),new Error(t)}function ca(e,t){e||sa(t)}var la=new Map;function fa(e){ca(e instanceof Function,"Expected a class definition");var t=la.get(e);return t?(ca(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,la.set(e,t),t)}function da(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ha(){return"http:"===pa()||"https:"===pa()}function pa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var va=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,ca(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())||zn()}return v(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ha()||qn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ma(e,t){ca(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ya=function(){function e(){h(this,e)}return v(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ga=(Ue(ji={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ue(ji,"MISSING_CUSTOM_TOKEN","internal-error"),Ue(ji,"INVALID_IDENTIFIER","invalid-email"),Ue(ji,"MISSING_CONTINUE_URI","internal-error"),Ue(ji,"INVALID_PASSWORD","wrong-password"),Ue(ji,"MISSING_PASSWORD","internal-error"),Ue(ji,"EMAIL_EXISTS","email-already-in-use"),Ue(ji,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ue(ji,"INVALID_IDP_RESPONSE","invalid-credential"),Ue(ji,"INVALID_PENDING_TOKEN","invalid-credential"),Ue(ji,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ue(ji,"MISSING_REQ_TYPE","internal-error"),Ue(ji,"EMAIL_NOT_FOUND","user-not-found"),Ue(ji,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ue(ji,"EXPIRED_OOB_CODE","expired-action-code"),Ue(ji,"INVALID_OOB_CODE","invalid-action-code"),Ue(ji,"MISSING_OOB_CODE","internal-error"),Ue(ji,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ue(ji,"INVALID_ID_TOKEN","invalid-user-token"),Ue(ji,"TOKEN_EXPIRED","user-token-expired"),Ue(ji,"USER_NOT_FOUND","user-token-expired"),Ue(ji,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ue(ji,"INVALID_CODE","invalid-verification-code"),Ue(ji,"INVALID_SESSION_INFO","invalid-verification-id"),Ue(ji,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ue(ji,"MISSING_SESSION_INFO","missing-verification-id"),Ue(ji,"SESSION_EXPIRED","code-expired"),Ue(ji,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ue(ji,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ue(ji,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ue(ji,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ue(ji,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ue(ji,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ue(ji,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ue(ji,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ue(ji,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ue(ji,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ue(ji,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ji),ka=new va(3e4,6e4);function ba(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function wa(e,t,n,r){return xa.apply(this,arguments)}function xa(){return xa=We(ze().mark((function e(t,n,r,i){var a,o=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ia(t,a,We(ze().mark((function e(){var a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ir(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ya.fetch()(Ta(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function Ia(e,t,n){return Ea.apply(this,arguments)}function Ea(){return Ea=We(ze().mark((function e(t,n,r){var i,a,o,u,s,c,f,d,h,p;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ga),n),e.prev=2,a=new Ca(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Na(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Na(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Na(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Na(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw ia(t,p,h);case 34:na(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Jn)){e.next=41;break}throw e.t0;case 41:na(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ea.apply(this,arguments)}function Sa(e,t,n,r){return _a.apply(this,arguments)}function _a(){return _a=We(ze().mark((function e(t,n,r,i){var a,o,u=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,wa(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&na(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function Ta(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ma(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ca=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ra(n.auth,"network-request-failed"))}),ka.get())}))}return v(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Na(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ra(e,t,r);return i.customData._tokenResponse=n,i}function Aa(e,t){return Da.apply(this,arguments)}function Da(){return(Da=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e,t){return Pa.apply(this,arguments)}function Pa(){return(Pa=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oa(e,t){return La.apply(this,arguments)}function La(){return(La=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(sM){}}function Fa(){return Fa=We(ze().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=lr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ua((a=Va(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ma(ja(a.auth_time)),issuedAtTime:Ma(ja(a.iat)),expirationTime:Ma(ja(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function ja(e){return 1e3*Number(e)}function Va(e){var t,n=l(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return ta("JWT malformed, contained fewer than 3 sections"),null;try{var o=jn(i);return o?JSON.parse(o):(ta("Failed to decode base64 JWT payload"),null)}catch(sM){return ta("Caught error parsing JWT payload as JSON",null===(t=sM)||void 0===t?void 0:t.toString()),null}}function Ua(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=We(ze().mark((function e(t,n){var r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Jn&&qa(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ba.apply(this,arguments)}function qa(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var za=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return v(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(We(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ka=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return v(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Wa(e){return Ha.apply(this,arguments)}function Ha(){return Ha=We(ze().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ua(t,Oa(r,{idToken:i}));case 6:ua(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Xa(o.providerUserInfo):[],s=Qa(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ka(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Ga(){return(Ga=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lr(t),e.next=3,Wa(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(d(n),d(t))}function Xa(e){return e.map((function(e){var t=e.providerId,n=Fi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ya(e,t){return Ja.apply(this,arguments)}function Ja(){return(Ja=We(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ia(t,{},We(ze().mark((function e(){var r,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ir({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ta(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ya.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Za=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return v(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ua(e.idToken,"internal-error"),ua("undefined"!==typeof e.idToken,"internal-error"),ua("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Va(e);return ua(t,"internal-error"),ua("undefined"!==typeof t.exp,"internal-error"),ua("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=We(ze().mark((function e(t){var n,r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ua(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=We(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return sa("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ua("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ua("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ua("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function $a(e,t){ua("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var eo=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Fi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new za(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?d(a.providerData):[],this.metadata=new Ka(a.createdAt||void 0,a.lastLoginAt||void 0)}return v(e,[{key:"getIdToken",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ua(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ua(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Fa.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ga.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ua(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ua(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=We(ze().mark((function e(t){var n,r,i=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Wa(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ua(this,Aa(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;ua(k&&I,t,"internal-error");var E=Za.fromJSON(this.name,I);ua("string"===typeof k,t,"internal-error"),$a(f,t.name),$a(d,t.name),ua("boolean"===typeof b,t,"internal-error"),ua("boolean"===typeof w,t,"internal-error"),$a(h,t.name),$a(p,t.name),$a(v,t.name),$a(m,t.name),$a(y,t.name),$a(g,t.name);var S=new e({uid:k,auth:t,email:d,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=We(ze().mark((function t(n,r){var i,a,o,u=arguments;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Za).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Wa(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),to=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return v(e,[{key:"_isAvailable",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();to.type="NONE";var no=to;function ro(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var io=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ro(this.userKey,a.apiKey,o),this.fullPersistenceKey=ro("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return v(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?eo._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=We(ze().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(fa(no),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||fa(no),u=ro(i,n.config.apiKey,n.name),s=null,c=On(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=eo._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ao(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(co(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fo(t))return"Blackberry";if(ho(t))return"Webos";if(uo(t))return"Safari";if((t.includes("chrome/")||so(t))&&!t.includes("edge/"))return"Chrome";if(lo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return/firefox\//i.test(e)}function uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function so(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return/crios\//i.test(e)}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return/iemobile/i.test(e)}function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return/android/i.test(e)}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return/blackberry/i.test(e)}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return/webos/i.test(e)}function po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vo(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return po(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function mo(){return Kn()&&10===document.documentMode}function yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return po(e)||lo(e)||ho(e)||fo(e)||/windows phone/i.test(e)||co(e)}function go(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ao(Un());break;case"Worker":t="".concat(ao(Un()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ii,"/").concat(r)}var ko=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return v(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(sM){r(sM)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=We(ze().mark((function e(t){var n,r,i,a,o,u,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=On(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=On(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bo=function(){function e(t,n,r){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xo(this),this.idTokenSubscription=new xo(this),this.beforeStateQueue=new ko(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$i,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return v(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=fa(t)),this._initializationPromise=this.queue(We(ze().mark((function r(){var i,a;return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,io.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=We(ze().mark((function e(t){var n,r,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ua(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wa(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?lr(t):null)&&ua(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=We(ze().mark((function e(t){var n,r=this,i=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ua(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(We(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(fa(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Zn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=We(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ua(n=t&&fa(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,io.create(this,[fa(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=We(ze().mark((function e(t){var n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ua(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ua(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=go(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=We(ze().mark((function e(){var t,n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wo(e){return lr(e)}var xo=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=ur((function(e){return n.observer=e}))}return v(e,[{key:"next",get:function(){return ua(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Io(e,t,n){var r=wo(e);ua(r._canInitEmulator,r,"emulator-config-failed"),ua(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Eo(t),o=function(e){var t=Eo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:So(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:So(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Eo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function So(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var _o=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return v(e,[{key:"toJSON",value:function(){return sa("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return sa("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return sa("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return sa("not implemented")}}]),e}();function To(e,t){return Co.apply(this,arguments)}function Co(){return(Co=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:resetPassword",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(e,t){return Ao.apply(this,arguments)}function Ao(){return(Ao=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t){return Ro.apply(this,arguments)}function Ro(){return(Ro=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:update",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e,t){return Oo.apply(this,arguments)}function Oo(){return(Oo=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithPassword",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lo(e,t){return Mo.apply(this,arguments)}function Mo(){return(Mo=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:sendOobCode",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fo(e,t){return jo.apply(this,arguments)}function jo(){return(jo=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vo(e,t){return Uo.apply(this,arguments)}function Uo(){return(Uo=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(e,t){return qo.apply(this,arguments)}function qo(){return(qo=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(e,t){return Ko.apply(this,arguments)}function Ko(){return(Ko=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithEmailLink",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Go(e,t){return Qo.apply(this,arguments)}function Qo(){return(Qo=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithEmailLink",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xo=function(e){y(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return v(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Po(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Wo(t,{email:this._email,oobCode:this._password}));case 5:na(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",No(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Go(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:na(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(_o);function Yo(e,t){return Jo.apply(this,arguments)}function Jo(){return(Jo=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithIdp",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zo=function(e){y(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return v(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Yo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ir(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):na("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Fi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(_o);function $o(e,t){return eu.apply(this,arguments)}function eu(){return(eu=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:sendVerificationCode",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tu(){return(tu=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithPhoneNumber",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(){return(nu=We(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa(t,"POST","/v1/accounts:signInWithPhoneNumber",ba(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Na(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ru=Ue({},"USER_NOT_FOUND","user-not-found");function iu(){return(iu=We(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithPhoneNumber",ba(t,r),ru));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var au=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return tu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return nu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return iu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(_o);var ou=function(){function e(t){var n,r,i,a,o,u;h(this,e);var s=ar(or(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ua(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return v(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ar(or(e)).link,n=t?ar(or(t)).deep_link_id:null,r=ar(or(e)).deep_link_id;return(r?ar(or(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(c_){return null}}}]),e}();var uu=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return v(e,null,[{key:"credential",value:function(e,t){return Xo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ou.parseLink(t);return ua(n,"argument-error"),Xo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();uu.PROVIDER_ID="password",uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var su=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return v(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),cu=function(e){y(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return v(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return d(this.scopes)}}]),n}(su),lu=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ua(e.idToken||e.accessToken,"argument-error"),Zo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ua("providerId"in t&&"signInMethod"in t,"argument-error"),Zo._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(sM){return null}}}]),n}(cu),fu=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.call(this,"facebook.com")}return v(n,null,[{key:"credential",value:function(e){return Zo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(c_){return null}}}]),n}(cu);fu.FACEBOOK_SIGN_IN_METHOD="facebook.com",fu.PROVIDER_ID="facebook.com";var du=function(e){y(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return v(n,null,[{key:"credential",value:function(e,t){return Zo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(c_){return null}}}]),n}(cu);du.GOOGLE_SIGN_IN_METHOD="google.com",du.PROVIDER_ID="google.com";var hu=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.call(this,"github.com")}return v(n,null,[{key:"credential",value:function(e){return Zo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(c_){return null}}}]),n}(cu);hu.GITHUB_SIGN_IN_METHOD="github.com",hu.PROVIDER_ID="github.com";var pu=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return v(n,[{key:"_getIdTokenResponse",value:function(e){return Yo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(_o),vu=function(e){y(n,e);var t=I(n);function n(e){return h(this,n),ua(e.startsWith("saml."),"argument-error"),t.call(this,e)}return v(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=pu.fromJSON(e);return ua(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return pu._create(r,n)}catch(sM){return null}}}]),n}(su),mu=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.call(this,"twitter.com")}return v(n,null,[{key:"credential",value:function(e,t){return Zo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(c_){return null}}}]),n}(cu);function yu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signUp",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}mu.TWITTER_SIGN_IN_METHOD="twitter.com",mu.PROVIDER_ID="twitter.com";var ku=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return v(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=We(ze().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,eo._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=bu(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=We(ze().mark((function t(n,r,i){var a;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=bu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function bu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function wu(){return wu=We(ze().mark((function e(t){var n,r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wo(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ku({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,yu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ku._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}var xu=function(e){y(n,e);var t=I(n);function n(e,r,i,a){var o,u;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return v(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Jn);function Iu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw xu._fromErrorAndOperation(e,n,t,r);throw n}))}function Eu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Su(e,t){return _u.apply(this,arguments)}function _u(){return _u=We(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr(t),e.next=3,Nu(!0,r,n);case 3:return e.t0=Ra,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Eu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function Tu(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=We(ze().mark((function e(t,n){var r,i,a=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ua,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ku._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Nu(e,t,n){return Au.apply(this,arguments)}function Au(){return(Au=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(n);case 2:i=Eu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ua(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=We(ze().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Ua(t,Iu(a,o,n,t),r);case 6:return ua((u=e.sent).idToken,a,"internal-error"),ua(s=Va(u.idToken),a,"internal-error"),c=s.sub,ua(t.uid===c,a,"user-mismatch"),e.abrupt("return",ku._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&na(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ru.apply(this,arguments)}function Pu(e,t){return Ou.apply(this,arguments)}function Ou(){return Ou=We(ze().mark((function e(t,n){var r,i,a,o,u=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Iu(t,i,n);case 4:return a=e.sent,e.next=7,ku._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Lu(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pu(wo(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t){return ju.apply(this,arguments)}function ju(){return(ju=We(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr(t),e.next=3,Nu(!1,r,n.providerId);case 3:return e.abrupt("return",Tu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Du(lr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bu(e,t){return qu.apply(this,arguments)}function qu(){return(qu=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithCustomToken",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(){return(zu=We(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wo(t),e.next=3,Bu(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ku._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ku=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return v(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Wu._fromServerResponse(e,t):na(e,"internal-error")}}]),e}(),Wu=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return v(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ku);function Hu(e,t,n){var r;ua((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ua("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ua(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ua(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gu(){return(Gu=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),a={requestType:"PASSWORD_RESET",email:n},r&&Hu(i,a,r),e.next=5,Vo(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qu(){return(Qu=We(ze().mark((function e(t,n,r){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To(lr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xu(){return(Xu=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(lr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e,t){return Ju.apply(this,arguments)}function Ju(){return(Ju=We(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr(t),e.next=3,To(r,{oobCode:n});case 3:i=e.sent,ua(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ua(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ua(i.mfaInfo,r,"internal-error");case 13:ua(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ku._fromServerResponse(wo(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(){return(Zu=We(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu(lr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $u(e,t,n){return es.apply(this,arguments)}function es(){return(es=We(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wo(t),e.next=3,yu(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ku._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(){return(ts=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),a={requestType:"EMAIL_SIGNIN",email:n},ua(r.handleCodeInApp,i,"argument-error"),r&&Hu(i,a,r),e.next=6,Bo(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(){return(ns=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),ua((a=uu.credentialWithLink(n,r||da()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Lu(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return(is=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:createAuthUri",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function as(){return(as=We(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ha()?da():"http://localhost",i={identifier:n,continueUri:r},e.next=4,rs(lr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(){return(os=We(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Hu(r.auth,a,n),e.next=8,Fo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function us(){return(us=We(ze().mark((function e(t,n,r){var i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Hu(i.auth,o,r),e.next=8,zo(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return(cs=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(){return(ls=We(ze().mark((function e(t,n){var r,i,a,o,u,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=lr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ua(a,ss(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t,n){return ds.apply(this,arguments)}function ds(){return(ds=We(ze().mark((function e(t,n,r){var i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ua(t,No(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hs=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ps=function(e){y(n,e);var t=I(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return v(n)}(hs),vs=function(e){y(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return v(n)}(hs),ms=function(e){y(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return v(n)}(ps),ys=function(e){y(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return v(n)}(hs),gs=function(e){y(n,e);var t=I(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return v(n)}(ps);function ks(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Va(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new hs(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new vs(a,i);case"github.com":return new ms(a,i);case"google.com":return new ys(a,i);case"twitter.com":return new gs(a,i,e.screenName||null);case"custom":case"anonymous":return new hs(a,null);default:return new hs(a,r,i)}}(n)}var bs=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.auth=r}return v(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ue({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ws=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return v(e,[{key:"resolveSignIn",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=wo(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ku._fromServerResponse(r,e)}));ua(i.mfaPendingCredential,r,"internal-error");var o=bs._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=We(ze().mark((function e(t){var a,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ku._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ua(n.user,r,"internal-error"),e.abrupt("return",ku._forOperation(n.user,n.operationType,u));case 17:na(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function xs(e,t){return wa(e,"POST","/v2/accounts/mfaEnrollment:start",ba(e,t))}var Is=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ku._fromServerResponse(t.auth,e)})))}))}return v(e,[{key:"getSession",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=bs,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=We(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ua(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=We(ze().mark((function e(t){var n,r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Ua(this.user,wa(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",ba(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Es=new WeakMap;var Ss="__sak",_s=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return v(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ss,"1"),this.storage.removeItem(Ss),Promise.resolve(!0)):Promise.resolve(!1)}catch(c_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ts=function(e){y(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Un();return uo(e)||po(e)}()&&function(){try{return!(!window||window===window.top)}catch(sM){return!1}}(),e.fallbackToPolling=yo(),e._shouldAllowMigration=!0,e}return v(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);mo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=We(ze().mark((function e(t,r){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(g(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=We(ze().mark((function e(t){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(g(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(g(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(_s);Ts.type="LOCAL";var Cs=Ts,Ns=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return v(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(_s);Ns.type="SESSION";var As=Ns;function Ds(e){return Promise.all(e.map(function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Rs=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return v(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=We(ze().mark((function e(t){var n,r,i,a,o,u,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ds(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ps(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rs.receivers=[];var Os=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return v(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=We(ze().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Ps("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ls(){return window}function Ms(){return"undefined"!==typeof Ls().WorkerGlobalScope&&"function"===typeof Ls().importScripts}function Fs(){return js.apply(this,arguments)}function js(){return(js=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Vs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Us="firebaseLocalStorageDb",Bs="firebaseLocalStorage",qs="fbase_key",zs=function(){function e(t){h(this,e),this.request=t}return v(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ks(e,t){return e.transaction([Bs],t?"readwrite":"readonly").objectStore(Bs)}function Ws(){var e=indexedDB.deleteDatabase(Us);return new zs(e).toPromise()}function Hs(){var e=indexedDB.open(Us,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Bs,{keyPath:qs})}catch(sM){n(sM)}})),e.addEventListener("success",We(ze().mark((function n(){var r;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Bs)){n.next=12;break}return r.close(),n.next=5,Ws();case 5:return n.t0=t,n.next=8,Hs();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Gs(e,t,n){return Qs.apply(this,arguments)}function Qs(){return Qs=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ks(t,!0).put((Ue(i={},qs,n),Ue(i,"value",r),i)),e.abrupt("return",new zs(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function Xs(e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=We(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t,!1).get(n),e.next=3,new zs(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Js(e,t){var n=Ks(e,!0).delete(t);return new zs(n).toPromise()}var Zs=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return v(e,[{key:"_openDb",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Hs();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ms()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=We(ze().mark((function e(){var t=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Rs._getInstance(Ms()?self:null),this.receiver._subscribe("keyChanged",function(){var e=We(ze().mark((function e(n,r){var i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=We(ze().mark((function e(){var t,n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fs();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Os(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Vs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Hs();case 5:return t=e.sent,e.next=8,Gs(t,Ss,"1");case 8:return e.next=10,Js(t,Ss);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=We(ze().mark((function e(t,n){var r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Gs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Xs(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=We(ze().mark((function e(t){var n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Js(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=We(ze().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ks(e,!1).getAll();return new zs(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=On(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(We(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Zs.type="LOCAL";var $s=Zs;function ec(e,t){return wa(e,"POST","/v2/accounts/mfaSignIn:start",ba(e,t))}function tc(e){return nc.apply(this,arguments)}function nc(){return(nc=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ra("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ic(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ac=1e12,oc=function(){function e(t){h(this,e),this.auth=t,this.counter=ac,this._widgets=new Map}return v(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new uc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ac;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ac;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ac,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),uc=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ua(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return v(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(sM){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(sM){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var sc=ic("rcb"),cc=new va(3e4,6e4),lc="https://www.google.com/recaptcha/api.js?",fc=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ls().grecaptcha)||void 0===t?void 0:t.render)}return v(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ua(dc(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ls().grecaptcha):new Promise((function(r,i){var a=Ls().setTimeout((function(){i(ra(e,"network-request-failed"))}),cc.get());Ls()[sc]=function(){Ls().clearTimeout(a),delete Ls()[sc];var o=Ls().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ra(e,"internal-error"))},rc("".concat(lc,"?").concat(ir({onload:sc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ra(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ls().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function dc(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var hc=function(){function e(){h(this,e)}return v(e,[{key:"load",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new oc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),pc="recaptcha",vc={theme:"light",type:"image"},mc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},vc),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=pc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wo(r),this.isInvisible="invisible"===this.parameters.size,ua("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ua(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hc:new fc,this.validateStartingState()}return v(e,[{key:"verify",value:function(){var e=We(ze().mark((function e(){var t,n,r,i=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(sM){return Promise.reject(sM)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ua(!this.parameters.sitekey,this.auth,"argument-error"),ua(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ua("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ls()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ua(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=We(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ua(ha()&&!Ms(),this.auth,"internal-error"),e.next=3,yc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,tc(this.auth);case 8:ua(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ua(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function yc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var gc=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return v(e,[{key:"confirm",value:function(e){var t=au._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function kc(){return(kc=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wo(t),e.next=3,Ic(i,n,lr(r));case 3:return a=e.sent,e.abrupt("return",new gc(a,(function(e){return Lu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bc(e,t,n){return wc.apply(this,arguments)}function wc(){return(wc=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),e.next=3,Nu(!1,i,"phone");case 3:return e.next=5,Ic(i.auth,n,lr(r));case 5:return a=e.sent,e.abrupt("return",new gc(a,(function(e){return Fu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(){return(xc=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),e.next=3,Ic(i.auth,n,lr(r));case 3:return a=e.sent,e.abrupt("return",new gc(a,(function(e){return Vu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e,t,n){return Ec.apply(this,arguments)}function Ec(){return Ec=We(ze().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ua("string"===typeof a,t,"argument-error"),ua(r.type===pc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ua("enroll"===u.type,t,"internal-error"),e.next=13,xs(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ua("signin"===u.type,t,"internal-error"),ua(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ec(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,$o(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ec.apply(this,arguments)}function Sc(){return(Sc=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tu(lr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _c=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=wo(t)}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ic(this.auth,e,lr(t))}}],[{key:"credential",value:function(e,t){return au._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?au._fromTokenResponse(n,r):null}}]),e}();function Tc(e,t){return t?fa(t):(ua(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}_c.PROVIDER_ID="phone",_c.PHONE_SIGN_IN_METHOD="phone";var Cc=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return Yo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Yo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Yo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(_o);function Nc(e){return Pu(e.auth,new Cc(e),e.bypassAuthState)}function Ac(e){var t=e.auth,n=e.user;return ua(n,t,"internal-error"),Du(n,new Cc(e),e.bypassAuthState)}function Dc(e){return Rc.apply(this,arguments)}function Rc(){return(Rc=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ua(r=t.user,n,"internal-error"),e.abrupt("return",Tu(r,new Cc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return v(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=We(ze().mark((function t(n,r){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=We(ze().mark((function e(t){var n,r,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nc;case"linkViaPopup":case"linkViaRedirect":return Dc;case"reauthViaPopup":case"reauthViaRedirect":return Ac;default:na(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Oc=new va(2e3,1e4);function Lc(e,t,n){return Mc.apply(this,arguments)}function Mc(){return(Mc=We(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wo(t),aa(t,n,su),a=Tc(i,r),o=new Uc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(){return(Fc=We(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aa((i=lr(t)).auth,n,su),a=Tc(i.auth,r),o=new Uc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e,t,n){return Vc.apply(this,arguments)}function Vc(){return(Vc=We(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aa((i=lr(t)).auth,n,su),a=Tc(i.auth,r),o=new Uc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uc=function(e){y(n,e);var t=I(n);function n(e,r,i,a,o){var u;return h(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(u),u}return v(n,[{key:"executeNotNull",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ua(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=We(ze().mark((function e(){var t,n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ca(1===this.filter.length,"Popup operations only handle one event"),t=Ps(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ra(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ra(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ra(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Oc.get())}()}}]),n}(Pc);Uc.currentPopupAction=null;var Bc=new Map,qc=function(e){y(n,e);var t=I(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return v(n,[{key:"execute",value:function(){var e=We(ze().mark((function e(){var t,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Bc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Mi(g(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Bc.set(this.auth._key(),t);case 21:return this.bypassAuthState||Bc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=We(ze().mark((function e(t){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Mi(g(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Mi(g(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Pc);function zc(e,t){return Kc.apply(this,arguments)}function Kc(){return(Kc=We(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xc(n),i=Qc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(e,t){return Hc.apply(this,arguments)}function Hc(){return(Hc=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qc(t)._set(Xc(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gc(e,t){Bc.set(e._key(),t)}function Qc(e){return fa(e._redirectPersistence)}function Xc(e){return ro("pendingRedirect",e.config.apiKey,e.name)}function Yc(e,t,n){return function(e,t,n){return Jc.apply(this,arguments)}(e,t,n)}function Jc(){return(Jc=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wo(t),aa(t,n,su),a=Tc(i,r),e.next=5,Wc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(e,t,n){return function(e,t,n){return $c.apply(this,arguments)}(e,t,n)}function $c(){return($c=We(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aa((i=lr(t)).auth,n,su),a=Tc(i.auth,r),e.next=5,Wc(a,i.auth);case 5:return e.next=7,ol(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t,n){return function(e,t,n){return tl.apply(this,arguments)}(e,t,n)}function tl(){return(tl=We(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aa((i=lr(t)).auth,n,su),a=Tc(i.auth,r),e.next=5,Nu(!1,i,n.providerId);case 5:return e.next=7,Wc(a,i.auth);case 7:return e.next=9,ol(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e,t){return rl.apply(this,arguments)}function rl(){return(rl=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(t)._initializationPromise;case 2:return e.abrupt("return",il(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function il(e,t){return al.apply(this,arguments)}function al(){return al=We(ze().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=wo(t),a=Tc(i,n),o=new qc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(e){return ul.apply(this,arguments)}function ul(){return(ul=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ps("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sl=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return v(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ll(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ll(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ra(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(cl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function cl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ll(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function fl(e){return dl.apply(this,arguments)}function dl(){return dl=We(ze().mark((function e(t){var n,r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",wa(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),dl.apply(this,arguments)}var hl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pl=/^https?/;function vl(){return(vl=We(ze().mark((function e(t){var n,r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fl(t);case 4:n=e.sent,r=n.authorizedDomains,i=On(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ml(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:na(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function ml(e){var t=da(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!pl.test(r))return!1;if(hl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var yl=new va(3e4,6e4);function gl(){var e=Ls().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=d(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var kl=null;function bl(e){return kl=kl||function(e){return new Promise((function(t,n){var r,i,a;function o(){gl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){gl(),n(ra(e,"network-request-failed"))},timeout:yl.get()})}if(null===(i=null===(r=Ls().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ls().gapi)||void 0===a?void 0:a.load)){var u=ic("iframefcb");return Ls()[u]=function(){gapi.load?o():n(ra(e,"network-request-failed"))},rc("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw kl=null,e}))}(e),kl}var wl=new va(5e3,15e3),xl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Il=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function El(e){var t=e.config;ua(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ma(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ii},i=Il.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ir(r).slice(1))}function Sl(e){return _l.apply(this,arguments)}function _l(){return _l=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bl(t);case 2:return n=e.sent,ua(r=Ls().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:El(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xl,dontclear:!0},(function(e){return new Promise(function(){var n=We(ze().mark((function n(r,i){var a,o,u;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ls().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ra(t,"network-request-failed"),o=Ls().setTimeout((function(){i(a)}),wl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}var Tl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cl="_blank",Nl="http://localhost",Al=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return v(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(sM){}}}]),e}();function Dl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Tl),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Un().toLowerCase();n&&(u=so(c)?Cl:n),oo(c)&&(t=t||Nl,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(vo(c)&&"_self"!==u)return Rl(t||"",u),new Al(null);var d=window.open(t||"",u,f);ua(d,e,"popup-blocked");try{d.focus()}catch(sM){}return new Al(d)}function Rl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Pl="__/auth/handler",Ol="emulator/auth/handler";function Ll(e,t,n,r,i,a){ua(e.config.authDomain,e,"auth-domain-config-required"),ua(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ii,eventId:i};if(t instanceof su){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],d=c[1];o[f]=d}}if(t instanceof cu){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Pl);return ma(t,Ol)}(e),"?").concat(ir(p).slice(1))}var Ml="webStorageSupport",Fl=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=il,this._overrideRedirectResult=Gc}return v(e,[{key:"_openPopup",value:function(){var e=We(ze().mark((function e(t,n,r,i){var a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ca(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ll(t,n,r,da(),i),e.abrupt("return",Dl(t,o,Ps()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=We(ze().mark((function e(t,n,r,i){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ll(t,n,r,da(),i),Ls().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ca(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sl(t);case 2:return n=e.sent,r=new sl(t),n.register("authEvent",(function(e){return ua(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ml,{type:Ml},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),na(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return yo()||uo()||po()}}]),e}(),jl=Fl,Vl=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return v(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return wa(e,"POST","/v2/accounts/mfaEnrollment:finalize",ba(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return wa(e,"POST","/v2/accounts/mfaSignIn:finalize",ba(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){h(this,e),this.factorId=t}return v(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return sa("unexpected MultiFactorSessionType")}}}]),e}()),Ul=function(){function e(){h(this,e)}return v(e,null,[{key:"assertion",value:function(e){return Vl._fromCredential(e)}}]),e}();Ul.FACTOR_ID="phone";var Bl="@firebase/auth",ql="0.20.11",zl=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return v(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ua(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Kl;!function(e){var t;null===(t=Gn())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Wl(){return window}Kl="Browser",Jr(new fr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ua(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ua(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Kl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:go(Kl)},i=new bo(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fa);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Jr(new fr("auth-internal",(function(e){return function(e){return new zl(e)}(wo(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),li(Bl,ql,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Kl)),li(Bl,ql,"esm2017");function Hl(e,t,n){return Gl.apply(this,arguments)}function Gl(){return Gl=We(ze().mark((function e(t,n,r){var i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wl(),o=a.BuildInfo,ca(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,$l(n.sessionId);case 4:return u=e.sent,s={},po()?s.ibi=o.packageName:lo()?s.apn=o.packageName:na(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Ll(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Ql(){return(Ql=We(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wl(),r=n.BuildInfo,i={},po()?i.iosBundleId=r.packageName:lo()?i.androidPackageName=r.packageName:na(t,"operation-not-supported-in-this-environment"),e.next=5,fl(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xl(e){var t=Wl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Yl(e,t,n){return Jl.apply(this,arguments)}function Jl(){return Jl=We(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(ra(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),lo()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Jl.apply(this,arguments)}function Zl(e){var t,n,r,i,a,o,u,s,c,l,f=Wl();ua("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ua("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ua("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ua("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ua("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function $l(e){return ef.apply(this,arguments)}function ef(){return(ef=We(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e){if(ca(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var nf=function(e){y(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return v(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Mi(g(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(sl);function rf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:cf(),postBody:null,tenantId:e.tenantId,error:ra(e,"no-auth-event")}}function af(e,t){return lf()._set(ff(e),t)}function of(e){return uf.apply(this,arguments)}function uf(){return(uf=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lf()._get(ff(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,lf()._remove(ff(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sf(e,t){var n,r,i=function(e){var t=df(e),n=t.link?decodeURIComponent(t.link):void 0,r=df(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return df(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=df(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(sM){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ra(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function cf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function lf(){return fa(Cs)}function ff(e){return ro("authEvent",e.config.apiKey,e.name)}function df(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||f(t)||s(t)||c();r[0];return ar(r.slice(1).join("?"))}var hf=function(){function e(){h(this,e),this._redirectPersistence=As,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=il,this._overrideRedirectResult=Gc}return v(e,[{key:"_initialize",value:function(){var e=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new nf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){na(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=We(ze().mark((function e(t,n,r,i){var a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Bc.clear(),e.next=10,this._originValidation(t);case 10:return o=rf(t,r,i),e.next=13,af(t,o);case 13:return e.next=15,Hl(t,o,n);case 15:return u=e.sent,e.next=18,Xl(u);case 18:return s=e.sent,e.abrupt("return",Yl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ql.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Wl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(We(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,of(e);case 2:t.onEvent(vf());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=We(ze().mark((function n(r){var i,a;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,of(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=sf(i,r.url)),t.onEvent(a||vf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Wl().handleOpenURL=function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(sM){console.error(sM)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),pf=hf;function vf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ra("no-auth-event")}}function mf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function yf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return!("file:"!==mf()&&"ionic:"!==mf()&&"capacitor:"!==mf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function gf(){return Kn()&&11===(null===document||void 0===document?void 0:document.documentMode)}function kf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return/Edge\/\d+/.test(e)}function bf(){try{var e=self.localStorage,t=Ps();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un();return gf()||kf(e)}()||Wn()}catch(sM){return wf()&&Wn()}return!1}function wf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function xf(){return("http:"===mf()||"https:"===mf()||qn()||yf())&&!(zn()||Bn())&&bf()&&!wf()}function If(){return yf()&&"undefined"!==typeof document}function Ef(){return Sf.apply(this,arguments)}function Sf(){return(Sf=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(If()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _f={LOCAL:"local",NONE:"none",SESSION:"session"},Tf=ua,Cf="persistence";function Nf(e,t){Tf(Object.values(_f).includes(t),e,"invalid-persistence-type"),zn()?Tf(t!==_f.SESSION,e,"unsupported-persistence-type"):Bn()?Tf(t===_f.NONE,e,"unsupported-persistence-type"):wf()?Tf(t===_f.NONE||t===_f.LOCAL&&Wn(),e,"unsupported-persistence-type"):Tf(t===_f.NONE||bf(),e,"unsupported-persistence-type")}function Af(e){return Df.apply(this,arguments)}function Df(){return(Df=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Rf(),r=ro(Cf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(sM){return null}}var Pf=ua,Of=function(){function e(){h(this,e),this.browserResolver=fa(jl),this.cordovaResolver=fa(pf),this.underlyingResolver=null,this._redirectPersistence=As,this._completeRedirectFn=il,this._overrideRedirectResult=Gc}return v(e,[{key:"_initialize",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=We(ze().mark((function e(t,n,r,i){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=We(ze().mark((function e(t,n,r,i){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return If()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Pf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ef();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Lf(e){return e.unwrap()}function Mf(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Bf(e,function(e,t){var n,r=lr(e),i=t;return ua(t.customData.operationType,r,"argument-error"),ua(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ws._fromError(r,i)}(e,t));else if(i){var a=Ff(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Ff(e){var t=(e instanceof Jn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Jn)&&"temporaryProof"in t&&"phoneNumber"in t)return _c.credentialFromResult(e);var n,r=t.providerId;if(!r||r===qi)return null;switch(r){case Bi:n=du;break;case Vi:n=fu;break;case Ui:n=hu;break;case zi:n=mu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?pu._create(r,u):Zo._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new lu(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Jn?n.credentialFromError(e):n.credentialFromResult(e)}function jf(e,t){return t.catch((function(t){throw t instanceof Jn&&Mf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Ff(t)),additionalUserInfo:ks(e),user:qf.getOrCreate(r)}}))}function Vf(e,t){return Uf.apply(this,arguments)}function Uf(){return(Uf=We(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return jf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bf=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return v(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return jf(Lf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),qf=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=lr(e);return Es.has(t)||Es.set(t,Is._fromUser(t)),Es.get(t)}(t)}return v(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(this.auth,Fu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vf(this.auth,bc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(this.auth,jc(this._delegate,t,Of)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Af(wo(this.auth));case 2:return e.abrupt("return",el(this._delegate,t,Of));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(this.auth,Vu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Vf(this.auth,function(e,t,n){return xc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return jf(this.auth,function(e,t,n){return Fc.apply(this,arguments)}(this._delegate,e,Of))}},{key:"reauthenticateWithRedirect",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Af(wo(this.auth));case 2:return e.abrupt("return",Zc(this._delegate,t,Of));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return os.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Su(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return fs(lr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return fs(lr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Sc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ls.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return us.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();qf.USER_MAP=new WeakMap;var zf=ua,Kf=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;zf(r,"invalid-api-key",{appName:t.name}),zf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Of:void 0;this._delegate=n.initialize({options:{persistence:Hf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ji),this.linkUnderlyingAuth()}return v(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?qf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Io(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Xu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Yu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Qu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(this._delegate,$u(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return as.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ou.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zf(xf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,nl(this._delegate,Of);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",jf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){wo(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Wf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Wf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ts.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Gu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nf(this._delegate,t),e.t0=t,e.next=e.t0===_f.SESSION?4:e.t0===_f.LOCAL?6:e.t0===_f.NONE?11:13;break;case 4:return n=As,e.abrupt("break",14);case 6:return e.next=8,fa($s)._isAvailable();case 8:return r=e.sent,n=r?$s:Cs,e.abrupt("break",14);case 11:return n=no,e.abrupt("break",14);case 13:return e.abrupt("return",na("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return jf(this._delegate,function(e){return wu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return jf(this._delegate,Lu(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return jf(this._delegate,function(e,t){return zu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return jf(this._delegate,function(e,t,n){return Lu(lr(e),uu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return jf(this._delegate,function(e,t,n){return ns.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Vf(this._delegate,function(e,t,n){return kc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zf(xf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",jf(this._delegate,Lc(this._delegate,t,Of)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zf(xf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Af(this._delegate);case 3:return e.abrupt("return",Yc(this._delegate,t,Of));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Zu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Wf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&qf.getOrCreate(e))},error:t,complete:n}}function Hf(e,t){var n=function(e,t){var n=Rf();if(!n)return[];var r=ro(Cf,e,t);switch(n.getItem(r)){case _f.NONE:return[no];case _f.LOCAL:return[$s,As];case _f.SESSION:return[As];default:return[]}}(e,t);if("undefined"===typeof self||n.includes($s)||n.push($s),"undefined"!==typeof window)for(var r=0,i=[Cs,As];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(no)||n.push(no),n}Kf.Persistence=_f;var Gf=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new _c(Lf(Oi.auth()))}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return _c.credential(e,t)}}]),e}();Gf.PHONE_SIGN_IN_METHOD=_c.PHONE_SIGN_IN_METHOD,Gf.PROVIDER_ID=_c.PROVIDER_ID;var Qf,Xf=ua,Yf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oi.app();h(this,e),Xf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new mc(t,n,i.auth()),this.type=this._delegate.type}return v(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Qf=Oi).INTERNAL.registerComponent(new fr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Kf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ki,PASSWORD_RESET:Wi,RECOVER_EMAIL:Hi,REVERT_SECOND_FACTOR_ADDITION:Gi,VERIFY_AND_CHANGE_EMAIL:Qi,VERIFY_EMAIL:Xi}},EmailAuthProvider:uu,FacebookAuthProvider:fu,GithubAuthProvider:hu,GoogleAuthProvider:du,OAuthProvider:lu,SAMLAuthProvider:vu,PhoneAuthProvider:Gf,PhoneMultiFactorGenerator:Ul,RecaptchaVerifier:Yf,TwitterAuthProvider:mu,Auth:Kf,AuthCredential:_o,Error:Jn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Qf.registerVersion("@firebase/auth-compat","0.2.24");var Jf,Zf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},$f={},ed=ed||{},td=Zf||self;function nd(){}function rd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function id(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ad="closure_uid_"+(1e9*Math.random()>>>0),od=0;function ud(e,t,n){return e.call.apply(e.bind,arguments)}function sd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function cd(e,t,n){return(cd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ud:sd).apply(null,arguments)}function ld(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function fd(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function dd(){this.s=this.s,this.o=this.o}dd.prototype.s=!1,dd.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ad)&&e[ad]||(e[ad]=++od))},dd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function pd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function vd(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(rd(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function md(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}md.prototype.h=function(){this.defaultPrevented=!0};var yd=function(){if(!td.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{td.addEventListener("test",nd,t),td.removeEventListener("test",nd,t)}catch(n){}return e}();function gd(e){return/^[\s\xa0]*$/.test(e)}var kd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function bd(e,t){return e<t?-1:e>t?1:0}function wd(){var e=td.navigator;return e&&(e=e.userAgent)?e:""}function xd(e){return-1!=wd().indexOf(e)}function Id(e){return Id[" "](e),e}Id[" "]=nd;var Ed,Sd=xd("Opera"),_d=xd("Trident")||xd("MSIE"),Td=xd("Edge"),Cd=Td||_d,Nd=xd("Gecko")&&!(-1!=wd().toLowerCase().indexOf("webkit")&&!xd("Edge"))&&!(xd("Trident")||xd("MSIE"))&&!xd("Edge"),Ad=-1!=wd().toLowerCase().indexOf("webkit")&&!xd("Edge");function Dd(){var e=td.document;return e?e.documentMode:void 0}e:{var Rd="",Pd=function(){var e=wd();return Nd?/rv:([^\);]+)(\)|;)/.exec(e):Td?/Edge\/([\d\.]+)/.exec(e):_d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ad?/WebKit\/(\S+)/.exec(e):Sd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Pd&&(Rd=Pd?Pd[1]:""),_d){var Od=Dd();if(null!=Od&&Od>parseFloat(Rd)){Ed=String(Od);break e}}Ed=Rd}var Ld,Md={};function Fd(){return function(e){var t=Md;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=kd(String(Ed)).split("."),n=kd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=bd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||bd(0==a[2].length,0==o[2].length)||bd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(td.document&&_d){var jd=Dd();Ld=jd||(parseInt(Ed,10)||void 0)}else Ld=void 0;var Vd=Ld;function Ud(e,t){if(md.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Nd){e:{try{Id(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Bd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ud.X.h.call(this)}}fd(Ud,md);var Bd={2:"touch",3:"pen",4:"mouse"};Ud.prototype.h=function(){Ud.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qd="closure_listenable_"+(1e6*Math.random()|0),zd=0;function Kd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++zd,this.ba=this.ea=!1}function Wd(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Hd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Gd(e){var t={};for(var n in e)t[n]=e[n];return t}var Qd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Qd.length;a++)n=Qd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yd(e){this.src=e,this.g={},this.h=0}function Jd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Wd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Zd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Yd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Zd(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Kd(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var $d="closure_lm_"+(1e6*Math.random()|0),eh={};function th(e,t,n,r,i){if(r&&r.once)return rh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)th(e,t[a],n,r,i);return null}return n=lh(n),e&&e[qd]?e.N(t,n,id(r)?!!r.capture:!!r,i):nh(e,t,n,!1,r,i)}function nh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=id(i)?!!i.capture:!!i,u=sh(e);if(u||(e[$d]=u=new Yd(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=uh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function rh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)rh(e,t[a],n,r,i);return null}return n=lh(n),e&&e[qd]?e.O(t,n,id(r)?!!r.capture:!!r,i):nh(e,t,n,!0,r,i)}function ih(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ih(e,t[a],n,r,i);else r=id(r)?!!r.capture:!!r,n=lh(n),e&&e[qd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Zd(a=e.g[t],n,r,i))&&(Wd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=sh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zd(t,n,r,i)),(n=-1<e?t[e]:null)&&ah(n))}function ah(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[qd])Jd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sh(t))?(Jd(n,e),0==n.h&&(n.src=null,t[$d]=null)):Wd(e)}}}function oh(e){return e in eh?eh[e]:eh[e]="on"+e}function uh(e,t){if(e.ba)e=!0;else{t=new Ud(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ah(e),e=n.call(r,t)}return e}function sh(e){return(e=e[$d])instanceof Yd?e:null}var ch="__closure_events_fn_"+(1e9*Math.random()>>>0);function lh(e){return"function"===typeof e?e:(e[ch]||(e[ch]=function(t){return e.handleEvent(t)}),e[ch])}function fh(){dd.call(this),this.i=new Yd(this),this.P=this,this.I=null}function dh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new md(t,e);else if(t instanceof md)t.target=t.target||e;else{var i=t;Xd(t=new md(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=hh(o,r,!0,t)&&i}if(i=hh(o=t.g=e,r,!0,t)&&i,i=hh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=hh(o=t.g=n[a],r,!1,t)&&i}function hh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Jd(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}fd(fh,dd),fh.prototype[qd]=!0,fh.prototype.removeEventListener=function(e,t,n,r){ih(this,e,t,n,r)},fh.prototype.M=function(){if(fh.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wd(n[r]);delete t.g[e],t.h--}}this.I=null},fh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},fh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ph=td.JSON.stringify;function vh(){var e=Ih,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var mh,yh=function(){function e(){h(this,e),this.h=this.g=null}return v(e,[{key:"add",value:function(e,t){var n=gh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),gh=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return v(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new kh}),(function(e){return e.reset()})),kh=function(){function e(){h(this,e),this.next=this.g=this.h=null}return v(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function bh(e){td.setTimeout((function(){throw e}),0)}function wh(e,t){mh||function(){var e=td.Promise.resolve(void 0);mh=function(){e.then(Eh)}}(),xh||(mh(),xh=!0),Ih.add(e,t)}var xh=!1,Ih=new yh;function Eh(){for(var e;e=vh();){try{e.h.call(e.g)}catch(n){bh(n)}var t=gh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xh=!1}function Sh(e,t){fh.call(this),this.h=e||1,this.g=t||td,this.j=cd(this.lb,this),this.l=Date.now()}function _h(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Th(e,t,n){if("function"===typeof e)n&&(e=cd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=cd(e.handleEvent,e)}return 2147483647<Number(t)?-1:td.setTimeout(e,t||0)}function Ch(e){e.g=Th((function(){e.g=null,e.i&&(e.i=!1,Ch(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}fd(Sh,fh),(Jf=Sh.prototype).ca=!1,Jf.R=null,Jf.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),dh(this,"tick"),this.ca&&(_h(this),this.start()))}},Jf.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jf.M=function(){Sh.X.M.call(this),_h(this),delete this.g};var Nh=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return v(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ch(this)}},{key:"M",value:function(){Mi(g(n.prototype),"M",this).call(this),this.g&&(td.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(dd);function Ah(e){dd.call(this),this.h=e,this.g={}}fd(Ah,dd);var Dh=[];function Rh(e,t,n,r){Array.isArray(n)||(n&&(Dh[0]=n.toString()),n=Dh);for(var i=0;i<n.length;i++){var a=th(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ph(e){Hd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ah(e)}),e),e.g={}}function Oh(){this.g=!0}function Lh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ph(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ah.prototype.M=function(){Ah.X.M.call(this),Ph(this)},Ah.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oh.prototype.Aa=function(){this.g=!1},Oh.prototype.info=function(){};var Mh={},Fh=null;function jh(){return Fh=Fh||new fh}function Vh(e){md.call(this,Mh.Pa,e)}function Uh(e){var t=jh();dh(t,new Vh(t))}function Bh(e,t){md.call(this,Mh.STAT_EVENT,e),this.stat=t}function qh(e){var t=jh();dh(t,new Bh(t,e))}function zh(e,t){md.call(this,Mh.Qa,e),this.size=t}function Kh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return td.setTimeout((function(){e()}),t)}Mh.Pa="serverreachability",fd(Vh,md),Mh.STAT_EVENT="statevent",fd(Bh,md),Mh.Qa="timingevent",fd(zh,md);var Wh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Hh={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Gh(){}function Qh(e){return e.h||(e.h=e.i())}function Xh(){}Gh.prototype.h=null;var Yh,Jh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zh(){md.call(this,"d")}function $h(){md.call(this,"c")}function ep(){}function tp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ah(this),this.O=rp,e=Cd?125:void 0,this.T=new Sh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new np}function np(){this.i=null,this.g="",this.h=!1}fd(Zh,md),fd($h,md),fd(ep,Gh),ep.prototype.g=function(){return new XMLHttpRequest},ep.prototype.i=function(){return{}},Yh=new ep;var rp=45e3,ip={},ap={};function op(e,t,n){e.K=1,e.v=Sp(bp(t)),e.s=n,e.P=!0,up(e,null)}function up(e,t){e.F=Date.now(),fp(e),e.A=bp(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),jp(n.i,"t",r),e.C=0,n=e.l.H,e.h=new np,e.g=Vv(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Nh(cd(e.La,e,e.g),e.N)),Rh(e.S,e.g,"readystatechange",e.ib),t=e.H?Gd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Uh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function sp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function cp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=lp(e,n))==ap){4==t&&(e.o=4,qh(14),i=!1),Lh(e.j,e.m,null,"[Incomplete Response]");break}if(r==ip){e.o=4,qh(15),Lh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Lh(e.j,e.m,r,null),mp(e,r)}sp(e)&&r!=ap&&r!=ip&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,qh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dv(t),t.K=!0,qh(11))):(Lh(e.j,e.m,n,"[Invalid Chunked Response]"),vp(e),pp(e))}function lp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ap:(n=Number(t.substring(n,r)),isNaN(n)?ip:(r+=1)+n>t.length?ap:(t=t.substr(r,n),e.C=r+n,t))}function fp(e){e.V=Date.now()+e.O,dp(e,e.O)}function dp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Kh(cd(e.gb,e),t)}function hp(e){e.B&&(td.clearTimeout(e.B),e.B=null)}function pp(e){0==e.l.G||e.I||Ov(e.l,e)}function vp(e){hp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,_h(e.T),Ph(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function mp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Hp(n.h,e)))if(!e.J&&Hp(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Pv(n),Iv(n)}Av(n),qh(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Kh(cd(n.cb,n),6e3));if(1>=Wp(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Mv(n,11)}else if((e.J||n.g==e)&&Pv(n),!gd(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Gp(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,Ep(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=jv(r,r.H?r.ka:null,r.V),h.J){Qp(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(hp(p),fp(p)),r.g=h}else Nv(r);0<n.i.length&&Sv(n)}else"stop"!=a[0]&&"close"!=a[0]||Mv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Mv(n,7):xv(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Uh()}catch(a){}}function yp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(rd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(rd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(rd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Jf=tp.prototype).setTimeout=function(e){this.O=e},Jf.ib=function(e){e=e.target;var t=this.L;t&&3==mv(e)?t.l():this.La(e)},Jf.La=function(e){try{if(e==this.g)e:{var t=mv(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Cd||this.g&&(this.h.h||this.g.fa()||yv(this.g)))){this.I||4!=t||7==n||Uh(),hp(this);var r=this.g.aa();this.Y=r;t:if(sp(this)){var i=yv(this.g);e="";var a=i.length,o=4==mv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){vp(this),pp(this);var u="";break t}this.h.i=new td.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gd(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,qh(12),vp(this),pp(this);break e}Lh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mp(this,r)}this.P?(cp(this,t,u),Cd&&this.i&&3==t&&(Rh(this.S,this.T,"tick",this.hb),this.T.start())):(Lh(this.j,this.m,u,null),mp(this,u)),4==t&&vp(this),this.i&&!this.I&&(4==t?Ov(this.l,this):(this.i=!1,fp(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,qh(12)):(this.o=0,qh(13)),vp(this),pp(this)}}}catch(t){}},Jf.hb=function(){if(this.g){var e=mv(this.g),t=this.g.fa();this.C<t.length&&(hp(this),cp(this,e,t),this.i&&4!=e&&fp(this))}},Jf.cancel=function(){this.I=!0,vp(this)},Jf.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Uh(),qh(17)),vp(this),this.o=2,pp(this)):dp(this,this.V-e)};var gp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kp(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof kp){this.h=void 0!==t?t:e.h,wp(this,e.j),this.s=e.s,this.g=e.g,xp(this,e.m),this.l=e.l,t=e.i;var n=new Op;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ip(this,n),this.o=e.o}else e&&(n=String(e).match(gp))?(this.h=!!t,wp(this,n[1]||"",!0),this.s=_p(n[2]||""),this.g=_p(n[3]||"",!0),xp(this,n[4]),this.l=_p(n[5]||"",!0),Ip(this,n[6]||"",!0),this.o=_p(n[7]||"")):(this.h=!!t,this.i=new Op(null,this.h))}function bp(e){return new kp(e)}function wp(e,t,n){e.j=n?_p(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ip(e,t,n){t instanceof Op?(e.i=t,function(e,t){t&&!e.j&&(Lp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Mp(this,t),jp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Tp(t,Rp)),e.i=new Op(t,e.h))}function Ep(e,t,n){e.i.set(t,n)}function Sp(e){return Ep(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _p(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Cp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Cp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}kp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Tp(t,Np,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Tp(t,Np,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Tp(n,"/"==n.charAt(0)?Dp:Ap,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Tp(n,Pp)),e.join("")};var Np=/[#\/\?@]/g,Ap=/[#\?:]/g,Dp=/[#\?]/g,Rp=/[#\?@]/g,Pp=/#/g;function Op(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Lp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Mp(e,t){Lp(e),t=Vp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Fp(e,t){return Lp(e),t=Vp(e,t),e.g.has(t)}function jp(e,t,n){Mp(e,t),0<n.length&&(e.i=null,e.g.set(Vp(e,t),pd(n)),e.h+=n.length)}function Vp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Jf=Op.prototype).add=function(e,t){Lp(this),this.i=null,e=Vp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Jf.forEach=function(e,t){Lp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Jf.oa=function(){Lp(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Jf.W=function(e){Lp(this);var t=[];if("string"===typeof e)Fp(this,e)&&(t=t.concat(this.g.get(Vp(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Jf.set=function(e,t){return Lp(this),this.i=null,Fp(this,e=Vp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Jf.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Jf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Up=v((function e(t,n){h(this,e),this.h=t,this.g=n}));function Bp(e){this.l=e||zp,td.PerformanceNavigationTiming?e=0<(e=td.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(td.g&&td.g.Ga&&td.g.Ga()&&td.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qp,zp=10;function Kp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Wp(e){return e.h?1:e.g?e.g.size:0}function Hp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Gp(e,t){e.g?e.g.add(t):e.h=t}function Qp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=On(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return pd(e.i)}function Yp(){}function Jp(){this.g=new Yp}function Zp(e,t,n){var r=n||"";try{yp(e,(function(e,n){var i=e;id(e)&&(i=ph(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(sM){throw t.push(r+"type="+encodeURIComponent("_badmap")),sM}}function $p(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ev(e){this.l=e.ac||null,this.j=e.jb||!1}function tv(e,t){fh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=nv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bp.prototype.cancel=function(){if(this.i=Xp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=On(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Yp.prototype.stringify=function(e){return td.JSON.stringify(e,void 0)},Yp.prototype.parse=function(e){return td.JSON.parse(e,void 0)},fd(ev,Gh),ev.prototype.g=function(){return new tv(this.l,this.j)},ev.prototype.i=(qp={},function(){return qp}),fd(tv,fh);var nv=0;function rv(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function iv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,av(e)}function av(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Jf=tv.prototype).open=function(e,t){if(this.readyState!=nv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,av(this)},Jf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||td).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Jf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iv(this)),this.readyState=nv},Jf.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,av(this)),this.g&&(this.readyState=3,av(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof td.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rv(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Jf.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?iv(this):av(this),3==this.readyState&&rv(this)}},Jf.Va=function(e){this.g&&(this.response=this.responseText=e,iv(this))},Jf.Ua=function(e){this.g&&(this.response=e,iv(this))},Jf.ga=function(){this.g&&iv(this)},Jf.setRequestHeader=function(e,t){this.v.append(e,t)},Jf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Jf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ov=td.JSON.parse;function uv(e){fh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sv,this.K=this.L=!1}fd(uv,fh);var sv="",cv=/^https?$/i,lv=["POST","PUT"];function fv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,dv(e),pv(e)}function dv(e){e.D||(e.D=!0,dh(e,"complete"),dh(e,"error"))}function hv(e){if(e.h&&"undefined"!=typeof ed&&(!e.C[1]||4!=mv(e)||2!=e.aa()))if(e.v&&4==mv(e))Th(e.Ha,0,e);else if(dh(e,"readystatechange"),4==mv(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(gp)[1]||null;if(!a&&td.self&&td.self.location){var o=td.self.location.protocol;a=o.substr(0,o.length-1)}i=!cv.test(a?a.toLowerCase():"")}t=i}if(t)dh(e,"complete"),dh(e,"success");else{e.m=6;try{var u=2<mv(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",dv(e)}}finally{pv(e)}}}function pv(e,t){if(e.g){vv(e);var n=e.g,r=e.C[0]?nd:null;e.g=null,e.C=null,t||dh(e,"ready");try{n.onreadystatechange=r}catch(sM){}}}function vv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(td.clearTimeout(e.A),e.A=null)}function mv(e){return e.g?e.g.readyState:0}function yv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case sv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(tm){return null}}function gv(e){var t="";return Hd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function kv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ep(e,t,n))}function bv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wv(e){this.Ca=0,this.i=[],this.j=new Oh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=bv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=bv("baseRetryDelayMs",5e3,e),this.bb=bv("retryDelaySeedMs",1e4,e),this.$a=bv("forwardChannelMaxRetries",2,e),this.ta=bv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Bp(e&&e.concurrentRequestLimit),this.Fa=new Jp,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xv(e){if(Ev(e),3==e.G){var t=e.U++,n=bp(e.F);Ep(n,"SID",e.I),Ep(n,"RID",t),Ep(n,"TYPE","terminate"),Tv(e,n),(t=new tp(e,e.j,t,void 0)).K=2,t.v=Sp(bp(n)),n=!1,td.navigator&&td.navigator.sendBeacon&&(n=td.navigator.sendBeacon(t.v.toString(),"")),!n&&td.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vv(t.l,null),t.g.da(t.v)),t.F=Date.now(),fp(t)}Fv(e)}function Iv(e){e.g&&(Dv(e),e.g.cancel(),e.g=null)}function Ev(e){Iv(e),e.u&&(td.clearTimeout(e.u),e.u=null),Pv(e),e.h.cancel(),e.m&&("number"===typeof e.m&&td.clearTimeout(e.m),e.m=null)}function Sv(e){Kp(e.h)||e.m||(e.m=!0,wh(e.Ja,e),e.C=0)}function _v(e,t){var n;n=t?t.m:e.U++;var r=bp(e.F);Ep(r,"SID",e.I),Ep(r,"RID",n),Ep(r,"AID",e.T),Tv(e,r),e.o&&e.s&&kv(r,e.o,e.s),n=new tp(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Cv(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Gp(e.h,n),op(n,r,t)}function Tv(e,t){e.ia&&Hd(e.ia,(function(e,n){Ep(t,n,e)})),e.l&&yp({},(function(e,n){Ep(t,n,e)}))}function Cv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?cd(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Zp(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Nv(e){e.g||e.u||(e.Z=1,wh(e.Ia,e),e.A=0)}function Av(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Kh(cd(e.Ia,e),Lv(e,e.A)),e.A++,!0)}function Dv(e){null!=e.B&&(td.clearTimeout(e.B),e.B=null)}function Rv(e){e.g=new tp(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=bp(e.sa);Ep(t,"RID","rpc"),Ep(t,"SID",e.I),Ep(t,"CI",e.L?"0":"1"),Ep(t,"AID",e.T),Ep(t,"TYPE","xmlhttp"),Tv(e,t),e.o&&e.s&&kv(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Sp(bp(t)),n.s=null,n.P=!0,up(n,e)}function Pv(e){null!=e.v&&(td.clearTimeout(e.v),e.v=null)}function Ov(e,t){var n=null;if(e.g==t){Pv(e),Dv(e),e.g=null;var r=2}else{if(!Hp(e.h,t))return;n=t.D,Qp(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;dh(r=jh(),new zh(r,n)),Sv(e)}else Nv(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Wp(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Kh(cd(e.Ja,e,t),Lv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Av(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Mv(e,5);break;case 4:Mv(e,10);break;case 3:Mv(e,6);break;default:Mv(e,2)}}function Lv(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Mv(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=cd(e.kb,e);n||(n=new kp("//www.google.com/images/cleardot.gif"),td.location&&"http"==td.location.protocol||wp(n,"https"),Sp(n)),function(e,t){var n=new Oh;if(td.Image){var r=new Image;r.onload=ld($p,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ld($p,n,r,"TestLoadImage: error",!1,t),r.onabort=ld($p,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ld($p,n,r,"TestLoadImage: timeout",!1,t),td.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else qh(2);e.G=0,e.l&&e.l.va(t),Fv(e),Ev(e)}function Fv(e){if(e.G=0,e.la=[],e.l){var t=Xp(e.h);0==t.length&&0==e.i.length||(vd(e.la,t),vd(e.la,e.i),e.h.i.length=0,pd(e.i),e.i.length=0),e.l.ua()}}function jv(e,t,n){var r=n instanceof kp?bp(n):new kp(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),xp(r,r.m);else{var i=td.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new kp(null,void 0);r&&wp(a,r),t&&(a.g=t),i&&xp(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ep(r,n,t),Ep(r,"VER",e.ma),Tv(e,r),r}function Vv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new uv(new ev({jb:!0})):new uv(e.ra)).Ka(e.H),t}function Uv(){}function Bv(){if(_d&&!(10<=Number(Vd)))throw Error("Environmental error: no available transport.")}function qv(e,t){fh.call(this),this.g=new wv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!gd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Wv(this)}function zv(e){Zh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Kv(){$h.call(this),this.status=1}function Wv(e){this.g=e}(Jf=uv.prototype).Ka=function(e){this.L=e},Jf.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yh.g(),this.C=this.u?Qh(this.u):Qh(Yh),this.g.onreadystatechange=cd(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void fv(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=On(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=td.FormData&&e instanceof td.FormData,!(0<=hd(lv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=On(n);try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),d=f[0],h=f[1];this.g.setRequestHeader(d,h)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vv(this),0<this.B&&((this.K=function(e){return _d&&Fd()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cd(this.qa,this)):this.A=Th(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){fv(this,u)}},Jf.qa=function(){"undefined"!=typeof ed&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dh(this,"timeout"),this.abort(8))},Jf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,dh(this,"complete"),dh(this,"abort"),pv(this))},Jf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pv(this,!0)),uv.X.M.call(this)},Jf.Ha=function(){this.s||(this.F||this.v||this.l?hv(this):this.fb())},Jf.fb=function(){hv(this)},Jf.aa=function(){try{return 2<mv(this)?this.g.status:-1}catch(qp){return-1}},Jf.fa=function(){try{return this.g?this.g.responseText:""}catch(qp){return""}},Jf.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ov(t)}},Jf.Ea=function(){return this.m},Jf.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Jf=wv.prototype).ma=8,Jf.G=1,Jf.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new tp(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Xd(n=Gd(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Cv(this,t,r),Ep(i=bp(this.F),"RID",e),Ep(i,"CVER",22),this.D&&Ep(i,"X-HTTP-Session-Id",this.D),Tv(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(gv(n)))+"&"+r:this.o&&kv(i,this.o,n)),Gp(this.h,t),this.Ya&&Ep(i,"TYPE","init"),this.O?(Ep(i,"$req",r),Ep(i,"SID","null"),t.Z=!0,op(t,i,null)):op(t,i,r),this.G=2}}else 3==this.G&&(e?_v(this,e):0==this.i.length||Kp(this.h)||_v(this))},Jf.Ia=function(){if(this.u=null,Rv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Kh(cd(this.eb,this),e)}},Jf.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qh(10),Iv(this),Rv(this))},Jf.cb=function(){null!=this.v&&(this.v=null,Iv(this),Av(this),qh(19))},Jf.kb=function(e){e?(this.j.info("Successfully pinged google.com"),qh(2)):(this.j.info("Failed to ping google.com"),qh(1))},(Jf=Uv.prototype).xa=function(){},Jf.wa=function(){},Jf.va=function(){},Jf.ua=function(){},Jf.Ra=function(){},Bv.prototype.g=function(e,t){return new qv(e,t)},fd(qv,fh),qv.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;qh(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=jv(e,null,e.V),Sv(e)},qv.prototype.close=function(){xv(this.g)},qv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ph(e),e=n);t.i.push(new Up(t.ab++,e)),3==t.G&&Sv(t)},qv.prototype.M=function(){this.g.l=null,delete this.j,xv(this.g),delete this.g,qv.X.M.call(this)},fd(zv,Zh),fd(Kv,$h),fd(Wv,Uv),Wv.prototype.xa=function(){dh(this.g,"a")},Wv.prototype.wa=function(e){dh(this.g,new zv(e))},Wv.prototype.va=function(e){dh(this.g,new Kv)},Wv.prototype.ua=function(){dh(this.g,"b")},Bv.prototype.createWebChannel=Bv.prototype.g,qv.prototype.send=qv.prototype.u,qv.prototype.open=qv.prototype.m,qv.prototype.close=qv.prototype.close,Wh.NO_ERROR=0,Wh.TIMEOUT=8,Wh.HTTP_ERROR=6,Hh.COMPLETE="complete",Xh.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",fh.prototype.listen=fh.prototype.N,uv.prototype.listenOnce=uv.prototype.O,uv.prototype.getLastError=uv.prototype.Oa,uv.prototype.getLastErrorCode=uv.prototype.Ea,uv.prototype.getStatus=uv.prototype.aa,uv.prototype.getResponseJson=uv.prototype.Sa,uv.prototype.getResponseText=uv.prototype.fa,uv.prototype.send=uv.prototype.da,uv.prototype.setWithCredentials=uv.prototype.Ka;var Hv=$f.createWebChannelTransport=function(){return new Bv},Gv=$f.getStatEventTarget=function(){return jh()},Qv=$f.ErrorCode=Wh,Xv=$f.EventType=Hh,Yv=$f.Event=Mh,Jv=$f.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Zv=$f.FetchXmlHttpFactory=ev,$v=$f.WebChannel=Xh,em=$f.XhrIo=uv,tm="@firebase/firestore",nm=function(){function e(t){h(this,e),this.uid=t}return v(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();nm.UNAUTHENTICATED=new nm(null),nm.GOOGLE_CREDENTIALS=new nm("google-credentials-uid"),nm.FIRST_PARTY=new nm("first-party-uid"),nm.MOCK_USER=new nm("mock-user");var rm="9.13.0",im=new xr("@firebase/firestore");function am(){return im.logLevel}function om(e){if(im.logLevel<=vr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cm);im.debug.apply(im,["Firestore (".concat(rm,"): ").concat(e)].concat(d(i)))}}function um(e){if(im.logLevel<=vr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cm);im.error.apply(im,["Firestore (".concat(rm,"): ").concat(e)].concat(d(i)))}}function sm(e){if(im.logLevel<=vr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cm);im.warn.apply(im,["Firestore (".concat(rm,"): ").concat(e)].concat(d(i)))}}function cm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function lm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(rm,") INTERNAL ASSERTION FAILED: ")+e;throw um(t),new Error(t)}function fm(e,t){e||lm()}function dm(e,t){return e}var hm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pm=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return v(n)}(Jn),vm=v((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),mm=v((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ym=function(){function e(){h(this,e)}return v(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(nm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),gm=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return v(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),km=function(){function e(t){h(this,e),this.t=t,this.currentUser=nm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new vm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new vm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){om("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(om("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(om("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(fm("string"==typeof n.accessToken),new mm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return fm(null===e||"string"==typeof e),new nm(e)}}]),e}(),bm=function(){function e(t,n,r,i){h(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=nm.FIRST_PARTY,this.p=new Map}return v(e,[{key:"I",value:function(){return this.g?this.g():(fm(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),wm=function(){function e(t,n,r,i){h(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return v(e,[{key:"getToken",value:function(){return Promise.resolve(new bm(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(nm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),xm=v((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Im=function(){function e(t){h(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&om("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,om("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){om("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):om("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(fm("string"==typeof t.token),e.A=t.token,new xm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Em(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Sm=function(){function e(){h(this,e)}return v(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Em(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function _m(e,t){return e<t?-1:e>t?1:0}function Tm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Cm(e){return e+"\0"}var Nm=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new pm(hm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pm(hm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new pm(hm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pm(hm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return v(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?_m(this.nanoseconds,e.nanoseconds):_m(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Am=function(){function e(t){h(this,e),this.timestamp=t}return v(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Nm(0,0))}},{key:"max",value:function(){return new e(new Nm(253402300799,999999999))}}]),e}(),Dm=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&lm(),void 0===r?r=t.length-n:r>t.length-n&&lm(),this.segments=t,this.offset=n,this.len=r}return v(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Rm=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new pm(hm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,d(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dm),Pm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Om=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Pm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new pm(hm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new pm(hm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new pm(hm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new pm(hm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dm),Lm=function(){function e(t){h(this,e),this.path=t}return v(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Rm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Rm.fromString(t))}},{key:"fromName",value:function(t){return new e(Rm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Rm.emptyPath())}},{key:"comparator",value:function(e,t){return Rm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Rm(t.slice()))}}]),e}(),Mm=v((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Fm(e){return e.fields.find((function(e){return 2===e.kind}))}function jm(e){return e.fields.filter((function(e){return 2!==e.kind}))}Mm.UNKNOWN_ID=-1;var Vm=v((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var Um=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return v(e,null,[{key:"empty",value:function(){return new e(0,zm.min())}}]),e}();function Bm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Am.fromTimestamp(1e9===r?new Nm(n+1,0):new Nm(n,r));return new zm(i,Lm.empty(),t)}function qm(e){return new zm(e.readTime,e.key,-1)}var zm=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return v(e,null,[{key:"min",value:function(){return new e(Am.min(),Lm.empty(),-1)}},{key:"max",value:function(){return new e(Am.max(),Lm.empty(),-1)}}]),e}();function Km(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Lm.comparator(e.documentKey,t.documentKey))?n:_m(e.largestBatchId,t.largestBatchId)}var Wm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hm=function(){function e(){h(this,e),this.onCommittedListeners=[]}return v(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Gm(e){return Qm.apply(this,arguments)}function Qm(){return Qm=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===hm.FAILED_PRECONDITION&&t.message===Wm){e.next=2;break}throw t;case 2:om("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}var Xm=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return v(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&lm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=On(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Ym=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new vm,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new $m(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=iy(e.target.error);r.P.reject(new $m(t,n))}}return v(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(om("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ty(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new $m(n,t)}}}]),e}(),Jm=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Un())&&um("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return v(e,[{key:"F",value:function(){var e=We(ze().mark((function e(t){var n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return om("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new $m(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new pm(hm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new pm(hm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new $m(t,n))},i.onupgradeneeded=function(e){om("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){om("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=We(ze().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ze().mark((function e(){var n,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Ym.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Xm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,om("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return om("SimpleDb","Removing database:",e),ny(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Wn())return!1;if(e.N())return!0;var t=Un(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/sl-music-react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Zm=function(){function e(t){h(this,e),this.U=t,this.q=!1,this.K=null}return v(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return ny(this.U.delete())}}]),e}(),$m=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,hm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return v(n)}(pm);function ey(e){return"IndexedDbTransactionError"===e.name}var ty=function(){function e(t){h(this,e),this.store=t}return v(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(om("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(om("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ny(n)}},{key:"add",value:function(e){return om("SimpleDb","ADD",this.store.name,e,e),ny(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ny(this.store.get(e)).next((function(n){return void 0===n&&(n=null),om("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return om("SimpleDb","DELETE",this.store.name,e),ny(this.store.delete(e))}},{key:"count",value:function(){return om("SimpleDb","COUNT",this.store.name),ny(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Xm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Xm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){om("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Xm((function(n,r){t.onerror=function(e){var t=iy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Xm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Zm(i),o=t(i.primaryKey,i.value,a);if(o instanceof Xm){var u=o.catch((function(e){return a.done(),Xm.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Xm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ny(e){return new Xm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=iy(e.target.error);n(t)}}))}var ry=!1;function iy(e){var t=Jm.D(Un());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new pm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ry||(ry=!0,setTimeout((function(){throw r}),0)),r}}return e}var ay=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.et=n,this.task=null}return v(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;om("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=om,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ey(e.t4)){e.next=17;break}om("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Gm(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),oy=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return v(e,[{key:"st",value:function(){var e=We(ze().mark((function e(){var t,n=this,r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Xm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return om("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return om("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=qm(t);Km(r,n)>0&&(n=r)})),new zm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),uy=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return v(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function sy(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ly(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}uy.at=-1;var fy=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||hy.EMPTY}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new dy(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new dy(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new dy(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new dy(this.root,e,this.comparator,!0)}}]),e}(),dy=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return v(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),hy=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw lm();if(this.right.isRed())throw lm();var e=this.left.check();if(e!==this.right.check())throw lm();return e+(this.isRed()?0:1)}}]),e}();hy.EMPTY=null,hy.RED=!0,hy.BLACK=!1,hy.EMPTY=new(function(){function e(){h(this,e),this.size=0}return v(e,[{key:"key",get:function(){throw lm()}},{key:"value",get:function(){throw lm()}},{key:"color",get:function(){throw lm()}},{key:"left",get:function(){throw lm()}},{key:"right",get:function(){throw lm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new hy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var py=function(){function e(t){h(this,e),this.comparator=t,this.data=new fy(this.comparator)}return v(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new vy(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new vy(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),vy=function(){function e(t){h(this,e),this.iter=t}return v(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function my(e){return e.hasNext()?e.getNext():void 0}var yy=function(){function e(t){h(this,e),this.fields=t,t.sort(Om.comparator)}return v(e,[{key:"unionWith",value:function(t){var n,r=new py(Om.comparator),i=On(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=On(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=On(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Tm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var gy=function(e){function t(e){h(this,t),this.binaryString=e}return v(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return _m(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();gy.EMPTY_BYTE_STRING=new gy("");var ky=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function by(e){if(fm(!!e),"string"==typeof e){var t=0,n=ky.exec(e);if(fm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:wy(e.seconds),nanos:wy(e.nanos)}}function wy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function xy(e){return"string"==typeof e?gy.fromBase64String(e):gy.fromUint8Array(e)}function Iy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ey(e){var t=e.mapValue.fields.__previous_value__;return Iy(t)?Ey(t):t}function Sy(e){var t=by(e.mapValue.fields.__local_write_time__.timestampValue);return new Nm(t.seconds,t.nanos)}var _y=v((function e(t,n,r,i,a,o,u,s){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ty=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return v(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Cy(e){return null==e}function Ny(e){return 0===e&&1/e==-1/0}function Ay(e){return"number"==typeof e&&Number.isInteger(e)&&!Ny(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Dy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ry={nullValue:"NULL_VALUE"};function Py(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Iy(e)?4:Gy(e)?9007199254740991:10:lm()}function Oy(e,t){if(e===t)return!0;var n=Py(e);if(n!==Py(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sy(e).isEqual(Sy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=by(e.timestampValue),r=by(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return xy(e.bytesValue).isEqual(xy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wy(e.geoPointValue.latitude)===wy(t.geoPointValue.latitude)&&wy(e.geoPointValue.longitude)===wy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wy(e.integerValue)===wy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=wy(e.doubleValue),r=wy(t.doubleValue);return n===r?Ny(n)===Ny(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tm(e.arrayValue.values||[],t.arrayValue.values||[],Oy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sy(n)!==sy(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Oy(n[i],r[i])))return!1;return!0}(e,t);default:return lm()}}function Ly(e,t){return void 0!==(e.values||[]).find((function(e){return Oy(e,t)}))}function My(e,t){if(e===t)return 0;var n=Py(e),r=Py(t);if(n!==r)return _m(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _m(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=wy(e.integerValue||e.doubleValue),r=wy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fy(e.timestampValue,t.timestampValue);case 4:return Fy(Sy(e),Sy(t));case 5:return _m(e.stringValue,t.stringValue);case 6:return function(e,t){var n=xy(e),r=xy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=_m(n[i],r[i]);if(0!==a)return a}return _m(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=_m(wy(e.latitude),wy(t.latitude));return 0!==n?n:_m(wy(e.longitude),wy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=My(n[i],r[i]);if(a)return a}return _m(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Dy.mapValue&&t===Dy.mapValue)return 0;if(e===Dy.mapValue)return 1;if(t===Dy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=_m(r[o],a[o]);if(0!==u)return u;var s=My(n[r[o]],i[a[o]]);if(0!==s)return s}return _m(r.length,a.length)}(e.mapValue,t.mapValue);default:throw lm()}}function Fy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _m(e,t);var n=by(e),r=by(t),i=_m(n.seconds,r.seconds);return 0!==i?i:_m(n.nanos,r.nanos)}function jy(e){return Vy(e)}function Vy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=by(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?xy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Lm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=On(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Vy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=On(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Vy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):lm();var t,n}function Uy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function By(e){return!!e&&"integerValue"in e}function qy(e){return!!e&&"arrayValue"in e}function zy(e){return!!e&&"nullValue"in e}function Ky(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wy(e){return!!e&&"mapValue"in e}function Hy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return cy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Hy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Hy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Gy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Qy(e){return"nullValue"in e?Ry:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Uy(Ty.empty(),Lm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:lm()}function Xy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Uy(Ty.empty(),Lm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Dy:lm()}function Yy(e,t){var n=My(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Jy(e,t){var n=My(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Zy=function(){function e(t){h(this,e),this.value=t}return v(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hy(t)}},{key:"setAll",value:function(e){var t=this,n=Om.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Hy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Wy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Oy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){cy(t,(function(t,n){return e[t]=n}));var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Hy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function $y(e){var t=[];return cy(e.fields,(function(e,n){var r=new Om([e]);if(Wy(n)){var i=$y(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=On(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new yy(t)}var eg=function(){function e(t,n,r,i,a,o){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return v(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Am.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Am.min(),Am.min(),Zy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Am.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Am.min(),Zy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Am.min(),Zy.empty(),2)}}]),e}(),tg=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function ng(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new tg(e,t,n,r,i,a,o)}function rg(e){var t=dm(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+jy(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Cy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return jy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return jy(e)})).join(",")),t.ht=n}return t.ht}function ig(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!bg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Oy(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xg(e.startAt,t.startAt)&&xg(e.endAt,t.endAt)}function ag(e){return Lm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function og(e,t){return e.filters.filter((function(e){return e instanceof cg&&e.field.isEqual(t)}))}function ug(e,t,n){var r,i=Ry,a=!0,o=On(og(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ry,c=!0;switch(u.op){case"<":case"<=":s=Qy(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Ry}Yy({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Yy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function sg(e,t,n){var r,i=Dy,a=!0,o=On(og(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Dy,c=!0;switch(u.op){case">=":case">":s=Xy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Dy}Jy({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Jy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var cg=function(e){y(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(My(t,this.value)):null!==t&&Py(this.value)===Py(t)&&this.ft(My(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lm()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new lg(e,t,r):"array-contains"===t?new pg(e,r):"in"===t?new vg(e,r):"not-in"===t?new mg(e,r):"array-contains-any"===t?new yg(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new fg(e,n):new dg(e,n)}}]),n}(function(){return v((function e(){h(this,e)}))}()),lg=function(e){y(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=Lm.fromName(i.referenceValue),a}return v(n,[{key:"matches",value:function(e){var t=Lm.comparator(e.key,this.key);return this.ft(t)}}]),n}(cg),fg=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=hg("in",r),i}return v(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cg),dg=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=hg("not-in",r),i}return v(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cg);function hg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Lm.fromName(e.referenceValue)}))}var pg=function(e){y(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return qy(t)&&Ly(t.arrayValue,this.value)}}]),n}(cg),vg=function(e){y(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ly(this.value.arrayValue,t)}}]),n}(cg),mg=function(e){y(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return v(n,[{key:"matches",value:function(e){if(Ly(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ly(this.value.arrayValue,t)}}]),n}(cg),yg=function(e){y(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return v(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ly(t.value.arrayValue,e)}))}}]),n}(cg),gg=v((function e(t,n){h(this,e),this.position=t,this.inclusive=n})),kg=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function bg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function wg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Lm.comparator(Lm.fromName(o.referenceValue),n.key):My(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Oy(e.position[n],t.position[n]))return!1;return!0}var Ig=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Eg(e,t,n,r,i,a,o,u){return new Ig(e,t,n,r,i,a,o,u)}function Sg(e){return new Ig(e)}function _g(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Tg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Cg(e){var t,n=On(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ng(e){return null!==e.collectionGroup}function Ag(e){var t=dm(e);if(null===t._t){t._t=[];var n=Cg(t),r=Tg(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new kg(n)),t._t.push(new kg(Om.keyField(),"asc"));else{var i,a=!1,o=On(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new kg(Om.keyField(),s))}}}return t._t}function Dg(e){var t=dm(e);if(!t.wt)if("F"===t.limitType)t.wt=ng(t.path,t.collectionGroup,Ag(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=On(Ag(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new kg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new gg(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new gg(t.startAt.position,t.startAt.inclusive):null;t.wt=ng(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Rg(e,t,n){return new Ig(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pg(e,t){return ig(Dg(e),Dg(t))&&e.limitType===t.limitType}function Og(e){return"".concat(rg(Dg(e)),"|lt:").concat(e.limitType)}function Lg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(jy(t.value));var t})).join(", "),"]")),Cy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return jy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return jy(e)})).join(",")),"Target(".concat(t,")")}(Dg(e)),"; limitType=").concat(e.limitType,")")}function Mg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Lm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=On(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=On(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=wg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ag(e),t))&&!(e.endAt&&!function(e,t,n){var r=wg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ag(e),t))}(e,t)}function Fg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jg(e){return function(t,n){var r,i=!1,a=On(Ag(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Vg(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Vg(e,t,n){var r=e.field.isKeyField()?Lm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?My(r,i):lm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lm()}}function Ug(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ny(t)?"-0":t}}function Bg(e){return{integerValue:""+e}}function qg(e,t){return Ay(t)?Bg(t):Ug(e,t)}var zg=v((function e(){h(this,e),this._=void 0}));function Kg(e,t,n){return e instanceof Gg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qg?Xg(e,t):e instanceof Yg?Jg(e,t):function(e,t){var n=Hg(e,t),r=$g(n)+$g(e.yt);return By(n)&&By(e.yt)?Bg(r):Ug(e.It,r)}(e,t)}function Wg(e,t,n){return e instanceof Qg?Xg(e,t):e instanceof Yg?Jg(e,t):n}function Hg(e,t){return e instanceof Zg?By(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Gg=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n)}(zg),Qg=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return v(n)}(zg);function Xg(e,t){var n,r=ek(t),i=On(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Oy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yg=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return v(n)}(zg);function Jg(e,t){var n,r=ek(t),i=On(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Oy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Zg=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).It=e,i.yt=r,i}return v(n)}(zg);function $g(e){return wy(e.integerValue||e.doubleValue)}function ek(e){return qy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var tk=v((function e(t,n){h(this,e),this.field=t,this.transform=n}));var nk=v((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),rk=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return v(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ik(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ak=v((function e(){h(this,e)}));function ok(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gk(e.key,rk.none()):new fk(e.key,e.data,rk.none());var n,r=e.data,i=Zy.empty(),a=new py(Om.comparator),o=On(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new dk(e.key,i,new yy(a.toArray()),rk.none())}function uk(e,t,n){e instanceof fk?function(e,t,n){var r=e.value.clone(),i=pk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dk?function(e,t,n){if(ik(e.precondition,t)){var r=pk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sk(e,t,n,r){return e instanceof fk?function(e,t,n,r){if(!ik(e.precondition,t))return n;var i=e.value.clone(),a=vk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof dk?function(e,t,n,r){if(!ik(e.precondition,t))return n;var i=vk(e.fieldTransforms,r,t),a=t.data;return a.setAll(hk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ik(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ck(e,t){var n,r=null,i=On(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Hg(a.transform,o||null);null!=u&&(null===r&&(r=Zy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function lk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qg&&t instanceof Qg||e instanceof Yg&&t instanceof Yg?Tm(e.elements,t.elements,Oy):e instanceof Zg&&t instanceof Zg?Oy(e.yt,t.yt):e instanceof Gg&&t instanceof Gg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var fk=function(e){y(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ak),dk=function(e){y(n,e);var t=I(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return v(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ak);function hk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function pk(e,t,n){var r=new Map;fm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Wg(o,u,n[i]))}return r}function vk(e,t,n){var r,i=new Map,a=On(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Kg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var mk,yk,gk=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ak),kk=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ak),bk=v((function e(t){h(this,e),this.count=t}));function wk(e){switch(e){default:return lm();case hm.CANCELLED:case hm.UNKNOWN:case hm.DEADLINE_EXCEEDED:case hm.RESOURCE_EXHAUSTED:case hm.INTERNAL:case hm.UNAVAILABLE:case hm.UNAUTHENTICATED:return!1;case hm.INVALID_ARGUMENT:case hm.NOT_FOUND:case hm.ALREADY_EXISTS:case hm.PERMISSION_DENIED:case hm.FAILED_PRECONDITION:case hm.ABORTED:case hm.OUT_OF_RANGE:case hm.UNIMPLEMENTED:case hm.DATA_LOSS:return!0}}function xk(e){if(void 0===e)return um("GRPC error has no .code"),hm.UNKNOWN;switch(e){case mk.OK:return hm.OK;case mk.CANCELLED:return hm.CANCELLED;case mk.UNKNOWN:return hm.UNKNOWN;case mk.DEADLINE_EXCEEDED:return hm.DEADLINE_EXCEEDED;case mk.RESOURCE_EXHAUSTED:return hm.RESOURCE_EXHAUSTED;case mk.INTERNAL:return hm.INTERNAL;case mk.UNAVAILABLE:return hm.UNAVAILABLE;case mk.UNAUTHENTICATED:return hm.UNAUTHENTICATED;case mk.INVALID_ARGUMENT:return hm.INVALID_ARGUMENT;case mk.NOT_FOUND:return hm.NOT_FOUND;case mk.ALREADY_EXISTS:return hm.ALREADY_EXISTS;case mk.PERMISSION_DENIED:return hm.PERMISSION_DENIED;case mk.FAILED_PRECONDITION:return hm.FAILED_PRECONDITION;case mk.ABORTED:return hm.ABORTED;case mk.OUT_OF_RANGE:return hm.OUT_OF_RANGE;case mk.UNIMPLEMENTED:return hm.UNIMPLEMENTED;case mk.DATA_LOSS:return hm.DATA_LOSS;default:return lm()}}(yk=mk||(mk={}))[yk.OK=0]="OK",yk[yk.CANCELLED=1]="CANCELLED",yk[yk.UNKNOWN=2]="UNKNOWN",yk[yk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yk[yk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yk[yk.NOT_FOUND=5]="NOT_FOUND",yk[yk.ALREADY_EXISTS=6]="ALREADY_EXISTS",yk[yk.PERMISSION_DENIED=7]="PERMISSION_DENIED",yk[yk.UNAUTHENTICATED=16]="UNAUTHENTICATED",yk[yk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yk[yk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yk[yk.ABORTED=10]="ABORTED",yk[yk.OUT_OF_RANGE=11]="OUT_OF_RANGE",yk[yk.UNIMPLEMENTED=12]="UNIMPLEMENTED",yk[yk.INTERNAL=13]="INTERNAL",yk[yk.UNAVAILABLE=14]="UNAVAILABLE",yk[yk.DATA_LOSS=15]="DATA_LOSS";var Ik=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return v(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){cy(this.inner,(function(t,n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ly(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ek=new fy(Lm.comparator);function Sk(){return Ek}var _k=new fy(Lm.comparator);function Tk(){for(var e=_k,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ck(e){var t=_k;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Nk(){return Dk()}function Ak(){return Dk()}function Dk(){return new Ik((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Rk=new fy(Lm.comparator),Pk=new py(Lm.comparator);function Ok(){for(var e=Pk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Lk=new py(_m);function Mk(){return Lk}var Fk=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return v(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,jk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Am.min(),i,Mk(),Sk(),Ok())}}]),e}(),jk=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return v(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ok(),Ok(),Ok())}}]),e}(),Vk=v((function e(t,n,r,i){h(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Uk=v((function e(t,n){h(this,e),this.targetId=t,this.At=n})),Bk=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),qk=function(){function e(){h(this,e),this.Rt=0,this.bt=Wk(),this.Pt=gy.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return v(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Ok(),t=Ok(),n=Ok();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:lm()}})),new jk(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Wk()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),zk=function(){function e(t){h(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Sk(),this.qt=Kk(),this.Kt=new py(_m)}return v(e,[{key:"Gt",value:function(e){var t,n=On(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=On(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:lm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(ag(i))if(0===n){var a=new Lm(i.path);this.jt(t,a,eg.newNoDocument(a,Am.min()))}else fm(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&ag(a.target)){var o=new Lm(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,eg.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Ok();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Fk(e,n,this.Kt,this.Ut,r);return this.Ut=Sk(),this.qt=Kk(),this.Kt=new py(_m),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new qk,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new py(_m),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||om("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new qk),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Kk(){return new fy(Lm.comparator)}function Wk(){return new fy(Lm.comparator)}var Hk={asc:"ASCENDING",desc:"DESCENDING"},Gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qk=v((function e(t,n){h(this,e),this.databaseId=t,this.gt=n}));function Xk(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yk(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Jk(e,t){return Xk(e,t.toTimestamp())}function Zk(e){return fm(!!e),Am.fromTimestamp(function(e){var t=by(e);return new Nm(t.seconds,t.nanos)}(e))}function $k(e,t){return function(e){return new Rm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function eb(e){var t=Rm.fromString(e);return fm(Ib(t)),t}function tb(e,t){return $k(e.databaseId,t.path)}function nb(e,t){var n=eb(t);if(n.get(1)!==e.databaseId.projectId)throw new pm(hm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pm(hm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Lm(ob(n))}function rb(e,t){return $k(e.databaseId,t)}function ib(e){var t=eb(e);return 4===t.length?Rm.emptyPath():ob(t)}function ab(e){return new Rm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ob(e){return fm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ub(e,t,n){return{name:tb(e,t),fields:n.value.mapValue.fields}}function sb(e,t,n){var r=nb(e,t.name),i=Zk(t.updateTime),a=new Zy({mapValue:{fields:t.fields}}),o=eg.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function cb(e,t){return"found"in t?function(e,t){fm(!!t.found),t.found.name,t.found.updateTime;var n=nb(e,t.found.name),r=Zk(t.found.updateTime),i=new Zy({mapValue:{fields:t.found.fields}});return eg.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){fm(!!t.missing),fm(!!t.readTime);var n=nb(e,t.missing),r=Zk(t.readTime);return eg.newNoDocument(n,r)}(e,t):lm()}function lb(e,t){var n;if(t instanceof fk)n={update:ub(e,t.key,t.value)};else if(t instanceof gk)n={delete:tb(e,t.key)};else if(t instanceof dk)n={update:ub(e,t.key,t.data),updateMask:xb(t.fieldMask)};else{if(!(t instanceof kk))return lm();n={verify:tb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Gg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Yg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zg)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw lm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:lm()}(e,t.precondition)),n}function fb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?rk.updateTime(Zk(e.updateTime)):void 0!==e.exists?rk.exists(e.exists):rk.none()}(t.currentDocument):rk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)fm("REQUEST_TIME"===t.setToServerValue),n=new Gg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Qg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Yg(i)}else"increment"in t?n=new Zg(e,t.increment):lm();var a=Om.fromServerFormat(t.fieldPath);return new tk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=nb(e,t.update.name),a=new Zy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new yy(t.map((function(e){return Om.fromServerFormat(e)})))}(t.updateMask);return new dk(i,a,o,n,r)}return new fk(i,a,n,r)}if(t.delete){var u=nb(e,t.delete);return new gk(u,n)}if(t.verify){var s=nb(e,t.verify);return new kk(s,n)}return lm()}function db(e,t){return{documents:[rb(e,t.path)]}}function hb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ky(e.value))return{unaryFilter:{field:gb(e.field),op:"IS_NAN"}};if(zy(e.value))return{unaryFilter:{field:gb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ky(e.value))return{unaryFilter:{field:gb(e.field),op:"IS_NOT_NAN"}};if(zy(e.value))return{unaryFilter:{field:gb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gb(e.field),op:yb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gb(e.field),direction:mb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Cy(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function pb(e){var t=ib(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=vb(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new kg(kb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Cy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new gg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new gg(n,t)}(n.endAt)),Eg(t,i,u,o,s,"F",c,l)}function vb(e){return e?void 0!==e.unaryFilter?[wb(e)]:void 0!==e.fieldFilter?[bb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return vb(e)})).reduce((function(e,t){return e.concat(t)})):lm():[]}function mb(e){return Hk[e]}function yb(e){return Gk[e]}function gb(e){return{fieldPath:e.canonicalString()}}function kb(e){return Om.fromServerFormat(e.fieldPath)}function bb(e){return cg.create(kb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lm()}}(e.fieldFilter.op),e.fieldFilter.value)}function wb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=kb(e.unaryFilter.field);return cg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=kb(e.unaryFilter.field);return cg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=kb(e.unaryFilter.field);return cg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=kb(e.unaryFilter.field);return cg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lm()}}function xb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ib(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Eb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=_b(t)),t=Sb(e.get(n),t);return _b(t)}function Sb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function _b(e){return e+"\x01\x01"}function Tb(e){var t=e.length;if(fm(t>=2),2===t)return fm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Rm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&lm(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:lm()}a=o+2}return new Rm(r)}var Cb=["userId","batchId"];function Nb(e,t){return[e,Eb(t)]}function Ab(e,t,n){return[e,Eb(t),n]}var Db={},Rb=["prefixPath","collectionGroup","readTime","documentId"],Pb=["prefixPath","collectionGroup","documentId"],Ob=["collectionGroup","readTime","prefixPath","documentId"],Lb=["canonicalId","targetId"],Mb=["targetId","path"],Fb=["path","targetId"],jb=["collectionId","parent"],Vb=["indexId","uid"],Ub=["uid","sequenceNumber"],Bb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qb=["indexId","uid","orderedDocumentKey"],zb=["userId","collectionPath","documentId"],Kb=["userId","collectionPath","largestBatchId"],Wb=["userId","collectionGroup","largestBatchId"],Hb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Gb=[].concat(d(Hb),["documentOverlays"]),Qb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xb=Qb,Yb=[].concat(Xb,["indexConfiguration","indexState","indexEntries"]),Jb=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return v(n)}(Hm);function Zb(e,t){var n=dm(e);return Jm.M(n.ie,t)}var $b=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return v(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&uk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=On(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=sk(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=On(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=sk(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ak();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=ok(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Am.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ok())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Tm(this.mutations,e.mutations,(function(e,t){return lk(e,t)}))&&Tm(this.baseMutations,e.baseMutations,(function(e,t){return lk(e,t)}))}}]),e}(),ew=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return v(e,null,[{key:"from",value:function(t,n,r){fm(t.mutations.length===r.length);for(var i=Rk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),tw=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return v(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),nw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Am.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Am.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gy.EMPTY_BYTE_STRING;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return v(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),rw=v((function e(t){h(this,e),this.re=t}));function iw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:aw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:tb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Xk(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ow(t.version)};else{if(!t.isUnknownDocument())return lm();r.unknownDocument={path:n.path.toArray(),version:ow(t.version)}}return r}function aw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ow(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function uw(e){var t=new Nm(e.seconds,e.nanoseconds);return Am.fromTimestamp(t)}function sw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return fb(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return fb(e.re,t)})),u=Nm.fromMillis(t.localWriteTimeMs);return new $b(t.batchId,u,n,o)}function cw(e){var t,n,r=uw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?uw(e.lastLimboFreeSnapshotVersion):Am.min();return void 0!==e.query.documents?(fm(1===(n=e.query).documents.length),t=Dg(Sg(ib(n.documents[0])))):t=function(e){return Dg(pb(e))}(e.query),new nw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,gy.fromBase64String(e.resumeToken))}function lw(e,t){var n,r=ow(t.snapshotVersion),i=ow(t.lastLimboFreeSnapshotVersion);n=ag(t.target)?db(e.re,t.target):hb(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:rg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function fw(e){var t=pb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rg(t,t.limit,"L"):t}function dw(e,t){return new tw(t.largestBatchId,fb(e.re,t.overlayMutation))}function hw(e,t){var n=t.path.lastSegment();return[e,Eb(t.path.popLast()),n]}function pw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ow(r.readTime),documentKey:Eb(r.documentKey.path),largestBatchId:r.largestBatchId}}var vw=function(){function e(){h(this,e)}return v(e,[{key:"getBundleMetadata",value:function(e,t){return mw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:uw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return mw(e).put({bundleId:(n=t).id,createTime:ow(Zk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return yw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:fw(t.bundledQuery),readTime:uw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return yw(e).put(function(e){return{name:e.name,readTime:ow(Zk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function mw(e){return Zb(e,"bundles")}function yw(e){return Zb(e,"namedQueries")}var gw=function(){function e(t,n){h(this,e),this.It=t,this.userId=n}return v(e,[{key:"getOverlay",value:function(e,t){var n=this;return kw(e).get(hw(this.userId,t)).next((function(e){return e?dw(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Nk();return Xm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new tw(t,a);i.push(r.ue(e,o))})),Xm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Eb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(kw(e).Y("collectionPathOverlayIndex",i))})),Xm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Nk(),a=Eb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return kw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=dw(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Nk(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kw(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=dw(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return kw(e).put(function(e,t,n){var r=l(hw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:lb(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function kw(e){return Zb(e,"documentOverlays")}var bw=function(){function e(){h(this,e)}return v(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(wy(e.integerValue));else if("doubleValue"in e){var n=wy(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Ny(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(xy(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Gy(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):lm()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Lm.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function ww(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function xw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ww(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}bw.Te=new bw;var Iw=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return v(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=xw(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=xw(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Ew=function(){function e(t){h(this,e),this.Be=t}return v(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Sw=function(){function e(t){h(this,e),this.Be=t}return v(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),_w=function(){function e(){h(this,e),this.Be=new Iw,this.Le=new Ew(this.Be),this.Ue=new Sw(this.Be)}return v(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Tw=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return v(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Cw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Nw(e.arrayValue,t.arrayValue))?n:0!==(n=Nw(e.directionalValue,t.directionalValue))?n:Lm.comparator(e.documentKey,t.documentKey)}function Nw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Aw=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=On(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return v(e,[{key:"We",value:function(e){var t=Fm(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=jm(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=On(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Dw=function(){function e(){h(this,e),this.Ye=new Rw}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Xm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Xm.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Xm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Xm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Xm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Xm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Xm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Xm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Xm.resolve(zm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Xm.resolve(zm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Xm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Xm.resolve()}}]),e}(),Rw=function(){function e(){h(this,e),this.index={}}return v(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new py(Rm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new py(Rm.comparator)).toArray()}}]),e}(),Pw=new Uint8Array(0),Ow=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.Xe=new Rw,this.Ze=new Ik((function(e){return rg(e)}),(function(e,t){return ig(e,t)})),this.uid=t.uid||""}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Eb(i)};return Lw(e).put(a)}return Xm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Cm(t),""],!1,!0);return Lw(e).W(r).next((function(e){var r,i=On(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Tb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Fw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=jw(e);return a.next((function(e){o.put(pw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Fw(e),r=jw(e),i=Mw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Mw(e),i=!0,a=new Map;return Xm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ok(),o=[];return Xm.forEach(a,(function(i,a){var u;om("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(rg(t)));var s=function(e,t){var n=Fm(t);if(void 0===n)return null;var r,i=On(og(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=On(jm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=On(og(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=On(jm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ug(e,o.fieldPath,e.startAt):sg(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new gg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=On(jm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?sg(e,o.fieldPath,e.endAt):ug(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new gg(r,i)}(a,i),d=n.nn(i,a,l),h=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return Xm.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Lm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Xm.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):Pw,h=u.un(e,f,n[s%c],r),p=u.cn(e,f,i[s%c],a),v=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,d(u.createRange(h,p,v)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new Tw(e,Lm.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Tw(e,Lm.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Aw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=On(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Xm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new py(Om.comparator),r=!1,i=On(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=On(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new _w,i=On(jm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);bw.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new _w;return bw.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new _w;return bw.Te.ce(Uy(this.databaseId,t),n.qe(function(e){var t=jm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new _w);var i,a=0,o=On(jm(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=On(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&qy(c))r=this.fn(r,s,c);else{var d=f.qe(s.kind);bw.Te.ce(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=d(e),a=[],o=On(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=On(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new _w;f.seed(l.$e()),bw.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof cg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Fw(e),i=jw(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Xm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Um(t.sequenceNumber,new zm(uw(t.readTime),new Lm(Tb(t.documentKey)),t.largestBatchId)):Um.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Vm(Om.fromServerFormat(n),r)}));return new Mm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:_m(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Fw(e),a=jw(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Xm.forEach(t,(function(t){return a.put(pw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Xm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Xm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Xm.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Xm.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Mw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Mw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Mw(e),i=new py(Cw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Tw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new py(Cw),r=this.an(t,e);if(null==r)return n;var i=Fm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(qy(a)){var o,u=On(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Tw(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Tw(t.indexId,e.key,Pw,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;om("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=my(a),s=my(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=my(o)):l?(i(u),u=my(a)):(u=my(a),s=my(o))}}(r,i,Cw,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Xm.waitFor(o)}},{key:"_n",value:function(e){var t=1;return jw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Cw(e,t)})).filter((function(e,t,n){return!t||0!==Cw(e,n[t-1])}));var r=[];r.push(e);var i,a=On(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Cw(o,e),s=Cw(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Pw,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Pw,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Vw)}},{key:"getMinOffset",value:function(e,t){var n=this;return Xm.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||lm()}))})).next(Vw)}}]),e}();function Lw(e){return Zb(e,"collectionParents")}function Mw(e){return Zb(e,"indexEntries")}function Fw(e){return Zb(e,"indexConfiguration")}function jw(e){return Zb(e,"indexState")}function Vw(e){fm(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Km(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zm(t.readTime,t.documentKey,n)}var Uw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bw=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return v(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function qw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){fm(1===u)})));var c,l=[],f=On(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Ab(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return Xm.waitFor(a).next((function(){return l}))}function zw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw lm();t=e.noDocument}return JSON.stringify(t).length}Bw.DEFAULT_COLLECTION_PERCENTILE=10,Bw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bw.DEFAULT=new Bw(41943040,Bw.DEFAULT_COLLECTION_PERCENTILE,Bw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bw.DISABLED=new Bw(-1,0,0);var Kw=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return v(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hw(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Gw(e),o=Hw(e);return o.add({}).next((function(u){fm("number"==typeof u);var s,c=new $b(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return lb(e.re,t)})),i=n.mutations.map((function(t){return lb(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],d=new py((function(e,t){return _m(e.canonicalString(),t.canonicalString())})),h=On(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=Ab(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Db))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Xm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Hw(e).get(t).next((function(e){return e?(fm(e.userId===n.userId),sw(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Xm.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Hw(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(fm(t.batchId>=r),a=sw(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Hw(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hw(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return sw(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Nb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Gw(e).Z({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],d=Tb(c);if(s===n.userId&&t.path.isEqual(d))return Hw(e).get(f).next((function(e){if(!e)throw lm();fm(e.userId===n.userId),a.push(sw(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new py(_m),i=[];return t.forEach((function(t){var a=Nb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Gw(e).Z({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=Tb(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),Xm.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Nb(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new py(_m);return Gw(e).Z({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],d=Tb(c);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Hw(e).get(t).next((function(e){if(null===e)throw lm();fm(e.userId===n.userId),r.push(sw(n.It,e))})))})),Xm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return qw(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Xm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Xm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Gw(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Tb(e[1]);i.push(a)}else r.done()})).next((function(){fm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Ww(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Qw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return fm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Ww(e,t,n){var r=Nb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Gw(e).Z({range:a,X:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Hw(e){return Zb(e,"mutations")}function Gw(e){return Zb(e,"documentMutations")}function Qw(e){return Zb(e,"mutationQueues")}var Xw=function(){function e(t){h(this,e),this.bn=t}return v(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Yw=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.It=n}return v(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Xw(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Am.fromTimestamp(new Nm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Jw(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return fm(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Jw(e).Z((function(o,u){var s=cw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Xm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Jw(e).Z((function(e,n){var r=cw(n);t(r)}))}},{key:"Vn",value:function(e){return Zw(e).get("targetGlobalKey").next((function(e){return fm(null!==e),e}))}},{key:"Sn",value:function(e,t){return Zw(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Jw(e).put(lw(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=rg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Jw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=cw(n);ig(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=$w(e);return t.forEach((function(t){var o=Eb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Xm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=$w(e);return Xm.forEach(t,(function(t){var a=Eb(t.path);return Xm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=$w(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$w(e),i=Ok();return r.Z({range:n,X:!0},(function(e,t,n){var r=Tb(e[1]),a=new Lm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Eb(t.path),r=IDBKeyRange.bound([n],[Cm(n)],!1,!0),i=0;return $w(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Jw(e).get(t).next((function(e){return e?cw(e):null}))}}]),e}();function Jw(e){return Zb(e,"targets")}function Zw(e){return Zb(e,"targetGlobal")}function $w(e){return Zb(e,"targetDocuments")}function ex(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=_m(r,o);return 0===s?_m(i,u):s}var tx=function(){function e(t){h(this,e),this.xn=t,this.buffer=new py(ex),this.Nn=0}return v(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ex(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),nx=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return v(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;om("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ey(e.t0)){e.next=12;break}om("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Gm(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),rx=function(){function e(t,n){h(this,e),this.$n=t,this.params=n}return v(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Xm.resolve(uy.at);var r=new tx(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(om("LruGarbageCollector","Garbage collection skipped; disabled"),Xm.resolve(Uw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(om("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Uw):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(om("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),am()<=vr.DEBUG&&om("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Xm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ix=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=function(e,t){return new rx(e,t)}(this,n)}return v(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ax(e,n)}},{key:"removeReference",value:function(e,t,n){return ax(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ax(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Qw(e).tt((function(r){return Ww(e,r,t).next((function(e){return e&&(n=!0),Xm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Am.min()),$w(e).delete([0,Eb(o.path)])}))}));i.push(s)}})).next((function(){return Xm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ax(e,t)}},{key:"Kn",value:function(e,t){var n,r=$w(e),i=uy.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==uy.at&&t(new Lm(Tb(n)),i),i=s,n=u):i=uy.at})).next((function(){i!==uy.at&&t(new Lm(Tb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ax(e,t){return $w(e).put(function(e,t){return{targetId:0,path:Eb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var ox=function(){function e(){h(this,e),this.changes=new Ik((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return v(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,eg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Xm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ux=function(){function e(t){h(this,e),this.It=t}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return fx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return fx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],aw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=eg.newInvalidDocument(t);return fx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(dx(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:eg.newInvalidDocument(t)};return fx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(dx(t))},(function(e,i){r={document:n.jn(t,i),size:zw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Sk();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Sk(),i=new fy(Lm.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,zw(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Xm.resolve();var r=new py(px);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(dx(r.first()),dx(r.last())),a=r.getIterator(),o=a.getNext();return fx(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Lm.fromSegments([].concat(d(t.prefixPath),[t.collectionGroup,t.documentId]));o&&px(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(dx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),aw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fx(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Sk(),i=On(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Lm.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Sk(),o=hx(t,n),u=hx(t,zm.max());return fx(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Lm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new cx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return lx(e).get("remoteDocumentGlobalKey").next((function(e){return fm(!!e),e}))}},{key:"Qn",value:function(e,t){return lx(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=sb(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Lm.fromSegments(t.noDocument.path),i=uw(t.noDocument.readTime);n=eg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return lm();var a=Lm.fromSegments(t.unknownDocument.path),o=uw(t.unknownDocument.version);n=eg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Nm(e[0],e[1]);return Am.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Am.min()))return n}return eg.newInvalidDocument(e)}}]),e}();function sx(e){return new ux(e)}var cx=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Ik((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new py((function(e,t){return _m(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=iw(t.Yn.It,o);i=i.add(a.path.popLast());var c=zw(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=iw(t.Yn.It,o.convertToNoDocument(Am.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Xm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(ox);function lx(e){return Zb(e,"remoteDocumentGlobal")}function fx(e){return Zb(e,"remoteDocumentsV14")}function dx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function hx(e,t){var n=t.documentKey.path.toArray();return[e,aw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function px(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=_m(n[a],r[a]))return i;return(i=_m(n.length,r.length))||((i=_m(n[n.length-2],r[r.length-2]))||_m(n[n.length-1],r[r.length-1]))}var vx=v((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),mx=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return v(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&sk(r.mutation,e,yy.empty(),Nm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ok()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ok(),i=Nk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Tk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Nk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ok())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Sk(),a=Dk(),o=Dk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof dk)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),sk(o.mutation,t,o.mutation.getFieldMask(),Nm.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new vx(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Dk(),i=new fy((function(e,t){return e-t})),a=Ok();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=On(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||yy.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Ok()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Ak();c.forEach((function(e){if(!a.has(e)){var n=ok(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Xm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Lm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ng(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Xm.resolve(Nk()),u=-1,s=a;return o.next((function(t){return Xm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Xm.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Ok())})).next((function(e){return{batchId:u,changes:Ck(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Lm(t)).next((function(e){var t=Tk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Tk();return this.indexManager.getCollectionParents(e,i).next((function(o){return Xm.forEach(o,(function(o){var u=function(e,t){return new Ig(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,eg.newInvalidDocument(n)))}));var n=Tk();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&sk(a.mutation,i,yy.empty(),Nm.now()),Mg(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Xm.resolve(eg.newInvalidDocument(t))}}]),e}(),yx=function(){function e(t){h(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return v(e,[{key:"getBundleMetadata",value:function(e,t){return Xm.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Zk(n.createTime)}),Xm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Xm.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:fw(e.bundledQuery),readTime:Zk(e.readTime)}}(t)),Xm.resolve()}}]),e}(),gx=function(){function e(){h(this,e),this.overlays=new fy(Lm.comparator),this.es=new Map}return v(e,[{key:"getOverlay",value:function(e,t){return Xm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Nk();return Xm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Xm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Xm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Nk(),i=t.length+1,a=new Lm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Xm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new fy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Nk(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Nk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Xm.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new tw(t,n));var a=this.es.get(t);void 0===a&&(a=Ok(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),kx=function(){function e(){h(this,e),this.ns=new py(bx.ss),this.rs=new py(bx.os)}return v(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new bx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new bx(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Lm(new Rm([])),r=new bx(n,e),i=new bx(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Lm(new Rm([])),n=new bx(t,e),r=new bx(t,e+1),i=Ok();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new bx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),bx=function(){function e(t,n){h(this,e),this.key=t,this._s=n}return v(e,null,[{key:"ss",value:function(e,t){return Lm.comparator(e.key,t.key)||_m(e._s,t._s)}},{key:"os",value:function(e,t){return _m(e._s,t._s)||Lm.comparator(e.key,t.key)}}]),e}(),wx=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new py(bx.ss)}return v(e,[{key:"checkEmpty",value:function(e){return Xm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new $b(i,t,n,r);this.mutationQueue.push(a);var o,u=On(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new bx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Xm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Xm.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Xm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Xm.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Xm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new bx(t,0),i=new bx(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Xm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new py(_m);return t.forEach((function(e){var t=new bx(e,0),i=new bx(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Xm.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Lm.isDocumentKey(i)||(i=i.child(""));var a=new bx(new Lm(i),0),o=new py(_m);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Xm.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;fm(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Xm.forEach(t.mutations,(function(i){var a=new bx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new bx(t,0),r=this.gs.firstAfterOrEqual(n);return Xm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Xm.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),xx=function(){function e(t){h(this,e),this.Es=t,this.docs=new fy(Lm.comparator),this.size=0}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Xm.resolve(n?n.document.mutableCopy():eg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Sk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():eg.newInvalidDocument(e))})),Xm.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Sk(),i=new Lm(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Km(qm(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Xm.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){lm()}},{key:"As",value:function(e,t){return Xm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ix(this)}},{key:"getSize",value:function(e){return Xm.resolve(this.size)}}]),e}(),Ix=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).Yn=e,r}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Xm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(ox),Ex=function(){function e(t){h(this,e),this.persistence=t,this.Rs=new Ik((function(e){return rg(e)}),ig),this.lastRemoteSnapshotVersion=Am.min(),this.highestTargetId=0,this.bs=0,this.Ps=new kx,this.targetCount=0,this.vs=Xw.Pn()}return v(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Xm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Xm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Xm.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Xm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Xm.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Xw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Xm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Xm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Xm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Xm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Xm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Xm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Xm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Xm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Xm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Xm.resolve(n)}},{key:"containsKey",value:function(e,t){return Xm.resolve(this.Ps.containsKey(t))}}]),e}(),Sx=function(){function e(t,n){var r=this;h(this,e),this.Vs={},this.overlays={},this.Ss=new uy(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Ex(this),this.indexManager=new Dw,this.remoteDocumentCache=new xx((function(e){return r.referenceDelegate.xs(e)})),this.It=new rw(n),this.Ns=new yx(this.It)}return v(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new gx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new wx(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;om("MemoryPersistence","Starting transaction:",e);var i=new _x(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Xm.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),_x=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return v(n)}(Hm),Tx=function(){function e(t){h(this,e),this.persistence=t,this.Fs=new kx,this.$s=null}return v(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw lm()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Xm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Xm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Xm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xm.forEach(this.Ls,(function(r){var i=Lm.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Am.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Xm.or([function(){return Xm.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Cx=function(){function e(t){h(this,e),this.It=t}return v(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Ym("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cb,{unique:!0}),e.createObjectStore("documentMutations")}(e),Nx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Xm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Nx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Am.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Xm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:zb});t.createIndex("collectionPathOverlayIndex",Kb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Wb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Rb});t.createIndex("documentKeyIndex",Pb),t.createIndex("collectionGroupIndex",Ob)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Vb}).createIndex("sequenceNumberIndex",Ub,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Bb}).createIndex("documentKeyIndex",qb,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=zw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Xm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Xm.forEach(r,(function(r){fm(r.userId===n.userId);var i=sw(t.It,r);return qw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Rm(n),o=function(e){return[0,Eb(e)]}(a);r.push(t.get(o).next((function(n){return n?Xm.resolve():function(n){return t.put({targetId:0,path:Eb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Xm.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:jb});var n=t.store("collectionParents"),r=new Rw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Eb(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Rm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Tb(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=cw(r),a=lw(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Lm(Rm.fromString(i.document.name).popFirst(5)):i.noDocument?Lm.fromSegments(i.noDocument.path):i.unknownDocument?Lm.fromSegments(i.unknownDocument.path):lm()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Xm.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=sx(this.It),a=new Sx(Tx.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ok();sw(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Xm.forEach(r,(function(e,r){var o=new nm(r),u=gw.oe(n.It,o),s=a.getIndexManager(o),c=Kw.oe(o,n.It,s,a.referenceDelegate);return new mx(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Jb(t,uy.at),e).next()}))}))}}]),e}();function Nx(e){e.createObjectStore("targetDocuments",{keyPath:Mb}).createIndex("documentTargetsIndex",Fb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lb,{unique:!0}),e.createObjectStore("targetGlobal")}var Ax="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dx=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new pm(hm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ix(this,i),this.ii=n+"main",this.It=new rw(s),this.ri=new Jm(this.ii,this.Xs,new Cx(this.It)),this.Cs=new Yw(this.referenceDelegate,this.It),this.remoteDocumentCache=sx(this.It),this.Ns=new vw,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&um("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return v(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new pm(hm.FAILED_PRECONDITION,Ax);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new uy(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=We(ze().mark((function n(r){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=We(ze().mark((function t(n){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Px(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(ey(t))return om("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return om("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Rx(e).get("owner").next((function(e){return Xm.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Px(e).delete(this.clientId)}},{key:"yi",value:function(){var e=We(ze().mark((function e(){var t,n,r,i,a=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Zb(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Xm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=On(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Xm.resolve(!0):Rx(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new pm(hm.FAILED_PRECONDITION,Ax);return!1}}return!(!t.networkEnabled||!t.inForeground)||Px(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&om("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=We(ze().mark((function e(){var t=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Jb(e,uy.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Px(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Kw.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Ow(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return gw.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;om("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Yb:14===i?Xb:13===i?Qb:12===i?Gb:11===i?Hb:void lm();return this.ri.runTransaction(e,o,u,(function(i){return a=new Jb(i,r.Ss?r.Ss.next():uy.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw um("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new pm(hm.FAILED_PRECONDITION,Wm);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Rx(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new pm(hm.FAILED_PRECONDITION,Ax)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rx(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Rx(e);return n.get("owner").next((function(e){return t.mi(e)?(om("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Xm.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(um("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Bn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return om("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return um("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(fd){um("Failed to set zombie client id.",fd)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(fd){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Jm.C()}}]),e}();function Rx(e){return Zb(e,"owner")}function Px(e){return Zb(e,"clientMetadata")}function Ox(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Lx=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return v(e,null,[{key:"Ci",value:function(t,n){var r,i=Ok(),a=Ok(),o=On(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Mx=function(){function e(){h(this,e),this.xi=!1}return v(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(_g(t))return Xm.resolve(null);var r=Dg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Rg(t,null,"F"),r=Dg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ok.apply(void 0,d(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Rg(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return _g(t)||r.isEqual(Am.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(am()<=vr.DEBUG&&om("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lg(t)),i.Bi(e,o,t,Bm(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new py(jg(e));return t.forEach((function(t,r){Mg(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return am()<=vr.DEBUG&&om("QueryEngine","Using full collection scan to execute query:",Lg(t)),this.Ni.getDocumentsMatchingQuery(e,t,zm.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Fx=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new fy(_m),this.qi=new Ik((function(e){return rg(e)}),ig),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return v(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function jx(e,t,n,r){return new Fx(e,t,n,r)}function Vx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=We(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Ok(),s=On(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=On(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var h,p=On(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=On(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Bx(e,t){var n=dm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Xm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);fm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ok(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function qx(e){var t=dm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function zx(e,t){var n=dm(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(gy.EMPTY_BYTE_STRING,Am.min()).withLastLimboFreeSnapshotVersion(Am.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Sk(),s=Ok();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Kx(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Am.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Xm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function Kx(e,t,n){var r=Ok(),i=Ok();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Sk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Am.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):om("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Wx(e,t){var n=dm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Hx(e,t){var n=dm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Xm.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new nw(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Gx(e,t,n){return Qx.apply(this,arguments)}function Qx(){return Qx=We(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dm(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ey(e.t1)){e.next=12;break}throw e.t1;case 12:om("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Qx.apply(this,arguments)}function Xx(e,t,n){var r=dm(e),i=Am.min(),a=Ok();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=dm(e),i=r.qi.get(n);return void 0!==i?Xm.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Dg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Am.min(),n?a:Ok())})).next((function(e){return Zx(r,Fg(t),e),{documents:e,Hi:a}}))}))}function Yx(e,t){var n=dm(e),r=dm(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Jx(e,t){var n=dm(e),r=n.Ki.get(t)||Am.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Bm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Zx(n,t,e),e}))}function Zx(e,t,n){var r=e.Ki.get(t)||Am.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function $x(e,t,n,r){return eI.apply(this,arguments)}function eI(){return eI=We(ze().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=dm(t),o=Ok(),u=Sk(),s=On(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(d=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Hx(a,function(e){return Dg(Sg(Rm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Kx(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(e,t){return nI.apply(this,arguments)}function nI(){return nI=We(ze().mark((function e(t,n){var r,i,a,o=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ok(),e.next=3,Hx(t,Dg(fw(n.bundledQuery)));case 3:return i=e.sent,a=dm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Zk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(gy.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),nI.apply(this,arguments)}function rI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function iI(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function aI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var oI=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return v(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new pm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(um("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),uI=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return v(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new pm(i.error.code,i.error.message))),a?new e(t,i.state,r):(um("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),sI=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return v(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Mk(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ay(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(um("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),cI=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return v(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(um("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),lI=function(){function e(){h(this,e),this.activeTargetIds=Mk()}return v(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),fI=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new fy(_m),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=rI(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new lI),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return v(e,[{key:"start",value:function(){var e=We(ze().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=On(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(rI(this.persistenceKey,i)))&&(o=sI.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=On(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(h){c.e(h)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(aI(this.persistenceKey,e));if(n){var r=uI.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(aI(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return om("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){om("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){om("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(om("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void um("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(We(ze().mark((function e(){var r,i,a,o,u,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=uy.at;if(null!=e)try{var n=JSON.parse(e);fm("number"==typeof n),t=n}catch(e){um("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==uy.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new oI(this.currentUser,e,t,n),i=iI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=iI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=aI(this.persistenceKey,e),i=new uI(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return sI.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return oI.Zi(new nm(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return uI.Zi(r,t)}},{key:"yr",value:function(e){return cI.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:om("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Mk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),dI=function(){function e(){h(this,e),this.Lr=new lI,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return v(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new lI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),hI=function(){function e(){h(this,e)}return v(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),pI=function(){function e(){var t=this;h(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return v(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){om("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=On(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){om("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=On(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),vI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},mI=function(){function e(t){h(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return v(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),yI=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return v(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new em;o.setWithCredentials(!0),o.listenOnce(Xv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Qv.NO_ERROR:var t=o.getResponseJson();om("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Qv.TIMEOUT:om("Connection",'RPC "'+e+'" timed out'),a(new pm(hm.DEADLINE_EXCEEDED,"Request time out"));break;case Qv.HTTP_ERROR:var n=o.getStatus();if(om("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(hm).indexOf(t)>=0?t:hm.UNKNOWN}(r.status);a(new pm(u,r.message))}else a(new pm(hm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new pm(hm.UNAVAILABLE,"Connection failed."));break;default:lm()}}finally{om("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Hv(),a=Gv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Zv({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");om("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new mI({Hr:function(e){l?om("Connection","Not sending because WebChannel is closed:",e):(c||(om("Connection","Opening WebChannel transport."),s.open(),c=!0),om("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,$v.EventType.OPEN,(function(){l||om("Connection","WebChannel transport opened.")})),d(s,$v.EventType.CLOSE,(function(){l||(l=!0,om("Connection","WebChannel transport closed"),f.io())})),d(s,$v.EventType.ERROR,(function(e){l||(l=!0,sm("Connection","WebChannel transport errored:",e),f.io(new pm(hm.UNAVAILABLE,"The operation could not be completed")))})),d(s,$v.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];fm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){om("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=mk[e];if(void 0!==t)return xk(t)}(a),u=i.message;void 0===o&&(o=hm.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new pm(o,u)),s.close()}else om("Connection","WebChannel received:",n),f.ro(n)}})),d(a,Yv.STAT_EVENT,(function(e){e.stat===Jv.PROXY?om("Connection","Detected buffering proxy"):e.stat===Jv.NOPROXY&&om("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return v(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);om("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return om("RestConnection","Received: ",e),e}),(function(t){throw sm("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=vI[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function gI(){return"undefined"!=typeof window?window:null}function kI(){return"undefined"!=typeof document?document:null}function bI(e){return new Qk(e,!0)}var wI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return v(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&om("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),xI=function(){function e(t,n,r,i,a,o,u,s){h(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new wI(t,n)}return v(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===hm.RESOURCE_EXHAUSTED?(um(n.toString()),um("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===hm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new pm(hm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(We(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return om("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(om("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),II=function(e){y(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return v(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:lm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(fm(void 0===t||"string"==typeof t),gy.fromBase64String(t||"")):(fm(void 0===t||t instanceof Uint8Array),gy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?hm.UNKNOWN:xk(e.code);return new pm(t,e.message||"")}(o);n=new Bk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=nb(e,s.document.name),l=Zk(s.document.updateTime),f=new Zy({mapValue:{fields:s.document.fields}}),d=eg.newFoundDocument(c,l,f),h=s.targetIds||[],p=s.removedTargetIds||[];n=new Vk(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=nb(e,v.document),y=v.readTime?Zk(v.readTime):Am.min(),g=eg.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Vk([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=nb(e,b.document),x=b.removedTargetIds||[];n=new Vk([],x,w,null)}else{if(!("filter"in t))return lm();t.filter;var I=t.filter;I.targetId;var E=I.count||0,S=new bk(E),_=I.targetId;n=new Uk(_,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Am.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Am.min():t.readTime?Zk(t.readTime):Am.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=ab(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=ag(r)?{documents:db(e,r)}:{query:hb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Yk(e,t.resumeToken):t.snapshotVersion.compareTo(Am.min())>0&&(n.readTime=Xk(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=ab(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(xI),EI=function(e){y(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return v(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Mi(g(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(fm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(fm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Zk(e.updateTime):Zk(t);return n.isEqual(Am.min())&&(n=Zk(t)),new nk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Zk(e.commitTime);return this.listener.Zo(n,t)}return fm(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=ab(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return lb(t.It,e)}))};this.Bo(n)}}]),n}(xI),SI=function(e){y(n,e);var t=I(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return v(n,[{key:"su",value:function(){if(this.nu)throw new pm(hm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new pm(hm.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new pm(hm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return v((function e(){h(this,e)}))}());var _I=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return v(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(um(t),this.ou=!1):om("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),TI=v((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=jI(o),!e.t0){e.next=5;break}return om("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=dm(t))._u.add(4),e.next=4,AI(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,CI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new _I(r,i)}));function CI(e){return NI.apply(this,arguments)}function NI(){return NI=We(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jI(t)){e.next=18;break}n=On(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),NI.apply(this,arguments)}function AI(e){return DI.apply(this,arguments)}function DI(){return DI=We(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=On(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),DI.apply(this,arguments)}function RI(e,t){var n=dm(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),FI(n)?MI(n):hE(n).ko()&&OI(n,t))}function PI(e,t){var n=dm(e),r=hE(n);n.du.delete(t),r.ko()&&LI(n,t),0===n.du.size&&(r.ko()?r.Fo():jI(n)&&n.gu.set("Unknown"))}function OI(e,t){e.yu.Mt(t.targetId),hE(e).zo(t)}function LI(e,t){e.yu.Mt(t),hE(e).Ho(t)}function MI(e){e.yu=new zk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),hE(e).start(),e.gu.uu()}function FI(e){return jI(e)&&!hE(e).No()&&e.du.size>0}function jI(e){return 0===dm(e)._u.size}function VI(e){e.yu=void 0}function UI(e){return BI.apply(this,arguments)}function BI(){return BI=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){OI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function qI(e,t){return zI.apply(this,arguments)}function zI(){return zI=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:VI(t),FI(t)?(t.gu.hu(n),MI(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}function KI(e,t,n){return WI.apply(this,arguments)}function WI(){return WI=We(ze().mark((function e(t,n,r){var i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Bk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=We(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=On(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),om("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,HI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Vk?t.yu.Gt(n):n instanceof Uk?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Am.min())){e.next=29;break}return e.prev=14,e.next=17,qx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(gy.EMPTY_BYTE_STRING,n.snapshotVersion)),LI(e,t);var r=new nw(n.target,t,1,n.sequenceNumber);OI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),om("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,HI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),WI.apply(this,arguments)}function HI(e,t,n){return GI.apply(this,arguments)}function GI(){return GI=We(ze().mark((function e(t,n,r){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ey(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,AI(t);case 5:t.gu.set("Offline"),r||(r=function(){return qx(t.localStore)}),t.asyncQueue.enqueueRetryable(We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return om("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,CI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function QI(e,t){return t().catch((function(n){return HI(e,n,t)}))}function XI(e){return YI.apply(this,arguments)}function YI(){return YI=We(ze().mark((function e(t){var n,r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dm(t),r=pE(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!JI(n)){e.next=19;break}return e.prev=3,e.next=6,Wx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,ZI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,HI(n,e.t0);case 17:e.next=2;break;case 19:$I(n)&&eE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),YI.apply(this,arguments)}function JI(e){return jI(e)&&e.fu.length<10}function ZI(e,t){e.fu.push(t);var n=pE(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function $I(e){return jI(e)&&!pE(e).No()&&e.fu.length>0}function eE(e){pE(e).start()}function tE(e){return nE.apply(this,arguments)}function nE(){return nE=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pE(t).eu();case 1:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e){return iE.apply(this,arguments)}function iE(){return iE=We(ze().mark((function e(t){var n,r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pE(t),r=On(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t,n){return oE.apply(this,arguments)}function oE(){return oE=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=ew.from(i,n,r),e.next=3,QI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,XI(t);case 5:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function uE(e,t){return sE.apply(this,arguments)}function sE(){return sE=We(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&pE(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=We(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wk(i=n.code)||i===hm.ABORTED){e.next=7;break}return r=t.fu.shift(),pE(t).Mo(),e.next=5,QI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,XI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$I(t)&&eE(t);case 5:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=We(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=dm(t)).asyncQueue.verifyOperationInProgress(),om("RemoteStore","RemoteStore received new credentials"),i=jI(r),r._u.add(3),e.next=6,AI(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,CI(r);case 12:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t){return dE.apply(this,arguments)}function dE(){return dE=We(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dm(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,CI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,AI(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function hE(e){return e.pu||(e.pu=function(e,t,n){var r=dm(e);return r.su(),new II(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:UI.bind(null,e),Zr:qI.bind(null,e),Wo:KI.bind(null,e)}),e.wu.push(function(){var t=We(ze().mark((function t(n){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),FI(e)?MI(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:VI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function pE(e){return e.Iu||(e.Iu=function(e,t,n){var r=dm(e);return r.su(),new EI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:tE.bind(null,e),Zr:uE.bind(null,e),tu:rE.bind(null,e),Zo:aE.bind(null,e)}),e.wu.push(function(){var t=We(ze().mark((function t(n){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,XI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(om("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var vE=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new vm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return v(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pm(hm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function mE(e,t){if(um("AsyncQueue","".concat(t,": ").concat(e)),ey(e))return new pm(hm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var yE=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||Lm.comparator(e.key,n.key)}:function(e,t){return Lm.comparator(e.key,t.key)},this.keyedMap=Tk(),this.sortedSet=new fy(this.comparator)}return v(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),gE=function(){function e(){h(this,e),this.Tu=new fy(Lm.comparator)}return v(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):lm():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),kE=function(){function e(t,n,r,i,a,o,u,s,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return v(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,yE.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),bE=v((function e(){h(this,e),this.Au=void 0,this.listeners=[]})),wE=v((function e(){h(this,e),this.queries=new Ik((function(e){return Og(e)}),Pg),this.onlineState="Unknown",this.Ru=new Set}));function xE(e,t){return IE.apply(this,arguments)}function IE(){return IE=We(ze().mark((function e(t,n){var r,i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new bE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=mE(e.t0,"Initialization of query '".concat(Lg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&CE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),IE.apply(this,arguments)}function EE(e,t){return SE.apply(this,arguments)}function SE(){return SE=We(ze().mark((function e(t,n){var r,i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function _E(e,t){var n,r=dm(e),i=!1,a=On(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=On(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&CE(r)}function TE(e,t,n){var r=dm(e),i=r.queries.get(t);if(i){var a,o=On(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function CE(e){e.Ru.forEach((function(e){e.next()}))}var NE=function(){function e(t,n,r){h(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return v(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=On(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new kE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=kE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),AE=function(){function e(t,n){h(this,e),this.ku=t,this.byteLength=n}return v(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),DE=function(){function e(t){h(this,e),this.It=t}return v(e,[{key:"Ji",value:function(e){return nb(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?sb(this.It,e.document,!1):eg.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Zk(e)}}]),e}(),RE=function(){function e(t,n,r){h(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=PE(t)}return v(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Rm.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new DE(this.It),i=On(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=On(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ok()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=We(ze().mark((function e(){var t,n,r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$x(this.localStore,new DE(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=On(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,tI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function PE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var OE=v((function e(t){h(this,e),this.key=t})),LE=v((function e(t){h(this,e),this.key=t})),ME=function(){function e(t,n){h(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ok(),this.mutatedKeys=Ok(),this.Gu=jg(t),this.Qu=new yE(this.Gu)}return v(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new gE,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Mg(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lm()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new kE(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new gE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Ok(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new LE(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new OE(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Ok();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return kE.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),FE=v((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),jE=v((function e(t){h(this,e),this.key=t,this.nc=!1})),VE=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Ik((function(e){return Og(e)}),Pg),this.rc=new Map,this.oc=new Set,this.uc=new fy(Lm.comparator),this.cc=new Map,this.ac=new kx,this.hc={},this.lc=new Map,this.fc=Xw.vn(),this.onlineState="Unknown",this.dc=void 0}return v(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function UE(e,t){return BE.apply(this,arguments)}function BE(){return BE=We(ze().mark((function e(t,n){var r,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=PS(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Hx(r.localStore,Dg(n));case 8:return u=e.sent,r.isPrimaryClient&&RI(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,qE(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function qE(e,t,n,r,i){return zE.apply(this,arguments)}function zE(){return zE=We(ze().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=We(ze().mark((function e(t,n,r,i){var a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Xx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(cS(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Xx(t.localStore,n,!0);case 3:return o=e.sent,u=new ME(n,o.Hi),s=u.Wu(o.documents),c=jk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),cS(t,r,l.Xu),f=new FE(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function KE(e,t){return WE.apply(this,arguments)}function WE(){return WE=We(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dm(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Pg(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Gx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),PI(r.remoteStore,i.targetId),uS(r,i.targetId)})).catch(Gm);case 9:e.next=14;break;case 11:return uS(r,i.targetId),e.next=14,Gx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function HE(e,t,n){return GE.apply(this,arguments)}function GE(){return GE=We(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=dm(e),a=Nm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ok());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Sk(),s=Ok();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=On(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ck(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new dk(c.key,l,$y(l.value.mapValue),rk.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Ck(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new fy(_m)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,dS(i,a.changes);case 9:return e.next=11,XI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=mE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),GE.apply(this,arguments)}function QE(e,t){return XE.apply(this,arguments)}function XE(){return XE=We(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),e.prev=1,e.next=4,zx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(fm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?fm(n.nc):e.removedDocuments.size>0&&(fm(n.nc),n.nc=!1))})),e.next=8,dS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Gm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),XE.apply(this,arguments)}function YE(e,t,n){var r=dm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=dm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=On(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&CE(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function JE(e,t,n){return ZE.apply(this,arguments)}function ZE(){return ZE=We(ze().mark((function e(t,n,r){var i,a,o,u,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=dm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new fy(Lm.comparator)).insert(o,eg.newNoDocument(o,Am.min())),s=Ok().add(o),c=new Fk(Am.min(),new Map,new py(_m),u,s),e.next=9,QE(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),fS(i),e.next=16;break;case 14:return e.next=16,Gx(i.localStore,n,!1).then((function(){return uS(i,n,r)})).catch(Gm);case 16:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function $E(e,t){return eS.apply(this,arguments)}function eS(){return eS=We(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),i=n.batch.batchId,e.prev=1,e.next=4,Bx(r.localStore,n);case 4:return a=e.sent,oS(r,i,null),aS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,dS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),eS.apply(this,arguments)}function tS(e,t,n){return nS.apply(this,arguments)}function nS(){return nS=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dm(t),e.prev=1,e.next=4,function(e,t){var n=dm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return fm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,oS(i,n,r),aS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,dS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),nS.apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=We(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jI((r=dm(t)).remoteStore)||om("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=dm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=mE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),iS.apply(this,arguments)}function aS(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function oS(e,t,n){var r=dm(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function uS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=On(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||sS(e,t)}))}function sS(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(PI(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),fS(e))}function cS(e,t,n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof OE?(e.ac.addReference(a.key,t),lS(e,a)):a instanceof LE?(om("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||sS(e,a.key)):lm()}}catch(o){i.e(o)}finally{i.f()}}function lS(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(om("SyncEngine","New document in limbo: "+n),e.oc.add(r),fS(e))}function fS(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Lm(Rm.fromString(t)),r=e.fc.next();e.cc.set(r,new jE(n)),e.uc=e.uc.insert(n,r),RI(e.remoteStore,new nw(Dg(Sg(n.path)),r,2,uy.at))}}function dS(e,t,n){return hS.apply(this,arguments)}function hS(){return hS=We(ze().mark((function e(t,n,r){var i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dm(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Lx.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=We(ze().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Xm.forEach(n,(function(t){return Xm.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Xm.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ey(e.t0)){e.next=10;break}throw e.t0;case 10:om("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=On(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function pS(e,t){return vS.apply(this,arguments)}function vS(){return vS=We(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=dm(t)).currentUser.isEqual(n)){e.next=11;break}return om("SyncEngine","User change. New user:",n.toKey()),e.next=5,Vx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new pm(hm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,dS(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function mS(e,t){var n=dm(e),r=n.cc.get(t);if(r&&r.nc)return Ok().add(r.key);var i=Ok(),a=n.rc.get(t);if(!a)return i;var o,u=On(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function yS(e,t){return gS.apply(this,arguments)}function gS(){return gS=We(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),e.next=3,Xx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&cS(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e,t){return bS.apply(this,arguments)}function bS(){return bS=We(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),e.abrupt("return",Jx(r.localStore,n).then((function(e){return dS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function wS(e,t,n,r){return xS.apply(this,arguments)}function xS(){return xS=We(ze().mark((function e(t,n,r,i){var a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=dm(t),e.next=3,function(e,t){var n=dm(e),r=dm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Xm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,XI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(oS(a,n,i||null),aS(a,n),function(e,t){dm(dm(e).mutationQueue).An(t)}(a.localStore,n)):lm();case 11:return e.next=13,dS(a,o);case 13:e.next=16;break;case 15:om("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function IS(e,t){return ES.apply(this,arguments)}function ES(){return ES=We(ze().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(PS(r=dm(t)),OS(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,SS(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,fE(r.remoteStore,!0);case 9:o=On(a);try{for(o.s();!(u=o.n()).done;)s=u.value,RI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return uS(r,t),Gx(r.localStore,t,!0)})),PI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,SS(r,c);case 21:return function(e){var t=dm(e);t.cc.forEach((function(e,n){PI(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new fy(Lm.comparator)}(r),r.dc=!1,e.next=25,fE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function SS(e,t,n){return _S.apply(this,arguments)}function _S(){return _S=We(ze().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=dm(t),a=[],o=[],u=On(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Hx(i.localStore,Dg(f[0]));case 11:l=e.sent,d=On(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.ic.get(p),e.next=20,yS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Yx(i.localStore,c);case 36:return y=e.sent,e.next=39,Hx(i.localStore,y);case 39:return l=e.sent,e.next=42,qE(i,TS(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),_S.apply(this,arguments)}function TS(e){return Eg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function CS(e){var t=dm(e);return dm(dm(t.localStore).persistence).vi()}function NS(e,t,n,r){return AS.apply(this,arguments)}function AS(){return AS=We(ze().mark((function e(t,n,r,i){var a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=dm(t)).dc){e.next=3;break}return e.abrupt("return",void om("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Jx(a.localStore,Fg(o[0]));case 10:return u=e.sent,s=Fk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,gy.EMPTY_BYTE_STRING),e.next=14,dS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Gx(a.localStore,n,!0);case 17:return uS(a,n,i),e.abrupt("break",20);case 19:lm();case 20:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function DS(e,t,n){return RS.apply(this,arguments)}function RS(){return RS=We(ze().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=PS(t)).dc){e.next=45;break}a=On(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return om("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Yx(i.localStore,u);case 12:return s=e.sent,e.next=15,Hx(i.localStore,s);case 15:return c=e.sent,e.next=18,qE(i,TS(s),c.targetId,!1,c.resumeToken);case 18:RI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=On(r),e.prev=30,d=ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Gx(i.localStore,t,!1).then((function(){PI(i.remoteStore,t),uS(i,t)})).catch(Gm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),RS.apply(this,arguments)}function PS(e){var t=dm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JE.bind(null,t),t.sc.Wo=_E.bind(null,t.eventManager),t.sc.wc=TE.bind(null,t.eventManager),t}function OS(e){var t=dm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$E.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tS.bind(null,t),t}function LS(e,t,n){var r=dm(e);(function(){var e=We(ze().mark((function e(t,n,r){var i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=dm(e),r=Zk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(PE(i)),a=new RE(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,dS(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=dm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(sm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var MS=function(){function e(){h(this,e),this.synchronizeTabs=!1}return v(e,[{key:"initialize",value:function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=bI(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return jx(this.persistence,new Mx,e.initialUser,this.It)}},{key:"yc",value:function(e){return new Sx(Tx.Bs,this.It)}},{key:"gc",value:function(e){return new dI}},{key:"terminate",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),FS=function(e){y(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return v(n,[{key:"initialize",value:function(){var e=We(ze().mark((function e(t){var r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(g(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,OS(this.Ac.syncEngine);case 6:return e.next=8,XI(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return jx(this.persistence,new Mx,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new nx(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new oy(t,this.persistence);return new ay(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=Ox(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Bw.withCacheSize(this.cacheSizeBytes):Bw.DEFAULT;return new Dx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gI(),kI(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new dI}}]),n}(MS),jS=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return v(n,[{key:"initialize",value:function(){var e=We(ze().mark((function e(t){var r,i=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(g(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof fI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:wS.bind(null,r),$r:NS.bind(null,r),Br:DS.bind(null,r),vi:CS.bind(null,r),Mr:kS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IS(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=gI();if(!fI.C(t))throw new pm(hm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ox(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(FS),VS=function(){function e(){h(this,e)}return v(e,[{key:"initialize",value:function(){var e=We(ze().mark((function e(t,n){var r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return YE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=pS.bind(null,this.syncEngine),e.next=12,fE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new wE}},{key:"createDatastore",value:function(e){var t,n=bI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new yI(t));return function(e,t,n,r){return new SI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return YE(o.syncEngine,e,0)},a=pI.C()?new pI:new hI,new TI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new VE(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dm(t),om("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,AI(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function US(e,t,n){if(!n)throw new pm(hm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function BS(e,t,n,r){if(!0===t&&!0===r)throw new pm(hm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function qS(e){if(!Lm.isDocumentKey(e))throw new pm(hm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zS(e){if(Lm.isDocumentKey(e))throw new pm(hm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function KS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":lm()}function WS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pm(hm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=KS(e);throw new pm(hm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function HS(e,t){if(t<=0)throw new pm(hm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var GS=new Map,QS=function(){function e(t){var n;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new pm(hm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pm(hm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,BS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return v(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),XS=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QS({}),this._settingsFrozen=!1}return v(e,[{key:"app",get:function(){if(!this._app)throw new pm(hm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new pm(hm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ym;switch(e.type){case"gapi":var t=e.client;return new wm(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new pm(hm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=GS.get(e);t&&(om("ComponentProvider","Removing Datastore"),GS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function YS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=WS(e,XS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&sm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=nm.MOCK_USER;else{o=Yn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new pm(hm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new nm(s)}e._authCredentials=new gm(new mm(o,u))}}var JS=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return v(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $S(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ZS=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return v(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$S=function(e){y(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,Sg(i)))._path=i,a.type="collection",a}return v(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new JS(this.firestore,null,new Lm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ZS);function e_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lr(e),US("collection","path",t),e instanceof XS){var a=Rm.fromString.apply(Rm,[t].concat(r));return zS(a),new $S(e,null,a)}if(!(e instanceof JS||e instanceof $S))throw new pm(hm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rm.fromString.apply(Rm,[t].concat(r)));return zS(o),new $S(e.firestore,null,o)}function t_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lr(e),1===arguments.length&&(t=Sm.R()),US("doc","path",t),e instanceof XS){var a=Rm.fromString.apply(Rm,[t].concat(r));return qS(a),new JS(e,null,new Lm(a))}if(!(e instanceof JS||e instanceof $S))throw new pm(hm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rm.fromString.apply(Rm,[t].concat(r)));return qS(o),new JS(e.firestore,e instanceof $S?e.converter:null,new Lm(o))}function n_(e,t){return e=lr(e),t=lr(t),(e instanceof JS||e instanceof $S)&&(t instanceof JS||t instanceof $S)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function r_(e,t){return e=lr(e),t=lr(t),e instanceof ZS&&t instanceof ZS&&e.firestore===t.firestore&&Pg(e._query,t._query)&&e.converter===t.converter}function i_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return We(ze().mark((function r(){var i;return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var a_=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return v(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):um("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),o_=function(){function e(t,n){var r=this;h(this,e),this.Pc=t,this.It=n,this.metadata=new vm,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return v(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=We(ze().mark((function e(){var t,n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new AE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=We(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=We(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),u_=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return v(e,[{key:"lookup",value:function(){var e=We(ze().mark((function e(t){var n,r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new pm(hm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=We(ze().mark((function e(t,n){var r,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),i=ab(r.It)+"/documents",a={documents:n.map((function(e){return tb(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=cb(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());fm(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new gk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=We(ze().mark((function e(){var t,n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Lm.fromPath(t);n.mutations.push(new kk(r,n.precondition(r)))})),e.next=7,function(){var e=We(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dm(t),i=ab(r.It)+"/documents",a={writes:n.map((function(e){return lb(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lm();t=Am.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new pm(hm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Am.min())?rk.exists(!1):rk.updateTime(t):rk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Am.min()))throw new pm(hm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rk.updateTime(t)}return rk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),s_=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new wI(this.asyncQueue,"transaction_retry")}return v(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(We(ze().mark((function t(){var n,r;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new u_(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Cy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!wk(t)}return!1}}]),e}(),c_=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nm.UNAUTHENTICATED,this.clientId=Sm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return om("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return om("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return v(e,[{key:"getConfiguration",value:function(){var e=We(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new pm(hm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new vm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(We(ze().mark((function n(){var r;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=mE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function l_(e,t){return f_.apply(this,arguments)}function f_(){return f_=We(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),om("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Vx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function d_(e,t){return h_.apply(this,arguments)}function h_(){return h_=We(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,p_(t);case 3:return r=e.sent,om("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return cE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return cE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}function p_(e){return v_.apply(this,arguments)}function v_(){return v_=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return om("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,l_(t,new MS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(e){return y_.apply(this,arguments)}function y_(){return y_=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return om("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,d_(t,new VS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function g_(e){return p_(e).then((function(e){return e.persistence}))}function k_(e){return p_(e).then((function(e){return e.localStore}))}function b_(e){return m_(e).then((function(e){return e.remoteStore}))}function w_(e){return m_(e).then((function(e){return e.syncEngine}))}function x_(e){return m_(e).then((function(e){return e.datastore}))}function I_(e){return E_.apply(this,arguments)}function E_(){return E_=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=UE.bind(null,n.syncEngine),r.onUnlisten=KE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function S_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vm;return e.asyncQueue.enqueueAndForget(We(ze().mark((function i(){return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new a_({next:function(a){t.enqueueAndForget((function(){return EE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new pm(hm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new pm(hm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new NE(Sg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return xE(e,o)},i.next=3,I_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function __(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vm;return e.asyncQueue.enqueueAndForget(We(ze().mark((function i(){return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new a_({next:function(n){t.enqueueAndForget((function(){return EE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new pm(hm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new NE(n,a,{includeMetadataChanges:!0,Nu:!0});return xE(e,o)},i.next=3,I_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var T_=function(){function e(){var t=this;h(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new wI(this,"async_queue_retry"),this.Wc=function(){var e=kI();e&&om("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=kI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return v(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=kI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new vm;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=We(ze().mark((function e(){var t=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ey(e.t0)){e.next=12;break}throw e.t0;case 12:om("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw um("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=vE.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&lm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=On(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=On(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function C_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=On(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var N_=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new vm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return v(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),A_=function(e){y(n,e);var t=I(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new T_,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return v(n,[{key:"_terminate",value:function(){return this._firestoreClient||R_(this),this._firestoreClient.terminate()}}]),n}(XS);function D_(e){return e._firestoreClient||R_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function R_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new _y(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new c_(e._authCredentials,e._appCheckCredentials,e._queue,r)}function P_(e,t,n){var r=new vm;return e.asyncQueue.enqueue(We(ze().mark((function i(){var a;return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,l_(e,n);case 3:return i.next=5,d_(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===hm.FAILED_PRECONDITION||e.code===hm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:sm("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function O_(e){return function(e){return e.asyncQueue.enqueue(We(ze().mark((function t(){var n,r;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g_(e);case 2:return n=t.sent,t.next=5,b_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=dm(e);return t._u.delete(0),CI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(D_(e=WS(e,A_)))}function L_(e){return function(e){return e.asyncQueue.enqueue(We(ze().mark((function t(){var n,r;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g_(e);case 2:return n=t.sent,t.next=5,b_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=dm(t))._u.add(0),e.next=4,AI(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(D_(e=WS(e,A_)))}function M_(e,t){var n=D_(e=WS(e,A_)),r=new N_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new o_(e,t)}(function(e,t){if(e instanceof Uint8Array)return i_(e,t);if(e instanceof ArrayBuffer)return i_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,bI(t));e.asyncQueue.enqueueAndForget(We(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=LS,t.next=3,w_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function F_(e,t){return function(e,t){return e.asyncQueue.enqueue(We(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=dm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,k_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(D_(e=WS(e,A_)),t).then((function(t){return t?new ZS(e,null,t.query):null}))}function j_(e){if(e._initialized||e._terminated)throw new pm(hm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var V_=function(){function e(t){h(this,e),this._byteString=t}return v(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(gy.fromBase64String(t))}catch(t){throw new pm(hm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(gy.fromUint8Array(t))}}]),e}(),U_=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new pm(hm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Om(n)}return v(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var B_=v((function e(t){h(this,e),this._methodName=t})),q_=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new pm(hm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pm(hm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return v(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return _m(this._lat,e._lat)||_m(this._long,e._long)}}]),e}(),z_=/^__.*__$/,K_=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new dk(e,this.data,this.fieldMask,t,this.fieldTransforms):new fk(e,this.data,t,this.fieldTransforms)}}]),e}(),W_=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return new dk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function H_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lm()}}var G_=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return v(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return hT(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(H_(this.sa)&&z_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),Q_=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||bI(t)}return v(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new G_({sa:e,methodName:t,fa:n,path:Om.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function X_(e){var t=e._freezeSettings(),n=bI(e._databaseId);return new Q_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Y_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);cT("Data must be an object, but it was:",o,r);var u,s,c=uT(r,o);if(a.merge)u=new yy(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=On(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=lT(t,h,n);if(!o.contains(p))throw new pm(hm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));pT(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new yy(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new K_(new Zy(c),u,s)}var J_=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(B_);function Z_(e,t,n){return new G_({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var $_=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){return new tk(e.path,new Gg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(B_),eT=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e))._a=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=Z_(this,e,!0),n=this._a.map((function(e){return oT(e,t)})),r=new Qg(n);return new tk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(B_),tT=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e))._a=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=Z_(this,e,!0),n=this._a.map((function(e){return oT(e,t)})),r=new Yg(n);return new tk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(B_),nT=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).wa=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=new Zg(e.It,qg(e.It,this.wa));return new tk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(B_);function rT(e,t,n,r){var i=e.da(1,t,n);cT("Data must be an object, but it was:",i,r);var a=[],o=Zy.empty();cy(r,(function(e,r){var u=dT(t,e,n);r=lr(r);var s=i.ca(u);if(r instanceof J_)a.push(u);else{var c=oT(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new yy(a);return new W_(o,u,i.fieldTransforms)}function iT(e,t,n,r,i,a){var o=e.da(1,t,n),u=[lT(t,r,n)],s=[i];if(a.length%2!=0)throw new pm(hm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(lT(t,a[c])),s.push(a[c+1]);for(var l=[],f=Zy.empty(),d=u.length-1;d>=0;--d)if(!pT(l,u[d])){var h=u[d],p=s[d];p=lr(p);var v=o.ca(h);if(p instanceof J_)l.push(h);else{var m=oT(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new yy(l);return new W_(f,y,o.fieldTransforms)}function aT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return oT(n,e.da(r?4:3,t))}function oT(e,t){if(sT(e=lr(e)))return cT("Unsupported field value:",t,e),uT(e,t);if(e instanceof B_)return function(e,t){if(!H_(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=On(e);try{for(a.s();!(n=a.n()).done;){var o=oT(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=lr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qg(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Nm.fromDate(e);return{timestampValue:Xk(t.It,n)}}if(e instanceof Nm){var r=new Nm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xk(t.It,r)}}if(e instanceof q_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof V_)return{bytesValue:Yk(t.It,e._byteString)};if(e instanceof JS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:$k(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(KS(e)))}(e,t)}function uT(e,t){var n={};return ly(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cy(e,(function(e,r){var i=oT(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function sT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nm||e instanceof q_||e instanceof V_||e instanceof JS||e instanceof B_)}function cT(e,t,n){if(!sT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=KS(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function lT(e,t,n){if((t=lr(t))instanceof U_)return t._internalPath;if("string"==typeof t)return dT(e,t);throw hT("Field path arguments must be of type string or ",e,!1,void 0,n)}var fT=new RegExp("[~\\*/\\[\\]]");function dT(e,t,n){if(t.search(fT)>=0)throw hT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(U_,d(t.split(".")))._internalPath}catch(r){throw hT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function hT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new pm(hm.INVALID_ARGUMENT,u+e+s)}function pT(e,t){return e.some((function(e){return e.isEqual(t)}))}var vT=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return v(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new JS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new mT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(yT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),mT=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){return Mi(g(n.prototype),"data",this).call(this)}}]),n}(vT);function yT(e,t){return"string"==typeof t?dT(e,t):t instanceof U_?t._internalPath:t._delegate._internalPath}function gT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new pm(hm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kT=v((function e(){h(this,e)}));function bT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var wT=function(e){y(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return v(n,[{key:"_apply",value:function(e){var t=X_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new pm(hm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){RT(o,a);var s,c=[],l=On(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(DT(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=DT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||RT(o,a),u=aT(n,"where",o,"in"===a||"not-in"===a);var d=cg.create(i,a,u);return function(e,t){if(t.dt()){var n=Cg(e);if(null!==n&&!n.isEqual(t.field))throw new pm(hm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Tg(e);null!==r&&PT(e,t.field,r)}var i=function(e,t){var n,r=On(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new pm(hm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new pm(hm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new ZS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ig(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(kT);var xT=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return v(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new pm(hm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pm(hm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new kg(t,n);return function(e,t){if(null===Tg(e)){var n=Cg(e);null!==n&&PT(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new ZS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ig(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(kT);var IT=function(e){y(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return v(n,[{key:"_apply",value:function(e){return new ZS(e.firestore,e.converter,Rg(e._query,this.Ia,this.Ta))}}]),n}(kT);var ET=function(e){y(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return v(n,[{key:"_apply",value:function(e){var t=AT(e,this.type,this.Ea,this.Aa);return new ZS(e.firestore,e.converter,function(e,t){return new Ig(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(kT);function ST(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ET("startAt",t,!0)}function _T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ET("startAfter",t,!1)}var TT=function(e){y(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return v(n,[{key:"_apply",value:function(e){var t=AT(e,this.type,this.Ea,this.Aa);return new ZS(e.firestore,e.converter,function(e,t){return new Ig(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(kT);function CT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TT("endBefore",t,!1)}function NT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TT("endAt",t,!0)}function AT(e,t,n,r){if(n[0]=lr(n[0]),n[0]instanceof vT)return function(e,t,n,r,i){if(!r)throw new pm(hm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=On(Ag(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Uy(t,r.key));else{var c=r.data.field(s.field);if(Iy(c))throw new pm(hm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new pm(hm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new gg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=X_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new pm(hm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new pm(hm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ng(e)&&-1!==c.indexOf("/"))throw new pm(hm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Rm.fromString(c));if(!Lm.isDocumentKey(l))throw new pm(hm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Lm(l);u.push(Uy(t,f))}else{var d=aT(n,r,c);u.push(d)}}return new gg(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function DT(e,t,n){if("string"==typeof(n=lr(n))){if(""===n)throw new pm(hm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ng(t)&&-1!==n.indexOf("/"))throw new pm(hm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Rm.fromString(n));if(!Lm.isDocumentKey(r))throw new pm(hm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Uy(e,new Lm(r))}if(n instanceof JS)return Uy(e,n._key);throw new pm(hm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(KS(n),"."))}function RT(e,t){if(!Array.isArray(e)||0===e.length)throw new pm(hm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new pm(hm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function PT(e,t,n){if(!n.isEqual(t))throw new pm(hm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var OT=function(){function e(){h(this,e)}return v(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Py(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return cy(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new q_(wy(e.latitude),wy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ey(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=by(e);return new Nm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Rm.fromString(e);fm(Ib(n));var r=new Ty(n.get(1),n.get(3)),i=new Lm(n.popFirst(5));return r.isEqual(t)||um("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function LT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var MT=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new V_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new JS(this.firestore,null,t)}}]),n}(OT),FT=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return v(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),jT=function(e){y(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return v(n,[{key:"exists",value:function(){return Mi(g(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new VT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(yT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(vT),VT=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mi(g(n.prototype),"data",this).call(this,e)}}]),n}(jT),UT=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new FT(i.hasPendingWrites,i.fromCache),this.query=r}return v(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new VT(n._firestore,n._userDataWriter,r.key,r,new FT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pm(hm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new VT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new VT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:BT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function BT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lm()}}function qT(e,t){return e instanceof jT&&t instanceof jT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof UT&&t instanceof UT&&e._firestore===t._firestore&&r_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var zT=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new V_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new JS(this.firestore,null,t)}}]),n}(OT);function KT(e){e=WS(e,JS);var t=WS(e.firestore,A_),n=D_(t),r=new zT(t);return function(e,t){var n=new vm;return e.asyncQueue.enqueueAndForget(We(ze().mark((function r(){return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=We(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=dm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new pm(hm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=mE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,k_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new jT(t,r,e._key,n,new FT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function WT(e){e=WS(e,ZS);var t=WS(e.firestore,A_),n=D_(t),r=new zT(t);return function(e,t){var n=new vm;return e.asyncQueue.enqueueAndForget(We(ze().mark((function r(){return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=We(ze().mark((function e(t,n,r){var i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xx(t,n,!0);case 3:i=e.sent,a=new ME(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=mE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,k_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new UT(t,r,e,n)}))}function HT(e,t,n){e=WS(e,JS);var r=WS(e.firestore,A_),i=LT(e.converter,t,n);return YT(r,[Y_(X_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rk.none())])}function GT(e,t,n){e=WS(e,JS);for(var r=WS(e.firestore,A_),i=X_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return YT(r,[("string"==typeof(t=lr(t))||t instanceof U_?iT(i,"updateDoc",e._key,t,n,o):rT(i,"updateDoc",e._key,t)).toMutation(e._key,rk.exists(!0))])}function QT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=lr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||C_(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(C_(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof JS)l=WS(e.firestore,A_),f=Sg(e._key.path),c={next:function(t){n[s]&&n[s](JT(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=WS(e,ZS);l=WS(p.firestore,A_),f=p._query;var v=new zT(l);c={next:function(e){n[s]&&n[s](new UT(l,v,p,e))},error:n[s+1],complete:n[s+2]},gT(e._query)}return function(e,t,n,r){var i=new a_(r),a=new NE(t,i,n);return e.asyncQueue.enqueueAndForget(We(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xE,t.next=3,I_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(We(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=EE,t.next=3,I_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(D_(l),f,d,c)}function XT(e,t){return function(e,t){var n=new a_(t);return e.asyncQueue.enqueueAndForget(We(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){dm(e).Ru.add(t),t.next()},t.next=3,I_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(We(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){dm(e).Ru.delete(t)},t.next=3,I_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(D_(e=WS(e,A_)),C_(t)?t:{next:t})}function YT(e,t){return function(e,t){var n=new vm;return e.asyncQueue.enqueueAndForget(We(ze().mark((function r(){return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=HE,r.next=3,w_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(D_(e),t)}function JT(e,t,n){var r=n.docs.get(t._key),i=new zT(e);return new jT(e,i,t._key,r,new FT(n.hasPendingWrites,n.fromCache),t.converter)}var ZT={maxAttempts:5},$T=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=X_(t)}return v(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=eC(e,this._firestore),i=LT(r.converter,t,n),a=Y_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,rk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=eC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=lr(t))||t instanceof U_?iT(this._dataReader,"WriteBatch.update",i._key,t,n,o):rT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,rk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=eC(e,this._firestore);return this._mutations=this._mutations.concat(new gk(t._key,rk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new pm(hm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function eC(e,t){if((e=lr(e)).firestore!==t)throw new pm(hm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var tC=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return v(n,[{key:"get",value:function(e){var t=this,r=eC(e,this._firestore),i=new zT(this._firestore);return Mi(g(n.prototype),"get",this).call(this,e).then((function(e){return new jT(t._firestore,i,r._key,e._document,new FT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=X_(t)}return v(e,[{key:"get",value:function(e){var t=this,n=eC(e,this._firestore),r=new MT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return lm();var i=e[0];if(i.isFoundDocument())return new vT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new vT(t._firestore,r,n._key,null,n.converter);throw lm()}))}},{key:"set",value:function(e,t,n){var r=eC(e,this._firestore),i=LT(r.converter,t,n),a=Y_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=eC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=lr(t))||t instanceof U_?iT(this._dataReader,"Transaction.update",i._key,t,n,o):rT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=eC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function nC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eT("arrayUnion",t)}function rC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rm=e}(ii),Jr(new fr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new A_(new km(e.getProvider("auth-internal")),new Im(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pm(hm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ty(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),li(tm,"3.7.2",e),li(tm,"3.7.2","esm2017")}();function iC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function aC(){if("undefined"===typeof Uint8Array)throw new pm("unimplemented","Uint8Arrays are not available in this environment.")}function oC(){if("undefined"==typeof atob)throw new pm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var uC=function(){function e(t){h(this,e),this._delegate=t}return v(e,[{key:"toBase64",value:function(){return oC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return aC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return oC(),new e(V_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return aC(),new e(V_.fromUint8Array(t))}}]),e}();function sC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=On(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var cC=function(){function e(){h(this,e)}return v(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){j_(e=WS(e,A_));var n=D_(e),r=e._freezeSettings(),i=new VS;return P_(n,i,new FS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){j_(e=WS(e,A_));var t=D_(e),n=e._freezeSettings(),r=new VS;return P_(t,r,new jS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new pm(hm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new vm;return e._queue.enqueueAndForgetEvenWhileRestricted(We(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jm.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Jm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ox(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),lC=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ty||(this._appCompat=t)}return v(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||sm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};YS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return O_(this._delegate)}},{key:"disableNetwork",value:function(){return L_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&BS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new vm;return e.asyncQueue.enqueueAndForget(We(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=rS,n.next=3,w_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(D_(e=WS(e,A_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return XT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new pm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new EC(this,e_(this._delegate,e))}catch(sM){throw mC(sM,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new vC(this,t_(this._delegate,e))}catch(sM){throw mC(sM,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new wC(this,function(e,t){if(e=WS(e,XS),US("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new pm(hm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ZS(e,null,function(e){return new Ig(Rm.emptyPath(),e)}(t))}(this._delegate,e))}catch(sM){throw mC(sM,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=WS(e,A_);var r=Object.assign(Object.assign({},ZT),n);return function(e){if(e.maxAttempts<1)throw new pm(hm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new vm;return e.asyncQueue.enqueueAndForget(We(ze().mark((function i(){var a;return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,x_(e);case 2:a=i.sent,new s_(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(D_(e),(function(n){return t(new tC(e,n))}),r)}(this._delegate,(function(n){return e(new dC(t,n))}))}},{key:"batch",value:function(){var e=this;return D_(this._delegate),new hC(new $T(this._delegate,(function(t){return YT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return M_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return F_(this._delegate,e).then((function(e){return e?new wC(t,e):null}))}}]),e}(),fC=function(e){y(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new uC(new V_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return vC.forKey(t,this.firestore,null)}}]),n}(OT);var dC=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new fC(t)}return v(e,[{key:"get",value:function(e){var t=this,n=SC(e);return this._delegate.get(n).then((function(e){return new kC(t._firestore,new jT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=SC(e);return n?(iC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=SC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SC(e);return this._delegate.delete(t),this}}]),e}(),hC=function(){function e(t){h(this,e),this._delegate=t}return v(e,[{key:"set",value:function(e,t,n){var r=SC(e);return n?(iC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=SC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),pC=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return v(e,[{key:"fromFirestore",value:function(e,t){var n=new VT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new fC(t),n),i.set(n,a)),a}}]),e}();pC.INSTANCES=new WeakMap;var vC=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new fC(t)}return v(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new EC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new EC(this.firestore,e_(this._delegate,e))}catch(sM){throw mC(sM,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=lr(e))instanceof JS&&n_(this._delegate,e)}},{key:"set",value:function(e,t){t=iC("DocumentReference.set",t);try{return t?HT(this._delegate,e,t):HT(this._delegate,e)}catch(sM){throw mC(sM,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?GT(this._delegate,e):GT.apply(void 0,[this._delegate,e,t].concat(r))}catch(sM){throw mC(sM,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return YT(WS(e.firestore,A_),[new gk(e._key,rk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yC(n),a=gC(n,(function(t){return new kC(e.firestore,new jT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return QT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?KT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=WS(e,JS);var t=WS(e.firestore,A_);return S_(D_(t),e._key,{source:"server"}).then((function(n){return JT(t,e,n)}))}(this._delegate):function(e){e=WS(e,JS);var t=WS(e.firestore,A_);return S_(D_(t),e._key).then((function(n){return JT(t,e,n)}))}(this._delegate),t.then((function(e){return new kC(n.firestore,new jT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(pC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new pm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new JS(n._delegate,r,new Lm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new JS(n._delegate,r,t))}}]),e}();function mC(e,t,n){return e.message=e.message.replace(t,n),e}function yC(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!sC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function gC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=sC(e[0])?e[0]:sC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var kC=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"ref",get:function(){return new vC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return qT(this._delegate,e._delegate)}}]),e}(),bC=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||lm()}(void 0!==t),t}}]),n}(kC),wC=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new fC(t)}return v(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,bT(this._delegate,function(e,t,n){var r=t,i=yT("where",e);return new wT(i,r,n)}(t,n,r)))}catch(sM){throw mC(sM,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,bT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yT("orderBy",e);return new xT(n,t)}(t,n)))}catch(sM){throw mC(sM,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,bT(this._delegate,function(e){return HS("limit",e),new IT("limit",e,"F")}(t)))}catch(sM){throw mC(sM,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,bT(this._delegate,function(e){return HS("limitToLast",e),new IT("limitToLast",e,"L")}(t)))}catch(sM){throw mC(sM,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,bT(this._delegate,ST.apply(void 0,arguments)))}catch(sM){throw mC(sM,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,bT(this._delegate,_T.apply(void 0,arguments)))}catch(sM){throw mC(sM,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,bT(this._delegate,CT.apply(void 0,arguments)))}catch(sM){throw mC(sM,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,bT(this._delegate,NT.apply(void 0,arguments)))}catch(sM){throw mC(sM,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return r_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?WT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=WS(e,ZS);var t=WS(e.firestore,A_),n=D_(t),r=new zT(t);return __(n,e._query,{source:"server"}).then((function(n){return new UT(t,r,e,n)}))}(this._delegate):function(e){e=WS(e,ZS);var t=WS(e.firestore,A_),n=D_(t),r=new zT(t);return gT(e._query),__(n,e._query).then((function(n){return new UT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new IC(n.firestore,new UT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yC(n),a=gC(n,(function(t){return new IC(e.firestore,new UT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return QT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(pC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),xC=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new bC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),IC=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"query",get:function(){return new wC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new bC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new xC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new bC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return qT(this._delegate,e._delegate)}}]),e}(),EC=function(e){y(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return v(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new vC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new vC(this.firestore,void 0===e?t_(this._delegate):t_(this._delegate,e))}catch(sM){throw mC(sM,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=WS(e.firestore,A_),r=t_(e),i=LT(e.converter,t);return YT(n,[Y_(X_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new vC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return n_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(pC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(wC);function SC(e){return WS(e,JS)}var _C=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=E(U_,n)}return v(e,[{key:"isEqual",value:function(e){return(e=lr(e))instanceof U_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Om.keyField().canonicalString())}}]),e}(),TC=function(){function e(t){h(this,e),this._delegate=t}return v(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new $_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new J_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=nC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=rC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new nT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),CC={Firestore:lC,GeoPoint:q_,Timestamp:Nm,Blob:uC,Transaction:dC,WriteBatch:hC,DocumentReference:vC,DocumentSnapshot:kC,Query:wC,QueryDocumentSnapshot:bC,QuerySnapshot:IC,CollectionReference:EC,FieldPath:_C,FieldValue:TC,setLogLevel:function(e){!function(e){im.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new fr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},CC)))}(e,(function(e,t){return new lC(e,t,new cC)})),e.registerVersion("@firebase/firestore-compat","0.2.2")}(Oi);Oi.initializeApp({apiKey:"AIzaSyAxlJhlN2DDPCpvG_s1YQ8AA3VU6wvuVR8",authDomain:"apimlpropia.firebaseapp.com",projectId:"apimlpropia",storageBucket:"apimlpropia.appspot.com",messagingSenderId:"22608013439",appId:"1:22608013439:web:5d0887aa9f40f91218b74a"});var NC=Oi,AC=["bsPrefix","fluid","as","className"],DC=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=Ge(e,AC),s=wt(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,ft.jsx)(a,qe(qe({ref:t},u),{},{className:Xe()(o,r?"".concat(s).concat(c):s)}))}));DC.displayName="Container",DC.defaultProps={fluid:!1};var RC=DC,PC=["bsPrefix","variant","animation","size","as","className"],OC=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=e.size,o=e.as,u=void 0===o?"div":o,s=e.className,c=Ge(e,PC);n=wt(n,"spinner");var l="".concat(n,"-").concat(i);return(0,ft.jsx)(u,qe(qe({ref:t},c),{},{className:Xe()(s,l,a&&"".concat(l,"-").concat(a),r&&"text-".concat(r))}))}));OC.displayName="Spinner";var LC=OC;var MC=function(e){var t=e.children;return e.loading?(0,ft.jsx)(RC,{style:{maxWidth:"500px",height:"100vh"},children:(0,ft.jsxs)(Dn,{variant:"warning",disabled:!0,style:{width:"4vw",height:"4vw",position:"fixed",top:"40%"},children:[(0,ft.jsx)(LC,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,ft.jsx)("span",{className:"visually-hidden",children:"Loading..."})]})}):(0,ft.jsx)(ft.Fragment,{children:t})};var FC=function(){var e=l((0,r.useState)(!0),2),t=e[0],n=e[1],i=l((0,r.useState)({}),2),a=i[0],o=i[1],u=l((0,r.useState)(!1),2),s=u[0],c=u[1],f=l((0,r.useState)({variant:"",titulo:"",mensaje:"",ruta:""}),2),d=f[0],h=f[1],p=ge().id;return(0,r.useEffect)((function(){var e=function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,NC.firestore().doc("productos/".concat(p)).get();case 3:(t=e.sent)&&(console.log(t.data()),o(t.data()),n(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[p]),(0,ft.jsx)(MC,{loading:t,children:(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(Pn,qe(qe({},d),{},{show:s,onToggleView:function(e){c(e)}})),(0,ft.jsxs)("div",{style:{height:"600px",backgroundColor:"#777",border:"3px solid green"},children:[(0,ft.jsx)("h3",{children:"Est\xe1s a un paso de completar tu compra"}),(0,ft.jsxs)(RC,{style:{width:"fit-content",padding:"5vh"},children:[(0,ft.jsx)("img",{src:a.imagen,alt:"imagen de ".concat(a.nombre),style:{height:"150px",margin:"0vh 3vh 3vh 3vh"}}),(0,ft.jsxs)("div",{style:{float:"right"},children:[(0,ft.jsxs)("h4",{children:["Est\xe1s a punto de comprar ",a.nombre]}),(0,ft.jsxs)("h4",{children:["Precio final de la compra: $ ",a.precio]}),(0,ft.jsx)(Dn,{variant:"success",onClick:function(){c(!0),h({variant:"success",titulo:"Compra completada",mensaje:"Felicitaciones! Has comprado ".concat(a.nombre),ruta:"/"})},size:"lg",children:"Confirmar compra"})]})]})]})]})})},jC=["bsPrefix","className","variant","as"],VC=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=Ge(e,jC),s=wt(n,"card-img");return(0,ft.jsx)(o,qe({ref:t,className:Xe()(i?"".concat(s,"-").concat(i):s,r)},u))}));VC.displayName="CardImg";var UC=VC,BC=r.createContext(null);BC.displayName="CardHeaderContext";var qC=BC,zC=["bsPrefix","className","as"],KC=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,u=Ge(e,zC),s=wt(n,"card-header"),c=(0,r.useMemo)((function(){return{cardHeaderBsPrefix:s}}),[s]);return(0,ft.jsx)(qC.Provider,{value:c,children:(0,ft.jsx)(o,qe(qe({ref:t},u),{},{className:Xe()(i,s)}))})}));KC.displayName="CardHeader";var WC=KC,HC=["bsPrefix","className","bg","text","border","body","children","as"],GC=yn("h5"),QC=yn("h6"),XC=wn("card-body"),YC=wn("card-title",{Component:GC}),JC=wn("card-subtitle",{Component:QC}),ZC=wn("card-link",{Component:"a"}),$C=wn("card-text",{Component:"p"}),eN=wn("card-footer"),tN=wn("card-img-overlay"),nN=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,s=e.children,c=e.as,l=void 0===c?"div":c,f=Ge(e,HC),d=wt(n,"card");return(0,ft.jsx)(l,qe(qe({ref:t},f),{},{className:Xe()(r,d,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,ft.jsx)(XC,{children:s}):s}))}));nN.displayName="Card",nN.defaultProps={body:!1};var rN=Object.assign(nN,{Img:UC,Title:YC,Subtitle:JC,Body:XC,Link:ZC,Text:$C,Header:WC,Footer:eN,ImgOverlay:tN}),iN=["as","bsPrefix","className"],aN=["className"];var oN=r.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=Ge(e,iN);n=wt(n,"col");var a=xt(),o=It(),u=[],s=[];return a.forEach((function(e){var t,r,a,c=i[e];delete i[e],"object"===typeof c&&null!=c?(t=c.span,r=c.offset,a=c.order):t=c;var l=e!==o?"-".concat(e):"";t&&u.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=a&&s.push("order".concat(l,"-").concat(a)),null!=r&&s.push("offset".concat(l,"-").concat(r))})),[qe(qe({},i),{},{className:Xe().apply(void 0,[r].concat(u,s))}),{as:t,bsPrefix:n,spans:u}]}(e),r=l(n,2),i=r[0],a=i.className,o=Ge(i,aN),u=r[1],s=u.as,c=void 0===s?"div":s,f=u.bsPrefix,d=u.spans;return(0,ft.jsx)(c,qe(qe({},o),{},{ref:t,className:Xe()(a,!d.length&&f)}))}));oN.displayName="Col";var uN=oN;var sN=function(e){var t=e.nombre,n=e.precio,r=e.descripcion,i=e.imagen,a=e.id;return(0,ft.jsx)(uN,{xs:12,se:6,lg:4,xxl:3,children:(0,ft.jsx)(Fe,{to:"/producto/".concat(a),style:{textDecoration:"none"},children:(0,ft.jsxs)(rN,{id:"darkCard",bg:"dark",text:"white",children:[(0,ft.jsx)(rN.Img,{id:"cardImg",variant:"top",src:i}),(0,ft.jsxs)(rN.Body,{children:[(0,ft.jsx)(rN.Title,{children:t}),(0,ft.jsx)(rN.Text,{id:"cardText",children:r}),(0,ft.jsxs)(rN.Text,{children:["$ ",n]})]})]})})})},cN=["bsPrefix","className","as"],lN=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=Ge(e,cN),u=wt(n,"row"),s=xt(),c=It(),l="".concat(u,"-cols"),f=[];return s.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==c?"-".concat(e):"";null!=t&&f.push("".concat(l).concat(r,"-").concat(t))})),(0,ft.jsx)(a,qe(qe({ref:t},o),{},{className:Xe().apply(void 0,[r,u].concat(f))}))}));lN.displayName="Row";var fN=lN;var dN=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1],i=l((0,r.useState)(!0),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){NC.firestore().collection("productos").get().then((function(e){n(e.docs),o(!1)}))}),[]),(0,ft.jsx)(MC,{loading:a,children:(0,ft.jsx)(fN,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,ft.jsx)(sN,qe(qe({},e.data()),{},{id:e.id}),e.id)}))})})};var hN=function(){return(0,ft.jsx)(RC,{style:{backgroundColor:"#000"},children:(0,ft.jsx)(dN,{})})},pN=["name"],vN=["_f"],mN=["_f"],yN=function(e){return"checkbox"===e.type},gN=function(e){return e instanceof Date},kN=function(e){return null==e},bN=function(e){return"object"===typeof e},wN=function(e){return!kN(e)&&!Array.isArray(e)&&bN(e)&&!gN(e)},xN=function(e){return wN(e)&&e.target?yN(e.target)?e.target.checked:e.target.value:e},IN=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},EN=function(e){return Array.isArray(e)?e.filter(Boolean):[]},SN=function(e){return void 0===e},_N=function(e,t,n){if(!t||!wN(e))return n;var r=EN(t.split(/[,[\].]+?/)).reduce((function(e,t){return kN(e)?e:e[t]}),e);return SN(r)||r===e?SN(e[t])?n:e[t]:r},TN="blur",CN="focusout",NN="onBlur",AN="onChange",DN="onSubmit",RN="onTouched",PN="all",ON="max",LN="min",MN="maxLength",FN="minLength",jN="pattern",VN="required",UN="validate",BN=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==PN&&(t._proxyFormState[i]=!r||PN),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),qN=function(e){return wN(e)&&!Object.keys(e).length},zN=function(e,t,n){e.name;var r=Ge(e,pN);return qN(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||PN)}))},KN=function(e){return Array.isArray(e)?e:[e]};function WN(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return function(){n&&n.unsubscribe()}}),[e.disabled])}var HN=function(e){return"string"===typeof e},GN=function(e,t,n,r){var i=Array.isArray(e);return HN(e)?(r&&t.watch.add(e),_N(n,e)):i?e.map((function(e){return r&&t.watch.add(e),_N(n,e)})):(r&&(t.watchAll=!0),n)},QN=function(e){return"function"===typeof e},XN=function(e){for(var t in e)if(QN(e[t]))return!0;return!1};var YN=function(e,t,n,r,i){return t?qe(qe({},n[e]),{},{types:qe(qe({},n[e]&&n[e].types?n[e].types:{}),{},Ue({},r,i||!0))}):{}},JN=function(e){return/^\w*$/.test(e)},ZN=function(e){return EN(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function $N(e,t,n){for(var r=-1,i=JN(t)?[t]:ZN(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=wN(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var eA=function e(t,n,r){var i,a=On(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=_N(t,o);if(u){var s=u._f,c=Ge(u,vN);if(s&&n(s.name)){if(s.ref.focus){s.ref.focus();break}if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else wN(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},tA=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||d(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},nA=function(e,t,n){var r=EN(_N(e,n));return $N(r,"root",t[n]),$N(e,n,r),e},rA=function(e){return"boolean"===typeof e},iA=function(e){return"file"===e.type},aA=function(e){return HN(e)||r.isValidElement(e)},oA=function(e){return"radio"===e.type},uA=function(e){return e instanceof RegExp},sA={value:!1,isValid:!1},cA={value:!0,isValid:!0},lA=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!SN(e[0].attributes.value)?SN(e[0].value)||""===e[0].value?cA:{value:e[0].value,isValid:!0}:cA:sA}return sA},fA={isValid:!1,value:null},dA=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),fA):fA};function hA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(aA(e)||Array.isArray(e)&&e.every(aA)||rA(e)&&!e)return{type:n,message:aA(e)?e:"",ref:t}}var pA=function(e){return wN(e)&&!uA(e)?e:{value:e,message:""}},vA=function(){var e=We(ze().mark((function e(t,n,r,i,a){var o,u,s,c,l,f,d,h,p,v,m,y,g,k,b,w,x,I,E,S,_,T,C,N,A,D,R,P,O,L,M,F,j,V,U,B,q,z,K,W,H,G,Q,X,Y,J,Z;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,u=o.ref,s=o.refs,c=o.required,l=o.maxLength,f=o.minLength,d=o.min,h=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,k=o.disabled,g&&!k){e.next=3;break}return e.abrupt("return",{});case 3:if(b=s?s[0]:u,w=function(e){i&&b.reportValidity&&(b.setCustomValidity(rA(e)?"":e||" "),b.reportValidity())},x={},I=oA(u),E=yN(u),S=I||E,_=(y||iA(u))&&!u.value||""===n||Array.isArray(n)&&!n.length,T=YN.bind(null,m,r,x),C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:MN,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:FN,a=e?t:n;x[m]=qe({type:e?r:i,message:a,ref:u},T(e?r:i,a))},!(a?!Array.isArray(n)||!n.length:c&&(!S&&(_||kN(n))||rA(n)&&!n||E&&!lA(s).isValid||I&&!dA(s).isValid))){e.next=19;break}if(N=aA(c)?{value:!!c,message:c}:pA(c),A=N.value,D=N.message,!A){e.next=19;break}if(x[m]=qe({type:VN,message:D,ref:b},T(VN,D)),r){e.next=19;break}return w(D),e.abrupt("return",x);case 19:if(_||kN(d)&&kN(h)){e.next=28;break}if(O=pA(h),L=pA(d),kN(n)||isNaN(n)?(F=u.valueAsDate||new Date(n),j=function(e){return new Date((new Date).toDateString()+" "+e)},V="time"==u.type,U="week"==u.type,HN(O.value)&&n&&(R=V?j(n)>j(O.value):U?n>O.value:F>new Date(O.value)),HN(L.value)&&n&&(P=V?j(n)<j(L.value):U?n<L.value:F<new Date(L.value))):(M=u.valueAsNumber||(n?+n:n),kN(O.value)||(R=M>O.value),kN(L.value)||(P=M<L.value)),!R&&!P){e.next=28;break}if(C(!!R,O.message,L.message,ON,LN),r){e.next=28;break}return w(x[m].message),e.abrupt("return",x);case 28:if(!l&&!f||_||!(HN(n)||a&&Array.isArray(n))){e.next=38;break}if(B=pA(l),q=pA(f),z=!kN(B.value)&&n.length>B.value,K=!kN(q.value)&&n.length<q.value,!z&&!K){e.next=38;break}if(C(z,B.message,q.message),r){e.next=38;break}return w(x[m].message),e.abrupt("return",x);case 38:if(!p||_||!HN(n)){e.next=45;break}if(W=pA(p),H=W.value,G=W.message,!uA(H)||n.match(H)){e.next=45;break}if(x[m]=qe({type:jN,message:G,ref:u},T(jN,G)),r){e.next=45;break}return w(G),e.abrupt("return",x);case 45:if(!v){e.next=79;break}if(!QN(v)){e.next=58;break}return e.next=49,v(n);case 49:if(Q=e.sent,!(X=hA(Q,b))){e.next=56;break}if(x[m]=qe(qe({},X),T(UN,X.message)),r){e.next=56;break}return w(X.message),e.abrupt("return",x);case 56:e.next=79;break;case 58:if(!wN(v)){e.next=79;break}Y={},e.t0=ze().keys(v);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(J=e.t1.value,qN(Y)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=hA,e.next=68,v[J](n);case 68:e.t3=e.sent,e.t4=b,e.t5=J,(Z=(0,e.t2)(e.t3,e.t4,e.t5))&&(Y=qe(qe({},Z),T(J,Z.message)),w(Z.message),r&&(x[m]=Y)),e.next=61;break;case 75:if(qN(Y)){e.next=79;break}if(x[m]=qe({ref:b},Y),r){e.next=79;break}return e.abrupt("return",x);case 79:return w(!0),e.abrupt("return",x);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();var mA="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function yA(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(mA&&(e instanceof Blob||e instanceof FileList)||!n&&!wN(e))return e;if(t=n?[]:{},Array.isArray(e)||function(e){var t=e.constructor&&e.constructor.prototype;return wN(t)&&t.hasOwnProperty("isPrototypeOf")}(e))for(var r in e)t[r]=yA(e[r]);else t=e}return t}var gA=function(e){return{isOnSubmit:!e||e===DN,isOnBlur:e===NN,isOnChange:e===AN,isOnAll:e===PN,isOnTouch:e===RN}};function kA(e){for(var t in e)if(!SN(e[t]))return!1;return!0}function bA(e,t){var n,r=JN(t)?[t]:ZN(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=SN(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var u=-1,s=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(wN(s)&&qN(s)||Array.isArray(s)&&kA(s))&&(n?delete n[f]:delete e[f]),n=s}}return e}function wA(){var e=[];return{get observers(){return e},next:function(t){var n,r=On(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var xA=function(e){return kN(e)||!bN(e)};function IA(e,t){if(xA(e)||xA(t))return e===t;if(gN(e)&&gN(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(gN(u)&&gN(s)||wN(u)&&wN(s)||Array.isArray(u)&&Array.isArray(s)?!IA(u,s):u!==s)return!1}}return!0}var EA=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},SA=function(e){return"select-multiple"===e.type},_A=function(e){return oA(e)||yN(e)},TA=function(e){return EA(e)&&e.isConnected};function CA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(wN(e)||n)for(var r in e)Array.isArray(e[r])||wN(e[r])&&!XN(e[r])?(t[r]=Array.isArray(e[r])?[]:{},CA(e[r],t[r])):kN(e[r])||(t[r]=!0);return t}function NA(e,t,n){var r=Array.isArray(e);if(wN(e)||r)for(var i in e)Array.isArray(e[i])||wN(e[i])&&!XN(e[i])?SN(t)||xA(n[i])?n[i]=Array.isArray(e[i])?CA(e[i],[]):qe({},CA(e[i])):NA(e[i],kN(t)?{}:t[i],n[i]):n[i]=!IA(e[i],t[i]);return n}var AA=function(e,t){return NA(e,t,CA(t))},DA=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return SN(e)?e:n?""===e?NaN:e?+e:e:r&&HN(e)?new Date(e):i?i(e):e};function RA(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return iA(t)?t.files:oA(t)?dA(e.refs).value:SA(t)?d(t.selectedOptions).map((function(e){return e.value})):yN(t)?lA(e.refs).value:DA(SN(t.value)?e.ref.value:t.value,e)}var PA=function(e,t,n,r){var i,a={},o=On(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=_N(t,u);s&&$N(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:d(e),fields:a,shouldUseNativeValidation:r}},OA=function(e){return SN(e)?void 0:uA(e)?e.source:wN(e)?uA(e.value)?e.value.source:e.value:e},LA=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function MA(e,t,n){var r=_N(e,n);if(r||JN(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=_N(t,a),u=_N(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var FA=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},jA=function(e,t){return!EN(_N(e,t)).length&&bA(e,t)},VA={mode:DN,reValidateMode:AN,shouldFocusError:!0};function UA(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=qe(qe({},VA),t),r={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},a=yA(n.defaultValues)||{},o=n.shouldUnregister?{}:yA(a),u={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,l={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:wA(),array:wA(),state:wA()},p=gA(n.mode),v=gA(n.reValidateMode),m=n.criteriaMode===PN,y=function(e){return function(t){clearTimeout(c),c=window.setTimeout(e,t)}},g=function(){var e=We(ze().mark((function e(t){var a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!f.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=qN,e.next=6,E();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,_(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,h.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(s&&n){if(u.action=!0,l&&Array.isArray(_N(i,e))){var d=n(_N(i,e),s.argA,s.argB);c&&$N(i,e,d)}if(f.errors&&l&&Array.isArray(_N(r.errors,e))){var p=n(_N(r.errors,e),s.argA,s.argB);c&&$N(r.errors,e,p),jA(r.errors,e)}if(f.touchedFields&&l&&Array.isArray(_N(r.touchedFields,e))){var v=n(_N(r.touchedFields,e),s.argA,s.argB);c&&$N(r.touchedFields,e,v)}f.dirtyFields&&(r.dirtyFields=AA(a,o)),h.state.next({isDirty:C(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $N(o,e,t)},b=function(e,t){$N(r.errors,e,t),h.state.next({errors:r.errors})},w=function(e,t,n,r){var s=_N(i,e);if(s){var c=_N(o,e,SN(n)?_N(a,e):n);SN(c)||r&&r.defaultChecked||t?$N(o,e,t?c:RA(s._f)):D(e,c),u.mount&&g()}},x=function(e,t,n,i,o){var u=!1,s={name:e},c=_N(r.touchedFields,e);if(f.isDirty){var l=r.isDirty;r.isDirty=s.isDirty=C(),u=l!==s.isDirty}if(f.dirtyFields&&(!n||i)){var d=_N(r.dirtyFields,e);IA(_N(a,e),t)?bA(r.dirtyFields,e):$N(r.dirtyFields,e,!0),s.dirtyFields=r.dirtyFields,u=u||d!==_N(r.dirtyFields,e)}return n&&!c&&($N(r.touchedFields,e,n),s.touchedFields=r.touchedFields,u=u||f.touchedFields&&c!==n),u&&o&&h.state.next(s),u?s:{}},I=function(){var n=We(ze().mark((function n(i,a,o,u){var s,d,p;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=_N(r.errors,i),d=f.isValid&&r.isValid!==a,t.delayError&&o?(e=y((function(){return b(i,o)})))(t.delayError):(clearTimeout(c),e=null,o?$N(r.errors,i,o):bA(r.errors,i)),(o?IA(s,o):!s)&&qN(u)&&!d||(p=qe(qe(qe({},u),d?{isValid:a}:{}),{},{errors:r.errors,name:i}),r=qe(qe({},r),p),h.state.next(p)),l[i]--,f.isValidating&&!Object.values(l).some((function(e){return e}))&&(h.state.next({isValidating:!1}),l={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),E=function(){var e=We(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(qe({},o),n.context,PA(t||s.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=We(ze().mark((function e(t){var n,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(n=e.sent,i=n.errors,t){a=On(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=_N(i,u))?$N(r.errors,u,s):bA(r.errors,u)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=We(ze().mark((function e(t,i){var a,u,c,l,f,d,h,p=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=ze().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,!(c=t[u])){e.next=21;break}if(l=c._f,f=Ge(c,mN),!l){e.next=17;break}return d=s.array.has(l.name),e.next=11,vA(c,_N(o,l.name),m,n.shouldUseNativeValidation,d);case 11:if(!(h=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:!i&&(_N(h,l.name)?d?nA(r.errors,h,l.name):$N(r.errors,l.name,h[l.name]):bA(r.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,_(f,i,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e,t=On(s.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=_N(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!TA(e)})):!TA(r._f.ref))&&B(n)}}catch(a){t.e(a)}finally{t.f()}s.unMount=new Set},C=function(e,t){return e&&t&&$N(o,e,t),!IA(M(),a)},N=function(e,t,n){var r=qe({},u.mount?o:SN(t)?a:HN(e)?Ue({},e,t):t);return GN(e,s,r,n)},A=function(e){return EN(_N(u.mount?o:a,e,t.shouldUnregister?_N(a,e,[]):[]))},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=_N(i,e),a=t;if(r){var u=r._f;u&&(!u.disabled&&$N(o,e,DA(t,u)),a=mA&&EA(u.ref)&&kN(t)?"":t,SA(u.ref)?d(u.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):u.refs?yN(u.ref)?u.refs.length>1?u.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):u.refs[0]&&(u.refs[0].checked=!!a):u.refs.forEach((function(e){return e.checked=e.value===a})):iA(u.ref)?u.ref.value="":(u.ref.value=a,u.ref.type||h.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&x(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&L(e)},R=function e(t,n,r){for(var a in n){var o=n[a],u="".concat(t,".").concat(a),c=_N(i,u);!s.array.has(t)&&xA(o)&&(!c||c._f)||gN(o)?D(u,o,r):e(u,o,r)}},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=_N(i,e),c=s.array.has(e),l=yA(t);$N(o,e,l),c?(h.array.next({name:e,values:o}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=AA(a,o),h.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:C(e,l)}))):!u||u._f||kN(l)?D(e,l,n):R(e,l,n),tA(e,s)&&h.state.next({}),h.watch.next({name:e})},O=function(){var t=We(ze().mark((function t(a){var u,c,f,d,y,k,b,w,S,_,T,C,N,A,D;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=a.target,c=u.name,!(f=_N(i,c))){t.next=39;break}if(k=u.type?RA(f._f):xN(a),b=a.type===TN||a.type===CN,w=!LA(f._f)&&!n.resolver&&!_N(r.errors,c)&&!f._f.deps||FA(b,_N(r.touchedFields,c),r.isSubmitted,v,p),S=tA(c,s,b),$N(o,c,k),b?(f._f.onBlur&&f._f.onBlur(a),e&&e(0)):f._f.onChange&&f._f.onChange(a),_=x(c,k,b,!1),T=!qN(_)||S,!b&&h.watch.next({name:c,type:a.type}),!w){t.next=15;break}return t.abrupt("return",T&&h.state.next(qe({name:c},S?{}:_)));case 15:if(!b&&S&&h.state.next({}),l[c]=(l[c],1),h.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,E([c]);case 21:C=t.sent,N=C.errors,A=MA(r.errors,i,c),D=MA(N,i,A.name||c),d=D.error,c=D.name,y=qN(N),t.next=37;break;case 30:return t.next=32,vA(f,_N(o,c),m,n.shouldUseNativeValidation);case 32:return t.t0=c,d=t.sent[t.t0],t.next=36,g(!0);case 36:y=t.sent;case 37:f._f.deps&&L(f._f.deps),I(c,y,d,_);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var e=We(ze().mark((function e(t){var a,o,u,c,l,d=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},c=KN(t),h.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,S(SN(t)?t:c);case 6:l=e.sent,o=qN(l),u=t?!c.some((function(e){return _N(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_N(i,t),e.next=3,_(n&&n._f?Ue({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||r.isValid)&&g(),e.next=21;break;case 18:return e.next=20,_(i);case 20:u=o=e.sent;case 21:return h.state.next(qe(qe(qe({},!HN(t)||f.isValid&&o!==r.isValid?{}:{name:t}),n.resolver||!t?{isValid:o}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!u&&eA(i,(function(e){return e&&_N(r.errors,e)}),t?c:s.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=qe(qe({},a),u.mount?o:{});return SN(e)?t:HN(e)?_N(t,e):e.map((function(e){return _N(t,e)}))},F=function(e,t){return{invalid:!!_N((t||r).errors,e),isDirty:!!_N((t||r).dirtyFields,e),isTouched:!!_N((t||r).touchedFields,e),error:_N((t||r).errors,e)}},j=function(e){e?KN(e).forEach((function(e){return bA(r.errors,e)})):r.errors={},h.state.next({errors:r.errors})},V=function(e,t,n){var a=(_N(i,e,{_f:{}})._f||{}).ref;$N(r.errors,e,qe(qe({},t),{},{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},U=function(e,t){return QN(e)?h.watch.subscribe({next:function(n){return e(N(void 0,t),n)}}):N(e,t,!0)},B=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=On(e?KN(e):s.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;s.mount.delete(l),s.array.delete(l),_N(i,l)&&(u.keepValue||(bA(i,l),bA(o,l)),!u.keepError&&bA(r.errors,l),!u.keepDirty&&bA(r.dirtyFields,l),!u.keepTouched&&bA(r.touchedFields,l),!n.shouldUnregister&&!u.keepDefaultValue&&bA(a,l))}}catch(f){c.e(f)}finally{c.f()}h.watch.next({}),h.state.next(qe(qe({},r),u.keepDirty?{isDirty:C()}:{})),!u.keepIsValid&&g()},q=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=_N(i,t),l=rA(r.disabled);return $N(i,t,qe(qe({},c||{}),{},{_f:qe(qe({},c&&c._f?c._f:{ref:{name:t}}),{},{name:t,mount:!0},r)})),s.mount.add(t),c?l&&$N(o,t,r.disabled?void 0:_N(o,t,RA(c._f))):w(t,!0,r.value),qe(qe(qe({},l?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:OA(r.min),max:OA(r.max),minLength:OA(r.minLength),maxLength:OA(r.maxLength),pattern:OA(r.pattern)}:{}),{},{name:t,onChange:O,onBlur:O,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(o){if(o){e(t,r),c=_N(i,t);var l=SN(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,f=_A(l),h=c._f.refs||[];if(f?h.find((function(e){return e===l})):l===c._f.ref)return;$N(i,t,{_f:qe(qe({},c._f),f?{refs:[].concat(d(h.filter(TA)),[l],d(Array.isArray(_N(a,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),w(t,!1,void 0,l)}else(c=_N(i,t,{}))._f&&(c._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!IN(s.array,t)||!u.action)&&s.unMount.add(t)}))})},z=function(){return n.shouldFocusError&&eA(i,(function(e){return e&&_N(r.errors,e)}),s.mount)},K=function(e,t){return function(){var a=We(ze().mark((function a(u){var s,c,l,f,d;return ze().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),s=!0,c=yA(o),h.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,E();case 8:l=a.sent,f=l.errors,d=l.values,r.errors=f,c=d,a.next=17;break;case 15:return a.next=17,_(i);case 17:if(!qN(r.errors)){a.next=23;break}return h.state.next({errors:{},isSubmitting:!0}),a.next=21,e(c,u);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(qe({},r.errors),u);case 26:z();case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),s=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:qN(r.errors)&&s,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_N(i,e)&&(SN(t.defaultValue)?P(e,_N(a,e)):(P(e,t.defaultValue),$N(a,e,t.defaultValue)),t.keepTouched||bA(r.touchedFields,e),t.keepDirty||(bA(r.dirtyFields,e),r.isDirty=t.defaultValue?C(e,_N(a,e)):C()),t.keepError||(bA(r.errors,e),f.isValid&&g()),h.state.next(qe({},r)))},H=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e||a,l=yA(c),d=e&&!qN(e)?l:a;if(n.keepDefaultValues||(a=c),!n.keepValues){if(n.keepDirtyValues){var p,v=On(s.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value;_N(r.dirtyFields,m)?$N(d,m,_N(o,m)):P(m,_N(d,m))}}catch(x){v.e(x)}finally{v.f()}}else{if(mA&&SN(e)){var y,g=On(s.mount);try{for(g.s();!(y=g.n()).done;){var k=y.value,b=_N(i,k);if(b&&b._f){var w=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{if(EA(w)){w.closest("form").reset();break}}catch(c_){}}}}catch(x){g.e(x)}finally{g.f()}}i={}}o=t.shouldUnregister?n.keepDefaultValues?yA(a):{}:l,h.array.next({values:d}),h.watch.next({values:d})}s={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!f.isValid||!!n.keepIsValid,u.watch=!!t.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||IA(e,a)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?AA(a,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},G=function(e,t){return H(QN(e)?e(o):e,t)},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_N(i,e),r=n&&n._f;if(r){var a=r.refs?r.refs[0]:r.ref;a.focus&&(a.focus(),t.shouldSelect&&a.select())}};return{control:{register:q,unregister:B,getFieldState:F,_executeSchema:E,_focusError:z,_getWatch:N,_getDirty:C,_updateValid:g,_removeUnmounted:T,_updateFieldArray:k,_getFieldArray:A,_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return u},set _stateFlags(e){u=e},get _defaultValues(){return a},get _names(){return s},set _names(e){s=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=qe(qe({},n),e)}},trigger:L,register:q,handleSubmit:K,watch:U,setValue:P,getValues:M,reset:G,resetField:W,clearErrors:j,unregister:B,setError:V,setFocus:Q,getFieldState:F}}function BA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=r.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues}),i=l(n,2),a=i[0],o=i[1];t.current||(t.current=qe(qe({},UA(e)),{},{formState:a}));var u=t.current.control;return u._options=e,WN({subject:u._subjects.state,callback:r.useCallback((function(e){zN(e,u._proxyFormState,!0)&&(u._formState=qe(qe({},u._formState),e),o(qe({},u._formState)))}),[u])}),r.useEffect((function(){u._stateFlags.mount||(u._proxyFormState.isValid&&u._updateValid(),u._stateFlags.mount=!0),u._stateFlags.watch&&(u._stateFlags.watch=!1,u._subjects.state.next({})),u._removeUnmounted()})),r.useEffect((function(){a.submitCount&&u._focusError()}),[u,a.submitCount]),t.current.formState=BN(a,u),t.current}var qA={"auth/email-already-in-use":"Este email ya se encuentra registrado"},zA={"auth/wrong-password":"Contrase\xf1a incorrecta","auth/user-not-found":"Este email no se encuentra registrado"},KA=["as","className","type","tooltip"],WA={type:dn().string,tooltip:dn().bool,as:dn().elementType},HA=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,c=Ge(e,KA);return(0,ft.jsx)(r,qe(qe({},c),{},{ref:t,className:Xe()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));HA.displayName="Feedback",HA.propTypes=WA;var GA=HA,QA=r.createContext({}),XA=["id","bsPrefix","className","type","isValid","isInvalid","as"],YA=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,d=e.as,h=void 0===d?"input":d,p=Ge(e,XA),v=(0,r.useContext)(QA).controlId;return i=wt(i,"form-check-input"),(0,ft.jsx)(h,qe(qe({},p),{},{ref:t,type:u,id:n||v,className:Xe()(a,i,c&&"is-valid",f&&"is-invalid")}))}));YA.displayName="FormCheckInput";var JA=YA,ZA=["bsPrefix","className","htmlFor"],$A=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=Ge(e,ZA),u=(0,r.useContext)(QA).controlId;return n=wt(n,"form-check-label"),(0,ft.jsx)("label",qe(qe({},o),{},{ref:t,htmlFor:a||u,className:Xe()(i,n)}))}));$A.displayName="FormCheckLabel";var eD=$A;var tD=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],nD=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.reverse,c=void 0!==s&&s,l=e.disabled,f=void 0!==l&&l,d=e.isValid,h=void 0!==d&&d,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,y=void 0!==m&&m,g=e.feedback,k=e.feedbackType,b=e.className,w=e.style,x=e.title,I=void 0===x?"":x,E=e.type,S=void 0===E?"checkbox":E,_=e.label,T=e.children,C=e.as,N=void 0===C?"input":C,A=Ge(e,tD);i=wt(i,"form-check"),a=wt(a,"form-switch");var D=(0,r.useContext)(QA).controlId,R=(0,r.useMemo)((function(){return{controlId:n||D}}),[D,n]),P=!T&&null!=_&&!1!==_||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(T,eD),O=(0,ft.jsx)(JA,qe(qe({},A),{},{type:"switch"===S?"checkbox":S,ref:t,isValid:h,isInvalid:v,disabled:f,as:N}));return(0,ft.jsx)(QA.Provider,{value:R,children:(0,ft.jsx)("div",{style:w,className:Xe()(b,P&&i,u&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===S&&a),children:T||(0,ft.jsxs)(ft.Fragment,{children:[O,P&&(0,ft.jsx)(eD,{title:I,children:_}),g&&(0,ft.jsx)(GA,{type:k,tooltip:y,children:g})]})})})}));nD.displayName="FormCheck";var rD=Object.assign(nD,{Input:JA,Label:eD}),iD=n(391),aD=n.n(iD),oD=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],uD=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,u=e.size,s=e.htmlSize,c=e.id,l=e.className,f=e.isValid,d=void 0!==f&&f,h=e.isInvalid,p=void 0!==h&&h,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=Ge(e,oD),b=(0,r.useContext)(QA).controlId;(a=wt(a,"form-control"),v)?n=Ue({},"".concat(a,"-plaintext"),!0):(Ue(i={},a,!0),Ue(i,"".concat(a,"-").concat(u),u),n=i);return(0,ft.jsx)(g,qe(qe({},k),{},{type:o,size:s,ref:t,readOnly:m,id:c||b,className:Xe()(l,n,d&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));uD.displayName="FormControl";var sD=Object.assign(uD,{Feedback:GA}),cD=wn("form-floating"),lD=["controlId","as"],fD=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=Ge(e,lD),u=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,ft.jsx)(QA.Provider,{value:u,children:(0,ft.jsx)(a,qe(qe({},o),{},{ref:t}))})}));fD.displayName="FormGroup";var dD=fD,hD=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],pD=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,u=e.visuallyHidden,s=e.className,c=e.htmlFor,l=Ge(e,hD),f=(0,r.useContext)(QA).controlId;a=wt(a,"form-label");var d="col-form-label";"string"===typeof o&&(d="".concat(d," ").concat(d,"-").concat(o));var h=Xe()(s,a,u&&"visually-hidden",o&&d);return c=c||f,o?(0,ft.jsx)(uN,qe({ref:t,as:"label",className:h,htmlFor:c},l)):(0,ft.jsx)(i,qe({ref:t,className:h,htmlFor:c},l))}));pD.displayName="FormLabel",pD.defaultProps={column:!1,visuallyHidden:!1};var vD=pD,mD=["bsPrefix","className","id"],yD=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=Ge(e,mD),u=(0,r.useContext)(QA).controlId;return n=wt(n,"form-range"),(0,ft.jsx)("input",qe(qe({},o),{},{type:"range",ref:t,className:Xe()(i,n),id:a||u}))}));yD.displayName="FormRange";var gD=yD,kD=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],bD=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,c=e.isInvalid,l=void 0!==c&&c,f=e.id,d=Ge(e,kD),h=(0,r.useContext)(QA).controlId;return n=wt(n,"form-select"),(0,ft.jsx)("select",qe(qe({},d),{},{size:a,ref:t,className:Xe()(o,n,i&&"".concat(n,"-").concat(i),s&&"is-valid",l&&"is-invalid"),id:f||h}))}));bD.displayName="FormSelect";var wD=bD,xD=["bsPrefix","className","as","muted"],ID=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=Ge(e,xD);return n=wt(n,"form-text"),(0,ft.jsx)(a,qe(qe({},u),{},{ref:t,className:Xe()(r,n,o&&"text-muted")}))}));ID.displayName="FormText";var ED=ID,SD=r.forwardRef((function(e,t){return(0,ft.jsx)(rD,qe(qe({},e),{},{ref:t,type:"switch"}))}));SD.displayName="Switch";var _D=Object.assign(SD,{Input:rD.Input,Label:rD.Label}),TD=["bsPrefix","className","children","controlId","label"],CD=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=Ge(e,TD);return n=wt(n,"form-floating"),(0,ft.jsxs)(dD,qe(qe({ref:t,className:Xe()(r,n),controlId:a},u),{},{children:[i,(0,ft.jsx)("label",{htmlFor:a,children:o})]}))}));CD.displayName="FloatingLabel";var ND=CD,AD=["className","validated","as"],DD={_ref:dn().any,validated:dn().bool,as:dn().elementType},RD=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=Ge(e,AD);return(0,ft.jsx)(a,qe(qe({},o),{},{ref:t,className:Xe()(n,r&&"was-validated")}))}));RD.displayName="Form",RD.propTypes=DD;var PD=Object.assign(RD,{Group:dD,Control:sD,Floating:cD,Check:rD,Switch:_D,Label:vD,Text:ED,Range:gD,Select:wD,FloatingLabel:ND}),OD=r.createContext(),LD=function(e){var t=e.children,n=l((0,r.useState)(sessionStorage.getItem("login")||!1),2),i=n[0],a=n[1],o=l((0,r.useState)({}),2),u=o[0],s=o[1];return(0,ft.jsx)(OD.Provider,{value:{usuario:u,login:i,handleLogin:function(e){a(!0),sessionStorage.setItem("login",!0),s(e)},handleLogout:function(){a(!1),sessionStorage.removeItem("login"),s({})}},children:t})},MD=r.createContext(),FD=function(e){var t=e.children,n=l((0,r.useState)(null),2),i=n[0],a=n[1];return(0,ft.jsx)(MD.Provider,{value:{producto:i,handleProduct:function(e){a(e)},handleProductOff:function(){a(void 0)}},children:t})};var jD=function(){var e,t,n=(0,r.useContext)(OD),i=(0,r.useContext)(MD),a=BA(),o=a.register,u=a.handleSubmit,s=a.formState.errors,c=l((0,r.useState)({variant:"",titulo:"",mensaje:""}),2),f=c[0],d=c[1],h=l((0,r.useState)(!1),2),p=h[0],v=h[1],m=function(){var e=We(ze().mark((function e(t){var r,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,NC.auth().signInWithEmailAndPassword(t.email,t.contrasenia);case 4:if(r=e.sent,console.log(r),!r){e.next=15;break}return e.next=9,NC.firestore().collection("usuarios").where("userId","==",r.user.uid).get();case 9:a=e.sent,o=a.docs[0].data(),d({variant:"success",titulo:"Te has logueado exitosamente",mensaje:"Bienvenido nuevamente ".concat(o.nombre),ruta:i.producto?"/producto/".concat(i.producto):"/"}),v(!0),n.handleLogin(o.nombre),i.handleProductOff();case 15:e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),d({variant:"danger",titulo:"No has podido loguearte",mensaje:zA[e.t0.code]||"Algo ha fallado",ruta:"/login"}),v(!0);case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(Pn,qe(qe({},f),{},{onToggleView:function(e){v(e)},show:p})),(0,ft.jsx)("div",{className:"divFormRegistro",style:{color:"white"},children:(0,ft.jsx)("h3",{children:"Ingresar con tu cuenta"})}),(0,ft.jsx)("div",{className:"divFormRegistro",style:{color:"white"},children:(0,ft.jsx)("span",{children:"Complet\xe1 con tus datos y logueate"})}),(0,ft.jsx)(RC,{style:{maxWidth:"500px",height:"100vh"},children:(0,ft.jsxs)(PD,{onSubmit:u(m),children:[(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Email"}),(0,ft.jsx)(PD.Control,qe({type:"email",placeholder:"Ingresar email"},o("email",{required:!0}))),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(e=s.email)||void 0===e?void 0:e.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Completa con tu direcci\xf3n de email para poder ingresar"})})]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Contrase\xf1a"}),(0,ft.jsx)(PD.Control,qe({type:"password",placeholder:"Ingresar Contrase\xf1a"},o("contrasenia",{required:!0}))),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(t=s.contrasenia)||void 0===t?void 0:t.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Escribe tu contrase\xf1a para poder ingresar"})})]}),(0,ft.jsx)(Dn,{variant:"primary",type:"submit",children:"Ingresar"})]})})]})};var VD=function(){return(0,ft.jsx)("div",{children:(0,ft.jsx)(jD,{})})};var UD=function(){var e=ge().id,t=l((0,r.useState)({}),2),n=t[0],i=t[1],a=l((0,r.useState)(!0),2),o=a[0],u=a[1],s=(0,r.useContext)(OD),c=(0,r.useContext)(MD);return(0,r.useEffect)((function(){var t=function(){var t=We(ze().mark((function t(){var n;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,NC.firestore().doc("productos/".concat(e)).get();case 3:(n=t.sent)&&(console.log(n),i(n.data()),u(!1)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,n.imagen,c]),(0,ft.jsx)(MC,{loading:o,children:(0,ft.jsxs)("div",{id:"divDetalle",children:[(0,ft.jsxs)("div",{id:"divTituloDetalle",children:[(0,ft.jsx)("h1",{children:n.nombre}),s.login&&(0,ft.jsx)(Dn,{as:Fe,to:"/producto/editar/".concat(e),variant:"outline-info",size:"lg",children:"Modificar producto"})]}),(0,ft.jsx)("div",{id:"divImgGrande",children:(0,ft.jsx)("img",{id:"imgGrande",src:n.imagen,alt:"imagen de ".concat(n.nombre)})}),(0,ft.jsxs)("div",{id:"divInfoCompra",children:[(0,ft.jsx)("div",{children:(0,ft.jsxs)("p",{id:"pPrecio",children:["$ ",n.precio]})}),(0,ft.jsx)("div",{children:(0,ft.jsx)("p",{children:n.descripcion})}),s.login&&(0,ft.jsx)(Dn,{as:Fe,to:"/producto/comprar/".concat(e),variant:"success",size:"lg",children:"Comprar"}),!s.login&&(0,ft.jsx)(Dn,{as:Fe,to:"/login",variant:"success",size:"lg",onClick:c.handleProduct(e),children:"Comprar"})]})]})})};var BD=function(){var e,t,n,i,a=BA(),o=a.register,u=a.handleSubmit,s=a.formState.errors,c=l((0,r.useState)({variant:"",titulo:"",mensaje:""}),2),f=c[0],d=c[1],h=l((0,r.useState)(!1),2),p=h[0],v=h[1],m=function(){var e=We(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,NC.firestore().collection("productos").add(t);case 4:n=e.sent,console.log(n),console.log(n.id),n&&(d({variant:"success",titulo:"El producto se ha agregado correctamente",mensaje:"El producto ya se encuentra registrado en nuestra p\xe1gina",ruta:"/producto/".concat(n.id)}),v(!0)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),d({variant:"danger",titulo:"No se ha podido agregar el producto",mensaje:"Ha ocurrido un error :(. Intentalo luego nuevamente",ruta:"/producto/alta"}),v(!0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(Pn,qe(qe({},f),{},{onToggleView:function(e){v(e)},show:p})),(0,ft.jsx)(RC,{style:{maxWidth:"1000px"},children:(0,ft.jsxs)(PD,{onSubmit:u(m),children:[(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Nombre"}),(0,ft.jsx)(PD.Control,qe({type:"test",placeholder:"Ingresar nombre de producto"},o("nombre",{required:!0}))),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(e=s.nombre)||void 0===e?void 0:e.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Para poder subir el producto col\xf3cale un nombre/t\xedtulo"})})]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Precio"}),(0,ft.jsx)(PD.Control,qe({type:"text",placeholder:"Ingresar precio"},o("precio",{required:!0}))),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(t=s.precio)||void 0===t?void 0:t.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Para poder subir el producto col\xf3cale el precio"})})]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Descripci\xf3n"}),(0,ft.jsx)(PD.Control,qe({type:"text",placeholder:"Ingresar Descripci\xf3n"},o("descripcion",{required:!0}))),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(n=s.descripcion)||void 0===n?void 0:n.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Para poder subir el producto col\xf3cale una descripci\xf3n"})})]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Imagen"}),(0,ft.jsx)(PD.Control,qe({type:"text",placeholder:"Ingresar URL de imagen"},o("imagen",{required:!0}))),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(i=s.imagen)||void 0===i?void 0:i.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Para poder subir el producto ingresa la URL de la imagen que deseas mostrar"})})]}),(0,ft.jsx)(Dn,{variant:"primary",type:"submit",children:"Guardar"})]})})]})};var qD=function(){var e,t,n,i,a=ge().id,o=BA(),u=o.register,s=o.handleSubmit,c=o.formState.errors,f=o.setValue,d=l((0,r.useState)({variant:"",titulo:"",mensaje:""}),2),h=d[0],p=d[1],v=l((0,r.useState)(!1),2),m=v[0],y=v[1];return(0,r.useEffect)((function(){var e=function(){var e=We(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,NC.firestore().doc("productos/".concat(a)).get();case 3:(t=e.sent)&&(console.log(t.data()),f("nombre",t.data().nombre),f("precio",t.data().precio),f("descripcion",t.data().descripcion),f("imagen",t.data().imagen)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,f]),(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(Pn,qe(qe({},h),{},{onToggleView:function(e){y(e)},show:m})),(0,ft.jsxs)(RC,{style:{maxWidth:"1000px"},children:[(0,ft.jsx)(Dn,{onClick:function(){NC.firestore().doc("productos/".concat(a)).delete().then((function(e){console.log(e),p({variant:"success",titulo:"Producto eliminado",mensaje:"El producto se ha eliminado corectamente",ruta:"/"}),y(!0)})).catch((function(e){console.log(e),p({variant:"danger",titulo:"Eliminaci\xf3n fallida.",mensaje:"Algo sali\xf3 mal. Intentalo luego nuevamente.",ruta:"/producto/editar/".concat(a)}),y(!0)}))},variant:"danger",children:"Eliminar Producto"}),(0,ft.jsxs)(PD,{onSubmit:s((function(e){console.log(e),NC.firestore().doc("productos/".concat(a)).set(e).then((function(e){console.log(e),p({variant:"success",titulo:"Genial",mensaje:"El producto se ha modificado corectamente",ruta:"/producto/".concat(a)}),y(!0)})).catch((function(e){console.log(e),p({variant:"danger",titulo:"Modificaci\xf3n fallida.",mensaje:"Algo sali\xf3 mal. Intentalo luego nuevamente.",ruta:"/producto/editar/".concat(a)}),y(!0)}))})),children:[(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Nombre"}),(0,ft.jsx)(PD.Control,qe({type:"test",placeholder:"Ingresar nombre de producto"},u("nombre",{required:!0}))),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(e=c.nombre)||void 0===e?void 0:e.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Para poder modificar el producto col\xf3cale un nombre/t\xedtulo"})})]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Precio"}),(0,ft.jsx)(PD.Control,qe({type:"text",placeholder:"Ingresar precio"},u("precio",{required:!0}))),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(t=c.precio)||void 0===t?void 0:t.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Para poder modificar el producto col\xf3cale el precio"})})]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Descripci\xf3n"}),(0,ft.jsx)(PD.Control,qe({type:"text",placeholder:"Ingresar Descripci\xf3n"},u("descripcion",{required:!0}))),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(n=c.descripcion)||void 0===n?void 0:n.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Para poder modificar el producto col\xf3cale una descripci\xf3n"})})]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Imagen"}),(0,ft.jsx)(PD.Control,qe({type:"text",placeholder:"Ingresar URL de imagen"},u("imagen",{required:!0}))),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(i=c.imagen)||void 0===i?void 0:i.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Para poder modificar el producto ingresa la URL de la imagen que deseas mostrar"})})]}),(0,ft.jsx)(Dn,{variant:"primary",type:"submit",children:"Guardar"})]})]})]})};var zD=function(){var e,t,n,i,a=BA(),o=a.register,u=a.handleSubmit,s=a.formState.errors,c=l((0,r.useState)({variant:"",titulo:"",mensaje:"",ruta:""}),2),f=c[0],d=c[1],h=l((0,r.useState)(!1),2),p=h[0],v=h[1],m=function(){var e=We(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,NC.auth().createUserWithEmailAndPassword(t.email,t.contrasenia);case 4:if(!(n=e.sent).user.uid){e.next=11;break}return e.next=8,NC.firestore().collection("usuarios").add({nombre:t.nombre,apellido:t.apellido,userId:n.user.uid});case 8:r=e.sent,console.log(r),r&&(d({variant:"success",titulo:"Registro exitoso",mensaje:"Ya puedes acceder a todas las funciones de nuestra p\xe1gina.",ruta:"/login"}),v(!0));case 11:e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),d({variant:"danger",titulo:"El registro fall\xf3",mensaje:qA[e.t0.code]||"Comprueba haber colocado tus datos correctamente",ruta:"/registro"}),v(!0);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(Pn,qe(qe({},f),{},{onToggleView:function(e){v(e)},show:p})),(0,ft.jsx)("div",{className:"divFormRegistro",style:{color:"white"},children:(0,ft.jsx)("h3",{children:"Registro de Usuario"})}),(0,ft.jsx)("div",{className:"divFormRegistro",style:{color:"white"},children:(0,ft.jsx)("span",{children:"Complet\xe1 con tus datos y Registrate"})}),(0,ft.jsx)(RC,{style:{maxWidth:"500px",height:"100vh"},children:(0,ft.jsxs)(PD,{onSubmit:u(m),children:[(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Nombre"}),(0,ft.jsx)(PD.Control,qe(qe({type:"text"},o("nombre",{required:!0})),{},{placeholder:"Ingresar nombre"})),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(e=s.nombre)||void 0===e?void 0:e.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Completa con tu nombre para poder registrarte."})})]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicLastname",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Apellido"}),(0,ft.jsx)(PD.Control,qe(qe({type:"text"},o("apellido",{required:!0})),{},{placeholder:"Ingresar apellido"})),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(t=s.apellido)||void 0===t?void 0:t.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Completa con tu apellido para poder registrarte."})})]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicTel",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Tel\xe9fono"}),(0,ft.jsx)(PD.Control,qe(qe({type:"tel"},o("telefono",{required:!0})),{},{placeholder:"Ingresar telefono (opcional)"}))]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Email"}),(0,ft.jsx)(PD.Control,qe(qe({type:"email"},o("email",{required:!0})),{},{placeholder:"Ingresar email"})),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(n=s.email)||void 0===n?void 0:n.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Completa con tu email para poder registrarte."})})]}),(0,ft.jsxs)(PD.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,ft.jsx)(PD.Label,{className:"formLabel",children:"Contrase\xf1a"}),(0,ft.jsx)(PD.Control,qe(qe({type:"password"},o("contrasenia",{required:!0})),{},{placeholder:"Crear contrasenia"})),(0,ft.jsx)(PD.Text,{className:"text-muted",children:"required"===(null===(i=s.contrasenia)||void 0===i?void 0:i.type)&&(0,ft.jsx)("span",{className:"spanError",children:"Crea una contrase\xf1a para poder registrarte."})})]}),(0,ft.jsx)(Dn,{variant:"primary",type:"submit",children:"Registrar cuenta"})]})})]})};var KD=function(){return(0,ft.jsx)("div",{children:(0,ft.jsx)(zD,{})})};var WD=function(){return(0,ft.jsx)("div",{children:(0,ft.jsxs)(Ae,{children:[(0,ft.jsx)(Ce,{path:"/",element:(0,ft.jsx)(hN,{})}),(0,ft.jsx)(Ce,{path:"/registro",element:(0,ft.jsx)(KD,{})}),(0,ft.jsx)(Ce,{path:"/login",element:(0,ft.jsx)(VD,{})}),(0,ft.jsx)(Ce,{path:"/producto/:id",element:(0,ft.jsx)(UD,{})}),(0,ft.jsx)(Ce,{path:"/producto/comprar/:id",element:(0,ft.jsx)(FC,{})}),(0,ft.jsx)(Ce,{path:"/producto/alta",element:(0,ft.jsx)(BD,{})}),(0,ft.jsx)(Ce,{path:"/producto/editar/:id",element:(0,ft.jsx)(qD,{})})]})})},HD=(n(573),Function.prototype.bind.call(Function.prototype.call,[].slice));function GD(e,t){return HD(e.querySelectorAll(t))}function QD(){return(0,r.useReducer)((function(e){return!e}),!1)[1]}var XD=r.createContext(null);XD.displayName="NavContext";var YD=XD,JD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},ZD=r.createContext(null),$D=r.createContext(null);function eR(e){return"".concat("data-rr-ui-").concat(e)}var tR=["as","active","eventKey"];function nR(e){var t=e.key,n=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,r.useContext)(ZD),c=(0,r.useContext)(YD),l=(0,r.useContext)($D),f=i,d={role:o};if(c){o||"tablist"!==c.role||(d.role="tab");var h=c.getControllerId(null!=t?t:null),p=c.getControlledId(null!=t?t:null);d[eR("event-key")]=t,d.id=h||a,!(f=null==i&&null!=t?c.activeKey===t:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(d["aria-controls"]=p)}return"tab"===d.role&&(d["aria-selected"]=f,f||(d.tabIndex=-1),u&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=at((function(e){u||(null==n||n(e),null!=t&&s&&!e.isPropagationStopped()&&s(t,e))})),[d,{isActive:f}]}var rR=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?vt:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,tR),u=l(nR(Object.assign({key:JD(a,o.href),active:i},o)),2),s=u[0],c=u[1];return s[eR("active")]=c.isActive,(0,ft.jsx)(r,Object.assign({},o,s,{ref:t}))}));rR.displayName="NavItem";var iR=rR,aR=["as","onSelect","activeKey","role","onKeyDown"];var oR=function(){},uR=eR("event-key"),sR=r.forwardRef((function(e,t){var n,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,aR),d=QD(),h=(0,r.useRef)(!1),p=(0,r.useContext)(ZD),v=(0,r.useContext)($D);v&&(c=c||"tablist",s=v.activeKey,n=v.getControlledId,i=v.getControllerId);var m=(0,r.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=GD(t,"[".concat(uR,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==u||u(e,t),null==p||p(e,t))};(0,r.useEffect)((function(){if(m.current&&h.current){var e=m.current.querySelector("[".concat(uR,"][aria-selected=true]"));null==e||e.focus()}h.current=!1}));var k=tn(t,m);return(0,ft.jsx)(ZD.Provider,{value:g,children:(0,ft.jsx)(YD.Provider,{value:{role:c,activeKey:JD(s),getControlledId:n||oR,getControllerId:i||oR},children:(0,ft.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),h.current=!0,d()}},ref:k,role:c}))})})}));sR.displayName="Nav";var cR=Object.assign(sR,{Item:iR}),lR=r.createContext(null);lR.displayName="NavbarContext";var fR=lR,dR=wn("nav-item"),hR=["bsPrefix","className","as","active","eventKey"],pR=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?gt:i,o=e.active,u=e.eventKey,s=Ge(e,hR);n=wt(n,"nav-link");var c=l(nR(qe({key:JD(u,s.href),active:o},s)),2),f=c[0],d=c[1];return(0,ft.jsx)(a,qe(qe(qe({},s),f),{},{ref:t,className:Xe()(r,n,s.disabled&&"disabled",d.isActive&&"active")}))}));pR.displayName="NavLink",pR.defaultProps={disabled:!1};var vR=pR,mR=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],yR=r.forwardRef((function(e,t){var n,i,a,o=et(e,{activeKey:"onSelect"}),u=o.as,s=void 0===u?"div":u,c=o.bsPrefix,l=o.variant,f=o.fill,d=o.justify,h=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,y=Ge(o,mR),g=wt(c,"nav"),k=!1,b=(0,r.useContext)(fR),w=(0,r.useContext)(qC);return b?(i=b.bsPrefix,k=null==h||h):w&&(a=w.cardHeaderBsPrefix),(0,ft.jsx)(cR,qe({as:s,ref:t,activeKey:m,className:Xe()(v,(n={},Ue(n,g,!k),Ue(n,"".concat(i,"-nav"),k),Ue(n,"".concat(i,"-nav-scroll"),k&&p),Ue(n,"".concat(a,"-").concat(l),!!a),Ue(n,"".concat(g,"-").concat(l),!!l),Ue(n,"".concat(g,"-fill"),f),Ue(n,"".concat(g,"-justified"),d),n))},y))}));yR.displayName="Nav",yR.defaultProps={justify:!1,fill:!1};var gR=Object.assign(yR,{Item:dR,Link:vR}),kR=["bsPrefix","className","as"],bR=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=Ge(e,kR);n=wt(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,ft.jsx)(o,qe(qe({},a),{},{ref:t,className:Xe()(r,n)}))}));bR.displayName="NavbarBrand";var wR=bR;var xR,IR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},ER=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],SR={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function _R(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=SR[e];return n+parseInt(Bt(t,r[0]),10)+parseInt(Bt(t,r[1]),10)}var TR=(Ue(xR={},Ct,"collapse"),Ue(xR,Dt,"collapsing"),Ue(xR,Nt,"collapsing"),Ue(xR,At,"collapse show"),xR),CR={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:_R},NR=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,d=e.getDimensionValue,h=void 0===d?_R:d,p=Ge(e,ER),v="function"===typeof f?f():f,m=(0,r.useMemo)((function(){return IR((function(e){e.style[v]="0"}),n)}),[v,n]),y=(0,r.useMemo)((function(){return IR((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,r.useMemo)((function(){return IR((function(e){e.style[v]=null}),a)}),[v,a]),k=(0,r.useMemo)((function(){return IR((function(e){e.style[v]="".concat(h(v,e),"px"),$t(e)}),o)}),[o,h,v]),b=(0,r.useMemo)((function(){return IR((function(e){e.style[v]=null}),u)}),[v,u]);return(0,ft.jsx)(on,qe(qe({ref:t,addEndListener:Zt},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:k,onExiting:b,childRef:c.ref,children:function(e,t){return r.cloneElement(c,qe(qe({},t),{},{className:Xe()(s,c.props.className,TR[e],"width"===v&&"collapse-horizontal")}))}}))}));NR.defaultProps=CR;var AR=NR,DR=["children","bsPrefix"],RR=r.forwardRef((function(e,t){var n=e.children,i=e.bsPrefix,a=Ge(e,DR);i=wt(i,"navbar-collapse");var o=(0,r.useContext)(fR);return(0,ft.jsx)(AR,qe(qe({in:!(!o||!o.expanded)},a),{},{children:(0,ft.jsx)("div",{ref:t,className:i,children:n})}))}));RR.displayName="NavbarCollapse";var PR=RR,OR=["bsPrefix","className","children","label","as","onClick"],LR=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e.label,u=e.as,s=void 0===u?"button":u,c=e.onClick,l=Ge(e,OR);n=wt(n,"navbar-toggler");var f=(0,r.useContext)(fR)||{},d=f.onToggle,h=f.expanded,p=at((function(e){c&&c(e),d&&d()}));return"button"===s&&(l.type="button"),(0,ft.jsx)(s,qe(qe({},l),{},{ref:t,onClick:p,"aria-label":o,className:Xe()(i,n,!h&&"collapsed"),children:a||(0,ft.jsx)("span",{className:"".concat(n,"-icon")})}))}));LR.displayName="NavbarToggle",LR.defaultProps={label:"Toggle navigation"};var MR=LR,FR=new WeakMap,jR=function(e,t){if(e&&t){var n=FR.get(t)||new Map;FR.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function VR(e,t){void 0===t&&(t="undefined"===typeof window?void 0:window);var n=jR(e,t),i=(0,r.useState)((function(){return!!n&&n.matches})),a=i[0],o=i[1];return lt((function(){var n=jR(e,t);if(!n)return o(!1);var r=FR.get(t),i=function(){o(n.matches)};return n.refCount++,n.addListener(i),i(),function(){n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),a}var UR=function(e){var t=Object.keys(e);function n(e,t){return e===t?t:e?e+" and "+t:t}function i(n){var r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(t,a,o){var u,s;"object"===typeof t?(u=t,o=a,a=!0):((s={})[t]=a=a||!0,u=s);var c=(0,r.useMemo)((function(){return Object.entries(u).reduce((function(t,r){var a=r[0],o=r[1];return"up"!==o&&!0!==o||(t=n(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=n(t,i(a))),t}),"")}),[JSON.stringify(u)]);return VR(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function BR(e){void 0===e&&(e=Lt());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(sM){return e.body}}function qR(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function zR(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}var KR=eR("modal-open"),WR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;h(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return v(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=Ue({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Bt(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(KR,""),Bt(r,t)}},{key:"reset",value:function(){var e=this;d(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(KR),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),HR=WR,GR=(0,r.createContext)(qt?window:void 0);GR.Provider;function QR(){return(0,r.useContext)(GR)}var XR=function(e,t){return qt?null==e?(t||Lt()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var YR,JR=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ZR(e){var t=QR(),n=e||function(e){return YR||(YR=new HR({ownerDocument:null==e?void 0:e.document})),YR}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return n.add(i.current)},remove:function(){return n.remove(i.current)},isTopModal:function(){return n.isTopModal(i.current)},setDialogRef:(0,r.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((function(e){i.current.backdrop=e}),[])})}var $R=(0,r.forwardRef)((function(e,t){var n=e.show,i=void 0!==n&&n,a=e.role,o=void 0===a?"dialog":a,u=e.className,s=e.style,c=e.children,f=e.backdrop,d=void 0===f||f,h=e.keyboard,p=void 0===h||h,v=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.backdropTransition,k=e.autoFocus,b=void 0===k||k,w=e.enforceFocus,x=void 0===w||w,I=e.restoreFocus,E=void 0===I||I,S=e.restoreFocusOptions,_=e.renderDialog,T=e.renderBackdrop,C=void 0===T?function(e){return(0,ft.jsx)("div",Object.assign({},e))}:T,N=e.manager,A=e.container,D=e.onShow,R=e.onHide,P=void 0===R?function(){}:R,O=e.onExit,L=e.onExited,M=e.onExiting,F=e.onEnter,j=e.onEntering,V=e.onEntered,U=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,JR),B=function(e,t){var n=QR(),i=l((0,r.useState)((function(){return XR(e,null==n?void 0:n.document)})),2),a=i[0],o=i[1];if(!a){var u=XR(e);u&&o(u)}return(0,r.useEffect)((function(){t&&a&&t(a)}),[t,a]),(0,r.useEffect)((function(){var t=XR(e);t!==a&&o(t)}),[e,a]),a}(A),q=ZR(N),z=ut(),K=st(i),W=l((0,r.useState)(!i),2),H=W[0],G=W[1],Q=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return q}),[q]),qt&&!K&&i&&(Q.current=BR()),y||i||H?i&&H&&G(!1):G(!0);var X=at((function(){if(q.add(),te.current=Qt(document,"keydown",$),ee.current=Qt(document,"focus",(function(){return setTimeout(J)}),!0),D&&D(),b){var e=BR(document);q.dialog&&e&&!qR(q.dialog,e)&&(Q.current=e,q.dialog.focus())}})),Y=at((function(){var e;(q.remove(),null==te.current||te.current(),null==ee.current||ee.current(),E)&&(null==(e=Q.current)||null==e.focus||e.focus(S),Q.current=null)}));(0,r.useEffect)((function(){i&&B&&X()}),[i,B,X]),(0,r.useEffect)((function(){H&&Y()}),[H,Y]),zR((function(){Y()}));var J=at((function(){if(x&&z()&&q.isTopModal()){var e=BR();q.dialog&&e&&!qR(q.dialog,e)&&q.dialog.focus()}})),Z=at((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===d&&P())})),$=at((function(e){p&&27===e.keyCode&&q.isTopModal()&&(null==m||m(e),e.defaultPrevented||P())})),ee=(0,r.useRef)(),te=(0,r.useRef)(),ne=y;if(!B||!(i||ne&&!H))return null;var re=Object.assign({role:o,ref:q.setDialogRef,"aria-modal":"dialog"===o||void 0},U,{style:s,className:u,tabIndex:-1}),ie=_?_(re):(0,ft.jsx)("div",Object.assign({},re,{children:r.cloneElement(c,{role:"document"})}));ne&&(ie=(0,ft.jsx)(ne,{appear:!0,unmountOnExit:!0,in:!!i,onExit:O,onExiting:M,onExited:function(){G(!0),null==L||L.apply(void 0,arguments)},onEnter:F,onEntering:j,onEntered:V,children:ie}));var ae=null;if(d){var oe=g;ae=C({ref:q.setBackdropRef,onClick:Z}),oe&&(ae=(0,ft.jsx)(oe,{appear:!0,in:!!i,children:ae}))}return(0,ft.jsx)(ft.Fragment,{children:Et.createPortal((0,ft.jsxs)(ft.Fragment,{children:[ae,ie]}),B)})}));$R.displayName="Modal";var eP,tP=Object.assign($R,{Manager:HR}),nP=wn("offcanvas-body"),rP=["bsPrefix","className","children"],iP=(Ue(eP={},Nt,"show"),Ue(eP,At,"show"),eP),aP=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=Ge(e,rP);return n=wt(n,"offcanvas"),(0,ft.jsx)(on,qe(qe({ref:t,addEndListener:Zt},o),{},{childRef:a.ref,children:function(e,t){return r.cloneElement(a,qe(qe({},t),{},{className:Xe()(i,a.props.className,(e===Nt||e===Dt)&&"".concat(n,"-toggling"),iP[e])}))}}))}));aP.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},aP.displayName="OffcanvasToggling";var oP=aP,uP=r.createContext({onHide:function(){}}),sP=["closeLabel","closeVariant","closeButton","onHide","children"],cP=r.forwardRef((function(e,t){var n=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,u=e.children,s=Ge(e,sP),c=(0,r.useContext)(uP),l=at((function(){null==c||c.onHide(),null==o||o()}));return(0,ft.jsxs)("div",qe(qe({ref:t},s),{},{children:[u,a&&(0,ft.jsx)(mn,{"aria-label":n,variant:i,onClick:l})]}))}));cP.defaultProps={closeLabel:"Close",closeButton:!1};var lP=cP,fP=["bsPrefix","className"],dP=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=Ge(e,fP);return n=wt(n,"offcanvas-header"),(0,ft.jsx)(lP,qe(qe({ref:t},i),{},{className:Xe()(r,n)}))}));dP.displayName="OffcanvasHeader",dP.defaultProps={closeLabel:"Close",closeButton:!1};var hP=dP,pP=wn("offcanvas-title",{Component:yn("h5")});function vP(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var mP,yP=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",gP=".sticky-top",kP=".navbar-toggler",bP=function(e){y(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Bt(t,Ue({},e,"".concat(parseFloat(Bt(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Bt(t,Ue({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Mi(g(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";GD(a,yP).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),GD(a,gP).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),GD(a,kP).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Mi(g(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=vP(r.className,i):r.setAttribute("class",vP(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";GD(a,yP).forEach((function(e){return t.restore(o,e)})),GD(a,gP).forEach((function(e){return t.restore(u,e)})),GD(a,kP).forEach((function(e){return t.restore(u,e)}))}}]),n}(HR);var wP=bP,xP=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function IP(e){return(0,ft.jsx)(oP,qe({},e))}function EP(e){return(0,ft.jsx)(ln,qe({},e))}var SP=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],u=e.placement,s=e.responsive,c=e.show,f=e.backdrop,d=e.keyboard,h=e.scroll,p=e.onEscapeKeyDown,v=e.onShow,m=e.onHide,y=e.container,g=e.autoFocus,k=e.enforceFocus,b=e.restoreFocus,w=e.restoreFocusOptions,x=e.onEntered,I=e.onExit,E=e.onExiting,S=e.onEnter,_=e.onEntering,T=e.onExited,C=e.backdropClassName,N=e.manager,A=Ge(e,xP),D=(0,r.useRef)();n=wt(n,"offcanvas");var R=((0,r.useContext)(fR)||{}).onToggle,P=l((0,r.useState)(!1),2),O=P[0],L=P[1],M=UR(s||"xs","up");(0,r.useEffect)((function(){L(s?c&&!M:c)}),[c,s,M]);var F=at((function(){null==R||R(),null==m||m()})),j=(0,r.useMemo)((function(){return{onHide:F}}),[F]);var V=(0,r.useCallback)((function(e){return(0,ft.jsx)("div",qe(qe({},e),{},{className:Xe()("".concat(n,"-backdrop"),C)}))}),[C,n]),U=function(e){return(0,ft.jsx)("div",qe(qe(qe({},e),A),{},{className:Xe()(i,s?"".concat(n,"-").concat(s):n,"".concat(n,"-").concat(u)),"aria-labelledby":o,children:a}))};return(0,ft.jsxs)(ft.Fragment,{children:[!O&&U({}),(0,ft.jsx)(uP.Provider,{value:j,children:(0,ft.jsx)(tP,{show:O,ref:t,backdrop:f,container:y,keyboard:d,autoFocus:g,enforceFocus:k&&!h,restoreFocus:b,restoreFocusOptions:w,onEscapeKeyDown:p,onShow:v,onHide:F,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S.apply(void 0,[e].concat(n))},onEntering:_,onEntered:x,onExit:I,onExiting:E,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==T||T.apply(void 0,n)},manager:N||(h?(D.current||(D.current=new wP({handleContainerOverflow:!1})),D.current):function(e){return mP||(mP=new bP(e)),mP}()),transition:IP,backdropTransition:EP,renderBackdrop:V,renderDialog:U})})]})}));SP.displayName="Offcanvas",SP.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var _P=Object.assign(SP,{Body:nP,Header:hP,Title:pP}),TP=r.forwardRef((function(e,t){var n=(0,r.useContext)(fR);return(0,ft.jsx)(_P,qe({ref:t,show:!(null==n||!n.expanded)},e))}));TP.displayName="NavbarOffcanvas";var CP=TP,NP=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],AP=wn("navbar-text",{Component:"span"}),DP=r.forwardRef((function(e,t){var n=et(e,{expanded:"onToggle"}),i=n.bsPrefix,a=n.expand,o=n.variant,u=n.bg,s=n.fixed,c=n.sticky,l=n.className,f=n.as,d=void 0===f?"nav":f,h=n.expanded,p=n.onToggle,v=n.onSelect,m=n.collapseOnSelect,y=Ge(n,NP),g=wt(i,"navbar"),k=(0,r.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&h&&(null==p||p(!1))}),[v,m,h,p]);void 0===y.role&&"nav"!==d&&(y.role="navigation");var b="".concat(g,"-expand");"string"===typeof a&&(b="".concat(b,"-").concat(a));var w=(0,r.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!h)},bsPrefix:g,expanded:!!h,expand:a}}),[g,h,a,p]);return(0,ft.jsx)(fR.Provider,{value:w,children:(0,ft.jsx)(ZD.Provider,{value:k,children:(0,ft.jsx)(d,qe(qe({ref:t},y),{},{className:Xe()(l,g,a&&b,o&&"".concat(g,"-").concat(o),u&&"bg-".concat(u),c&&"sticky-".concat(c),s&&"fixed-".concat(s))}))})})}));DP.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},DP.displayName="Navbar";var RP=Object.assign(DP,{Brand:wR,Collapse:PR,Offcanvas:CP,Text:AP,Toggle:MR}),PP=r.createContext(null),OP=Object.prototype.hasOwnProperty;function LP(e,t,n){var r,i=On(e.keys());try{for(i.s();!(r=i.n()).done;)if(MP(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function MP(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&MP(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=On(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=LP(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var u,s=On(e);try{for(s.s();!(u=s.n()).done;){if((i=(r=u.value)[0])&&"object"===typeof i&&!(i=LP(t,i)))return!1;if(!MP(r[1],t.get(i)))return!1}}catch(c){s.e(c)}finally{s.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(OP.call(e,n)&&++r&&!OP.call(t,n))return!1;if(!(n in t)||!MP(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var FP=function(e){var t=ut();return[e[0],(0,r.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]};function jP(e){return e.split("-")[0]}function VP(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function UP(e){return e instanceof VP(e).Element||e instanceof Element}function BP(e){return e instanceof VP(e).HTMLElement||e instanceof HTMLElement}function qP(e){return"undefined"!==typeof ShadowRoot&&(e instanceof VP(e).ShadowRoot||e instanceof ShadowRoot)}var zP=Math.max,KP=Math.min,WP=Math.round;function HP(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function GP(){return!/^((?!chrome|android).)*safari/i.test(HP())}function QP(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&BP(e)&&(i=e.offsetWidth>0&&WP(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&WP(r.height)/e.offsetHeight||1);var o=(UP(e)?VP(e):window).visualViewport,u=!GP()&&n,s=(r.left+(u&&o?o.offsetLeft:0))/i,c=(r.top+(u&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:s+l,bottom:c+f,left:s,x:s,y:c}}function XP(e){var t=QP(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function YP(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&qP(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function JP(e){return e?(e.nodeName||"").toLowerCase():null}function ZP(e){return VP(e).getComputedStyle(e)}function $P(e){return["table","td","th"].indexOf(JP(e))>=0}function eO(e){return((UP(e)?e.ownerDocument:e.document)||window.document).documentElement}function tO(e){return"html"===JP(e)?e:e.assignedSlot||e.parentNode||(qP(e)?e.host:null)||eO(e)}function nO(e){return BP(e)&&"fixed"!==ZP(e).position?e.offsetParent:null}function rO(e){for(var t=VP(e),n=nO(e);n&&$P(n)&&"static"===ZP(n).position;)n=nO(n);return n&&("html"===JP(n)||"body"===JP(n)&&"static"===ZP(n).position)?t:n||function(e){var t=/firefox/i.test(HP());if(/Trident/i.test(HP())&&BP(e)&&"fixed"===ZP(e).position)return null;var n=tO(e);for(qP(n)&&(n=n.host);BP(n)&&["html","body"].indexOf(JP(n))<0;){var r=ZP(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function iO(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function aO(e,t,n){return zP(e,KP(t,n))}function oO(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function uO(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var sO="top",cO="bottom",lO="right",fO="left",dO="auto",hO=[sO,cO,lO,fO],pO="start",vO="end",mO="viewport",yO="popper",gO=hO.reduce((function(e,t){return e.concat([t+"-"+pO,t+"-"+vO])}),[]),kO=[].concat(hO,[dO]).reduce((function(e,t){return e.concat([t,t+"-"+pO,t+"-"+vO])}),[]),bO=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var wO={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=jP(n.placement),s=iO(u),c=[fO,lO].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return oO("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:uO(e,hO))}(i.padding,n),f=XP(a),d="y"===s?sO:fO,h="y"===s?cO:lO,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=rO(a),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[d],b=y-f[c]-l[h],w=y/2-f[c]/2+g,x=aO(k,w,b),I=s;n.modifiersData[r]=((t={})[I]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&YP(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xO(e){return e.split("-")[1]}var IO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function EO(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=o.x,h=void 0===d?0:d,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=fO,b=sO,w=window;if(c){var x=rO(n),I="clientHeight",E="clientWidth";if(x===VP(n)&&"static"!==ZP(x=eO(n)).position&&"absolute"===u&&(I="scrollHeight",E="scrollWidth"),i===sO||(i===fO||i===lO)&&a===vO)b=cO,v-=(f&&x===w&&w.visualViewport?w.visualViewport.height:x[I])-r.height,v*=s?1:-1;if(i===fO||(i===sO||i===cO)&&a===vO)k=lO,h-=(f&&x===w&&w.visualViewport?w.visualViewport.width:x[E])-r.width,h*=s?1:-1}var S,_=Object.assign({position:u},c&&IO),T=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:WP(t*r)/r||0,y:WP(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=T.x,v=T.y,s?Object.assign({},_,((S={})[b]=g?"0":"",S[k]=y?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",S)):Object.assign({},_,((t={})[b]=g?v+"px":"",t[k]=y?h+"px":"",t.transform="",t))}var SO={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:jP(t.placement),variation:xO(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,EO(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,EO(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},_O={passive:!0};var TO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=VP(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,_O)})),u&&s.addEventListener("resize",n.update,_O),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,_O)})),u&&s.removeEventListener("resize",n.update,_O)}},data:{}},CO={left:"right",right:"left",bottom:"top",top:"bottom"};function NO(e){return e.replace(/left|right|bottom|top/g,(function(e){return CO[e]}))}var AO={start:"end",end:"start"};function DO(e){return e.replace(/start|end/g,(function(e){return AO[e]}))}function RO(e){var t=VP(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function PO(e){return QP(eO(e)).left+RO(e).scrollLeft}function OO(e){var t=ZP(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function LO(e){return["html","body","#document"].indexOf(JP(e))>=0?e.ownerDocument.body:BP(e)&&OO(e)?e:LO(tO(e))}function MO(e,t){var n;void 0===t&&(t=[]);var r=LO(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=VP(r),o=i?[a].concat(a.visualViewport||[],OO(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(MO(tO(o)))}function FO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function jO(e,t,n){return t===mO?FO(function(e,t){var n=VP(e),r=eO(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,u=0,s=0;if(i){a=i.width,o=i.height;var c=GP();(c||!c&&"fixed"===t)&&(u=i.offsetLeft,s=i.offsetTop)}return{width:a,height:o,x:u+PO(e),y:s}}(e,n)):UP(t)?function(e,t){var n=QP(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):FO(function(e){var t,n=eO(e),r=RO(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=zP(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=zP(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+PO(e),s=-r.scrollTop;return"rtl"===ZP(i||n).direction&&(u+=zP(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(eO(e)))}function VO(e,t,n,r){var i="clippingParents"===t?function(e){var t=MO(tO(e)),n=["absolute","fixed"].indexOf(ZP(e).position)>=0&&BP(e)?rO(e):e;return UP(n)?t.filter((function(e){return UP(e)&&YP(e,n)&&"body"!==JP(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],u=a.reduce((function(t,n){var i=jO(e,n,r);return t.top=zP(i.top,t.top),t.right=KP(i.right,t.right),t.bottom=KP(i.bottom,t.bottom),t.left=zP(i.left,t.left),t}),jO(e,o,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function UO(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?jP(i):null,o=i?xO(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case sO:t={x:u,y:n.y-r.height};break;case cO:t={x:u,y:n.y+n.height};break;case lO:t={x:n.x+n.width,y:s};break;case fO:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?iO(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case pO:t[c]=t[c]-(n[l]/2-r[l]/2);break;case vO:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function BO(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,u=n.boundary,s=void 0===u?"clippingParents":u,c=n.rootBoundary,l=void 0===c?mO:c,f=n.elementContext,d=void 0===f?yO:f,h=n.altBoundary,p=void 0!==h&&h,v=n.padding,m=void 0===v?0:v,y=oO("number"!==typeof m?m:uO(m,hO)),g=d===yO?"reference":yO,k=e.rects.popper,b=e.elements[p?g:d],w=VO(UP(b)?b:b.contextElement||eO(e.elements.popper),s,l,o),x=QP(e.elements.reference),I=UO({reference:x,element:k,strategy:"absolute",placement:i}),E=FO(Object.assign({},k,I)),S=d===yO?E:x,_={top:w.top-S.top+y.top,bottom:S.bottom-w.bottom+y.bottom,left:w.left-S.left+y.left,right:S.right-w.right+y.right},T=e.modifiersData.offset;if(d===yO&&T){var C=T[i];Object.keys(_).forEach((function(e){var t=[lO,cO].indexOf(e)>=0?1:-1,n=[sO,cO].indexOf(e)>=0?"y":"x";_[e]+=C[n]*t}))}return _}var qO={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,y=jP(m),g=s||(y===m||!p?[NO(m)]:function(e){if(jP(e)===dO)return[];var t=NO(e);return[DO(e),t,DO(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(jP(n)===dO?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?kO:s,l=xO(r),f=l?u?gO:gO.filter((function(e){return xO(e)===l})):hO,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,n){return t[n]=BO(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[jP(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,I=!0,E=k[0],S=0;S<k.length;S++){var _=k[S],T=jP(_),C=xO(_)===pO,N=[sO,cO].indexOf(T)>=0,A=N?"width":"height",D=BO(t,{placement:_,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),R=N?C?lO:fO:C?cO:sO;b[A]>w[A]&&(R=NO(R));var P=NO(R),O=[];if(a&&O.push(D[T]<=0),u&&O.push(D[R]<=0,D[P]<=0),O.every((function(e){return e}))){E=_,I=!1;break}x.set(_,O)}if(I)for(var L=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function zO(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function KO(e){return[sO,lO,cO,fO].some((function(t){return e[t]>=0}))}var WO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=kO.reduce((function(e,n){return e[n]=function(e,t,n){var r=jP(e),i=[fO,sO].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[fO,lO].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var HO={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,v=void 0===p?0:p,m=BO(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=jP(t.placement),g=xO(t.placement),k=!g,b=iO(y),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,I=t.rects.reference,E=t.rects.popper,S="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,_="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,A="y"===b?sO:fO,D="y"===b?cO:lO,R="y"===b?"height":"width",P=x[b],O=P+m[A],L=P-m[D],M=h?-E[R]/2:0,F=g===pO?I[R]:E[R],j=g===pO?-E[R]:-I[R],V=t.elements.arrow,U=h&&V?XP(V):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=B[A],z=B[D],K=aO(0,I[R],U[R]),W=k?I[R]/2-M-K-q-_.mainAxis:F-K-q-_.mainAxis,H=k?-I[R]/2+M+K+z+_.mainAxis:j+K+z+_.mainAxis,G=t.elements.arrow&&rO(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,X=null!=(N=null==T?void 0:T[b])?N:0,Y=P+H-X,J=aO(h?KP(O,P+W-X-Q):O,P,h?zP(L,Y):L);x[b]=J,C[b]=J-P}if(u){var Z,$="x"===b?sO:fO,ee="x"===b?cO:lO,te=x[w],ne="y"===w?"height":"width",re=te+m[$],ie=te-m[ee],ae=-1!==[sO,fO].indexOf(y),oe=null!=(Z=null==T?void 0:T[w])?Z:0,ue=ae?re:te-I[ne]-E[ne]-oe+_.altAxis,se=ae?te+I[ne]+E[ne]-oe-_.altAxis:ie,ce=h&&ae?function(e,t,n){var r=aO(e,t,n);return r>n?n:r}(ue,te,se):aO(h?ue:re,te,h?se:ie);x[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function GO(e,t,n){void 0===n&&(n=!1);var r=BP(t),i=BP(t)&&function(e){var t=e.getBoundingClientRect(),n=WP(t.width)/e.offsetWidth||1,r=WP(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=eO(t),o=QP(e,i,n),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==JP(t)||OO(a))&&(u=function(e){return e!==VP(e)&&BP(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:RO(e);var t}(t)),BP(t)?((s=QP(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=PO(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function QO(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function XO(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var YO={placement:"bottom",modifiers:[],strategy:"absolute"};function JO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function ZO(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?YO:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},YO,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:UP(e)?MO(e):e.contextElement?MO(e.contextElement):[],popper:MO(t)};var l=function(e){var t=QO(e);return bO.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(JO(t,n)){i.rects={reference:GO(t,rO(n),"fixed"===i.options.strategy),popper:XP(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:XO((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!JO(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var $O=ZO({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=BO(t,{elementContext:"reference"}),u=BO(t,{altBoundary:!0}),s=zO(o,r),c=zO(u,i,a),l=KO(s),f=KO(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=UO({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},SO,TO,WO,qO,HO,wO]}),eL=["enabled","placement","strategy","modifiers"];function tL(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var nL={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},rL={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},iL=[];var aL=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.enabled,a=void 0===i||i,o=n.placement,u=void 0===o?"bottom":o,s=n.strategy,c=void 0===s?"absolute":s,f=n.modifiers,h=void 0===f?iL:f,p=tL(n,eL),v=(0,r.useRef)(h),m=(0,r.useRef)(),y=(0,r.useCallback)((function(){var e;null==(e=m.current)||e.update()}),[]),g=(0,r.useCallback)((function(){var e;null==(e=m.current)||e.forceUpdate()}),[]),k=FP((0,r.useState)({placement:u,update:y,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),b=l(k,2),w=b[0],x=b[1],I=(0,r.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),x({state:t,styles:n,attributes:r,update:y,forceUpdate:g,placement:t.placement})}}}),[y,g,x]),E=(0,r.useMemo)((function(){return MP(v.current,h)||(v.current=h),v.current}),[h]);return(0,r.useEffect)((function(){m.current&&a&&m.current.setOptions({placement:u,strategy:c,modifiers:[].concat(d(E),[I,nL])})}),[c,u,I,a,E]),(0,r.useEffect)((function(){if(a&&null!=e&&null!=t)return m.current=$O(e,t,Object.assign({},p,{placement:u,strategy:c,modifiers:[].concat(d(E),[rL,I])})),function(){null!=m.current&&(m.current.destroy(),m.current=void 0,x((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,t]),w},oL=function(){};function uL(e){return 0===e.button}function sL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var cL=function(e){return e&&("current"in e?e.current:e)},lL={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var fL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oL,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.disabled,a=n.clickTrigger,o=void 0===a?"click":a,u=(0,r.useRef)(!1),s=(0,r.useRef)(!1),c=(0,r.useCallback)((function(t){var n=cL(e);aD()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),u.current=!n||sL(t)||!uL(t)||!!qR(n,t.target)||s.current,s.current=!1}),[e]),l=at((function(t){var n=cL(e);n&&qR(n,t.target)&&(s.current=!0)})),f=at((function(e){u.current||t(e)}));(0,r.useEffect)((function(){if(!i&&null!=e){var t=Lt(cL(e)),n=(t.defaultView||window).event,r=null;lL[o]&&(r=Qt(t,lL[o],l,!0));var a=Qt(t,o,c,!0),u=Qt(t,o,(function(e){e!==n?f(e):n=void 0})),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map((function(e){return Qt(e,"mousemove",oL)}))),function(){null==r||r(),a(),u(),s.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function dL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function hL(e){var t,n,r,i,a,o=e.enabled,u=e.enableEvents,s=e.placement,c=e.flip,l=e.offset,f=e.fixed,d=e.containerPadding,h=e.arrowElement,p=e.popperConfig,v=void 0===p?{}:p,m=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(v.modifiers);return Object.assign({},v,{placement:s,enabled:o,strategy:f?"fixed":v.strategy,modifiers:dL(Object.assign({},m,{eventListeners:{enabled:u,options:null==(t=m.eventListeners)?void 0:t.options},preventOverflow:Object.assign({},m.preventOverflow,{options:d?Object.assign({padding:d},null==(n=m.preventOverflow)?void 0:n.options):null==(r=m.preventOverflow)?void 0:r.options}),offset:{options:Object.assign({offset:l},null==(i=m.offset)?void 0:i.options)},arrow:Object.assign({},m.arrow,{enabled:!!h,options:Object.assign({},null==(a=m.arrow)?void 0:a.options,{element:h})}),flip:Object.assign({enabled:!!c},m.flip)}))})}var pL=["children"];var vL=function(){};function mL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useContext)(PP),n=ot(),i=l(n,2),a=i[0],o=i[1],u=(0,r.useRef)(!1),s=e.flip,c=e.offset,f=e.rootCloseEvent,d=e.fixed,h=void 0!==d&&d,p=e.placement,v=e.popperConfig,m=void 0===v?{}:v,y=e.enableEventListeners,g=void 0===y||y,k=e.usePopper,b=void 0===k?!!t:k,w=null==(null==t?void 0:t.show)?!!e.show:t.show;w&&!u.current&&(u.current=!0);var x=function(e){null==t||t.toggle(!1,e)},I=t||{},E=I.placement,S=I.setMenu,_=I.menuElement,T=I.toggleElement,C=aL(T,_,hL({placement:p||E||"bottom-start",enabled:b,enableEvents:null==g?w:g,offset:c,flip:s,fixed:h,arrowElement:a,popperConfig:m})),N=Object.assign({ref:S||vL,"aria-labelledby":null==T?void 0:T.id},C.attributes.popper,{style:C.styles.popper}),A={show:w,placement:E,hasShown:u.current,toggle:null==t?void 0:t.toggle,popper:b?C:null,arrowProps:b?Object.assign({ref:o},C.attributes.arrow,{style:C.styles.arrow}):{}};return fL(_,x,{clickTrigger:f,disabled:!w}),[N,A]}function yL(e){var t=e.children,n=l(mL(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,pL)),2),r=n[0],i=n[1];return(0,ft.jsx)(ft.Fragment,{children:t(r,i)})}yL.displayName="DropdownMenu",yL.defaultProps={usePopper:!0};var gL=yL,kL={prefix:String(Math.round(1e10*Math.random())),current:0},bL=r.createContext(kL);var wL=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);var xL=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},IL=function(){};function EL(){var e=function(e){var t=(0,r.useContext)(bL);return t!==kL||wL||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,r.useMemo)((function(){return e||"react-aria".concat(t.prefix,"-").concat(++t.current)}),[e])}(),t=(0,r.useContext)(PP)||{},n=t.show,i=void 0!==n&&n,a=t.toggle,o=void 0===a?IL:a,u=t.setToggle,s=t.menuElement,c=(0,r.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:u||IL,onClick:c,"aria-expanded":!!i};return s&&xL(s)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function SL(e){var t=e.children,n=l(EL(),2),r=n[0],i=n[1];return(0,ft.jsx)(ft.Fragment,{children:t(r,i)})}SL.displayName="DropdownToggle";var _L=SL,TL=["eventKey","disabled","onClick","active","as"];function CL(e){var t=e.key,n=e.href,i=e.active,a=e.disabled,o=e.onClick,u=(0,r.useContext)(ZD),s=((0,r.useContext)(YD)||{}).activeKey,c=JD(t,n),l=null==i&&null!=t?JD(s)===c:i;return[Ue({onClick:at((function(e){a||(null==o||o(e),u&&!e.isPropagationStopped()&&u(c,e))})),"aria-disabled":a||void 0,"aria-selected":l},eR("dropdown-item"),""),{isActive:l}]}var NL=r.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,u=void 0===o?vt:o,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,TL),c=l(CL({key:n,href:s.href,disabled:r,onClick:i,active:a}),1)[0];return(0,ft.jsx)(u,Object.assign({},s,{ref:t},c))}));NL.displayName="DropdownItem";var AL=NL;function DL(){var e=QD(),t=(0,r.useRef)(null),n=(0,r.useCallback)((function(n){t.current=n,e()}),[e]);return[t,n]}function RL(e){var t=e.defaultShow,n=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,u=void 0===o?"* [".concat(eR("dropdown-item"),"]"):o,s=e.focusFirstItemOnShow,c=e.placement,f=void 0===c?"bottom-start":c,d=e.children,h=QR(),p=l($e(n,t,a),2),v=p[0],m=p[1],y=l(DL(),2),g=y[0],k=y[1],b=g.current,w=l(DL(),2),x=w[0],I=w[1],E=x.current,S=st(v),_=(0,r.useRef)(null),T=(0,r.useRef)(!1),C=(0,r.useContext)(ZD),N=(0,r.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),A=at((function(e,t){null==i||i(e,t),N(!1,t,"select"),t.isPropagationStopped()||null==C||C(e,t)})),D=(0,r.useMemo)((function(){return{toggle:N,placement:f,show:v,menuElement:b,toggleElement:E,setMenu:k,setToggle:I}}),[N,f,v,b,E,k,I]);b&&S&&!v&&(T.current=b.contains(b.ownerDocument.activeElement));var R=at((function(){E&&E.focus&&E.focus()})),P=at((function(){var e=_.current,t=s;if(null==t&&(t=!(!g.current||!xL(g.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=GD(g.current,u)[0];n&&n.focus&&n.focus()}}));(0,r.useEffect)((function(){v?P():T.current&&(T.current=!1,R())}),[v,T,R,P]),(0,r.useEffect)((function(){_.current=null}));var O=function(e,t){if(!g.current)return null;var n=GD(g.current,u),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,t,n,i){void 0===i&&(i=!1);var a=at(n);(0,r.useEffect)((function(){var n="function"===typeof e?e():e;return n.addEventListener(t,a,i),function(){return n.removeEventListener(t,a,i)}}),[e])}((0,r.useCallback)((function(){return h.document}),[h]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=g.current)?void 0:t.contains(i),o=null==(n=x.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||g.current&&v)){_.current=e.type;var u={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var s=O(i,-1);return s&&s.focus&&s.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=O(i,1);c&&c.focus&&c.focus()}else m(!0,u);return;case"Tab":Ht(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=g.current)&&t.contains(e.target)||m(!1,u)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,u)}}})),(0,ft.jsx)(ZD.Provider,{value:A,children:(0,ft.jsx)(PP.Provider,{value:D,children:d})})}RL.displayName="Dropdown",RL.Menu=gL,RL.Toggle=_L,RL.Item=AL;var PL=RL,OL=r.createContext({});OL.displayName="DropdownContext";var LL=OL,ML=["bsPrefix","className","eventKey","disabled","onClick","active","as"],FL=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,u=e.onClick,s=e.active,c=e.as,f=void 0===c?gt:c,d=Ge(e,ML),h=wt(n,"dropdown-item"),p=l(CL({key:i,href:d.href,disabled:o,onClick:u,active:s}),2),v=p[0],m=p[1];return(0,ft.jsx)(f,qe(qe(qe({},d),v),{},{ref:t,className:Xe()(r,h,m.isActive&&"active",o&&"disabled")}))}));FL.displayName="DropdownItem";var jL=FL,VL=r.createContext(null);VL.displayName="InputGroupContext";var UL=VL;function BL(e,t){return e}var qL=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function zL(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var KL=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.align,o=e.rootCloseEvent,u=e.flip,s=e.show,c=e.renderOnMount,f=e.as,d=void 0===f?"div":f,h=e.popperConfig,p=e.variant,v=Ge(e,qL),m=!1,y=(0,r.useContext)(fR),g=wt(n,"dropdown-menu"),k=(0,r.useContext)(LL),b=k.align,w=k.drop,x=k.isRTL;a=a||b;var I=(0,r.useContext)(UL),E=[];if(a)if("object"===typeof a){var S=Object.keys(a);if(S.length){var _=S[0],T=a[_];m="start"===T,E.push("".concat(g,"-").concat(_,"-").concat(T))}}else"end"===a&&(m=!0);var C=zL(m,w,x),N=l(mL({flip:u,rootCloseEvent:o,show:s,usePopper:!y&&0===E.length,offset:[0,2],popperConfig:h,placement:C}),2),A=N[0],D=N[1],R=D.hasShown,P=D.popper,O=D.show,L=D.toggle;if(A.ref=tn(BL(t),A.ref),lt((function(){O&&(null==P||P.update())}),[O]),!R&&!c&&!I)return null;"string"!==typeof d&&(A.show=O,A.close=function(){return null==L?void 0:L(!1)},A.align=a);var M=v.style;return null!=P&&P.placement&&(M=qe(qe({},v.style),A.style),v["x-placement"]=P.placement),(0,ft.jsx)(d,qe(qe(qe(qe({},v),A),{},{style:M},(E.length||y)&&{"data-bs-popper":"static"}),{},{className:Xe().apply(void 0,[i,g,O&&"show",m&&"".concat(g,"-end"),p&&"".concat(g,"-").concat(p)].concat(E))}))}));KL.displayName="DropdownMenu",KL.defaultProps={flip:!0};var WL=KL,HL=["bsPrefix","split","className","childBsPrefix","as"],GL=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.split,a=e.className,o=e.childBsPrefix,u=e.as,s=void 0===u?Dn:u,c=Ge(e,HL),f=wt(n,"dropdown-toggle"),d=(0,r.useContext)(PP),h=(0,r.useContext)(UL);void 0!==o&&(c.bsPrefix=o);var p=l(EL(),1)[0];return p.ref=tn(p.ref,BL(t)),(0,ft.jsx)(s,qe(qe({className:Xe()(a,f,i&&"".concat(f,"-split"),!!h&&(null==d?void 0:d.show)&&"show")},p),c))}));GL.displayName="DropdownToggle";var QL=GL,XL=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],YL=wn("dropdown-header",{defaultProps:{role:"heading"}}),JL=wn("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),ZL=wn("dropdown-item-text",{Component:"span"}),$L=r.forwardRef((function(e,t){var n=et(e,{show:"onToggle"}),i=n.bsPrefix,a=n.drop,o=n.show,u=n.className,s=n.align,c=n.onSelect,l=n.onToggle,f=n.focusFirstItemOnShow,d=n.as,h=void 0===d?"div":d,p=(n.navbar,n.autoClose),v=Ge(n,XL),m=(0,r.useContext)(UL),y=wt(i,"dropdown"),g="rtl"===(0,r.useContext)(bt).dir,k=at((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===p?"click"===n:"inside"===p?"rootClose"!==n:"outside"!==p||"select"!==n)&&(null==l||l(e,t))})),b=zL("end"===s,a,g),w=(0,r.useMemo)((function(){return{align:s,drop:a,isRTL:g}}),[s,a,g]);return(0,ft.jsx)(LL.Provider,{value:w,children:(0,ft.jsx)(PL,{placement:b,show:o,onSelect:c,onToggle:k,focusFirstItemOnShow:f,itemSelector:".".concat(y,"-item:not(.disabled):not(:disabled)"),children:m?v.children:(0,ft.jsx)(h,qe(qe({},v),{},{ref:t,className:Xe()(u,o&&"show",(!a||"down"===a)&&y,"up"===a&&"dropup","end"===a&&"dropend","start"===a&&"dropstart")}))})})}));$L.displayName="Dropdown",$L.defaultProps={navbar:!1,align:"start",autoClose:!0};var eM=Object.assign($L,{Toggle:QL,Menu:WL,Item:jL,ItemText:ZL,Divider:JL,Header:YL}),tM=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],nM=r.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,u=e.rootCloseEvent,s=e.menuRole,c=e.disabled,l=e.active,f=e.renderMenuOnMount,d=e.menuVariant,h=Ge(e,tM),p=wt(void 0,"nav-item");return(0,ft.jsxs)(eM,qe(qe({ref:t},h),{},{className:Xe()(o,p),children:[(0,ft.jsx)(eM.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:a,as:vR,children:r}),(0,ft.jsx)(eM.Menu,{role:s,renderOnMount:f,rootCloseEvent:u,variant:d,children:i})]}))}));nM.displayName="NavDropdown";var rM=Object.assign(nM,{Item:eM.Item,ItemText:eM.ItemText,Divider:eM.Divider,Header:eM.Header}),iM={navBar:{backgroundColor:"#ea2",fontSize:"20px",padding:"10px",borderRadius:"5px",text:"#fff"},imagenLogo:{width:"100px",height:"100px"}};var aM=function(){var e=ye(),t=(0,r.useContext)(OD);return(0,ft.jsxs)(RP,{style:iM.navBar,expand:"lg",children:[" ",(0,ft.jsx)(RP.Brand,{as:Fe,to:"/",children:(0,ft.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASoAAAErCAYAAABpZs6KAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB78SURBVHhe7d0PdFTlmcfxB1ijXYIKCPkjiICAVohorCe2qznWRo5gXUVltQu4oNR6OFBYwEVQREVkgR4oHLZ10+IK7EJxK66ttJi6bRb/YCuKEauiERELiQhoTYSmB937vHPf5M7NTDJJ5s+b5Ps5Jyf33szEmcH3l/d93vfe2+Wvf/3rl88/95xs+cVW2fnaH6Wm9nMBAJd0+d1vf/vlvz+6Xv64Z69/CADc0lV7UhpSBV8d7B8CALd01eGehlTFHyv9QwDglq5akyKkALisq/8dAJxFUAFwHkEFwHkEFQDnEVQAnNe1b+/T/U0AcBM9KgDOI6gAOI+gAuA8ggqA8wgqAM4jqAA4r+tpp2b7mwDgJnpUAJxHUAFwHkEFwHkEFQDnEVQAnEdQAXAeQQXAeV2/8pWT/U0AcFNX7kADwHUM/QA4j6AC4DyCCoDzCCoAziOoADiPoALgPIIKgPMIKgDOI6gAOI+gAuA8ggqA8wgqAM4jqAA4j6BKk769T/e3ALQUQZUmX3pfBV8dLEMG9oscAJCwLiOLrtA2BADOokcFwHkEFQDnEVQAnEdQAXAeQQXAeQQVAOcRVACcR1ABcB5BBcB5BBUA5xFUAJxHUAFwHkEFwHkEFQDnEVQAnEdQdWJ9ep9uLubH1UfhOi6cB0MD69ixv8g7ez/0jwDuoEcFo+KPlSakbC+rLS68YIS/BSQHQYUohw5/YkJLA+vC4UP8oy0zsmA4YYWkYuiHJmlg9cvrI6/ufsc/0rztZU/JwapqGTdhin8EaJtuuf0GLvS3gUY+P3Zcqj46YgLr3HPOkhMnTkitdyyeVcsfkrzcHOmRnW32d1XsNt+BtmDoh4TokPCV1/eY235d8Xdfi3vbr+CQLzenj78FtA1BhYTl5vSV2ydNlAfuu1fW/vu/yZObHpVZ0+/wfxqxeNkP/S2RX5f91t+KBNjm9aVmWKhfuk0dC4li6IeEaEg9vuEnMuScQWZfa1B9+/aRc4cNNft2iFdTUyvjxl4rr772ujy6fqM5poGkQ0IdDurz9Lt+adG9pvZzebdyr3kcEA89KiRk0oSbzfet234jl5Vcawrl02fPN8FTVf2R+ZnSbQ2pXz3zv/6RSKjp89au22iep8/Xba1l2d8LNIVZPyREh2oaLBoyzZk04RYvqJ6NCrBYtJelva2bxt/e7GPRudGjQsK0Z5QIZvqQbAQVEqI9Hu1RJVIADw8Hla52D88U2t9FbwrNIaiQEFtzunv2dFNYb0qs4LGn6NjA0mGf0toV0JwOW6MKNibtCaBlwsM8W/jWXpD+TAvmuyreMKGUyJBQn6//Jvo1eeIt/lEx9anm8O+XGPvv0BF7qB02qPQv/+hR3/L3gM5Bw6ojnrrUYYNKZ54uvGC42U7kLz4aZKIHc9JJfyMnZ50kNbXH/CMN+Pdrnv0308/q4eWrzHZHwvIEOMWeBP2ng4fko8Of+EfR2VFMh1P0nEK9UoP+9Yw1U4jOiR4VnMfVR0GPCs5L5tVH0T4RVGg3glcfvWhE5GRodA4EFdode20sDazWXi4Z7QtBhXbLFt5tYHHbr47LyWK6roECWupvv3Ky+f75sb+Y72gbez0xFzgXVLpIc9Xyxf4egEyZPnuevPqaG1fCcG7ol5vDeV0AolGjAuA854Z+8+Z8X66+6kp/L3KzgKrqhnO9vvRebZcu/o6PYxxTiRzrdfqpMqBfTqP7FKb6v6tcP5bTt6/Mv2uGvyfmctGu1KmcCyq9gUDwEi2JXPoWaCnOKWxM2522P0sv5aPXxXeBU0M/7UkFQyp4gwAgmTinsDG9jpWGk2WvIeYCp4LKXpbFCn5oQCrY1e7Bq492ZsFZvvBFDjPJuR5VkN7JBEgXzinUG3NEdw4SuUZ+OjhTo7K3TrI0pIJ33Q1ypTuKjq1Xz1Olt/f1znsd86oNsS5ZrG1LJ7SCbVHbYaY7DU4EVaxFnk3d601vCQ6gbeJNVIXbo7bDabPmxW2P6eBEUIVn+pqbFrVBRQ0L6ZSVdZL0Pv1UOfHFF/LRx0f9o+2P7S01tfI8PMLJdFhlNKhidTP1g2jqziRXX/VN7zkzmhwaAqmkNay8nN7t9mJ+NoSaCiptm8GlCqq5tplKGSumxwoptXjZSn8rNnuKjSvnIKHzCc4U6ixhe5sptG1nZEF02wvSUAp3BGx4hWfn0yEjQaVvNPKGwyH1w2YDyH5IDPvgAg2r9jZTaGf28nKbnpTSUYuWYYIiHYwZab/CSVqDSt+cBlSsqyMkMrOgIaXhpiGVqbEyEIvtZdlrY7nsYFWk7YQ7CrForThWWOn6Km3L2qZ1P9W65fYbuNDfTip98dnZ3eWybxTJZV8vktU/WGw+GD0Wluj0p344QwYP8j68TfJu5V7/KOCOz48dl6qPjpjAGja4v9l2TU1trWmf2h61V7X9hZf8n8S2q2K36RgMOWdQVPvVbf0d48ZeK6NHXem1zYHesWzp4R1Pdkci6cV0XbSptadERMbBKxOqNwWnTDn/D+2FBpaL5xRqUGmPSNtgogVyfY6270RXqyfaAUlERmpU+uFod1I/oESL4nZMHC7wAS5z9ZxCbYMaIho+LelY6FBQZwuTFUCJSvrQT4dmOtwL0ze5/YUdsv35l2TewsWmO5ko/SD1d2ptavWPoqdMgfZAh4TVh47KkU/+bHpZZ+aeYbYz6Z3KvXK5165srSrRNhlpyy+ZsKqpqTXH7C3lg/QxySrRpDyo9M1ouKzyvvSFtySglIaUPQdQLzmh42ugPdPQsoF1zsAzTYBlgral7c/vMGGlbVavT9WSZT/6fG3PepUTbedam9L2byUzqFI+9NM33pI3b2mXVBemaUhpgmt3U78DHYULM4XapuyKczsr35p1Uvr81rTzRGVswWc8GlANH9gI8wG0pJYFtDe2jpWpwLJhpXXjSAdhsRnJtCawUiXlQ7+mun/6oegU55BzBpqek05x6mIyO2bWD07rWUBnEF7a8MWJL6TWO5YOdhinoaXLELQN2jaZ6LKDlrT9ljLLE3Q2QrugyaBvLjiLEG+KMt4VEPSD2LrtWWeu1QxkigZWJs4p1A6Erq/StqzbtuNg2VFOWKJtvzUyPvTTN609J/3SOpR+AIQUEH1OoYZWupY2aJvUUosGjU5gaZvU9qmz7krDK90yGlQ2mTWY9Is6FBCbhlamzinUdhpZPzXfbGeCc8V0APEFZwovGjHUP9rxEVRAO6SB9crre0xg6UxhX+97R0ZQAe2YXdpgT9HpqIFlgqpbV/IKaM/skNC1cwqThYQCOhAbWOmeKUw1ggrooDS02tvVR+MhqIAOzvaybOG9PSKogE7CFt7t0ob2VHg3QaX3KQPQOWhg6dKG9jRTSI8K6KTskLA9zBQSVEAnZwPL5cI7QQWgnquFd4IKQCPBwrsLgUVQAYjLlcAyQaUX5gKAeGxg2dPt0j1TSI8KQMLsUqZ0zxQSVABaLN0zhQQVgDaxoXXaqd39I8lHUAFIik//nLqbA5ug+vTPNWYHAJIlu/tXknb1UXpUAFKipvZY0q4+SlABSClbw/rI+97amUKCCp3T0EIp6jw3cXFGa2cKzZ2StUumaZcMLblTsr2vH6LljSyRa64qlqIhPeVkPVBTLbt375TfbX9aduwxD/HlyNgp42XAZy/L7sP+oXrZcvbwfvLZ/z0im3b6h1op79uTZMp5WfL+q2/JQXMkR4Zf2F9kb5mseLzCHIkrv0CKz+8pWf6u0ftcufQskT3Ptv21tZz3md27SKZenuO9pjrZt+1hGb887S+i3Xp8w0/MDUgvK7nWP9KgNXdK1sDqn9/XXHamKQSVS/KLZea878nYYd1FTtRJzaFqOdwtRwb0aWjmR37/iPz9/Kf9vTGydP0kKfR+ntXNP2R5z687vl/KHpwpS9rYDicueUxuHemFTfi/sb9Mxk1e7YdXbGMeekzmXtLT32ugr6184VR5IN0ZUThLNi8pljx/Vz6tkBU33iNP+LtoWrKDytLA6pfXx9S0YjFDv2SFFNqgaJL8eNWsSEjVVsqmhTfK1ROmyvjv3Chztu33/vZHfHbUhpR6Wu6acKNcWVohUfO2Jyrlicne8evaHlJq3dxb5crJW2TPcf+A1ecsucbfjG2cfLsgHFJHpfzea+XKb2cgpNTZPaWHv2l8vF9e9DeROeFzCsOFd2pULsi/XlbOvl7OPy2yu++5JbJmR2Rb7Vj+iJQf0K1a+XifORQt++ToodX7Xi/BPD6ZsuXkU/xN65S+MqTE346hcF6JnB9+Tu1+2R14b2n3853y9qf+dt1+efo/HmmyR4j0soEVPkWHoHJA4T+NlkI/pEwY7a32t60KefpdPVYjNe9FjgSVnNM3KqgO/ikFXZWSsxqGS/V6Sv5wfzMsf7xMuTTHCwPbF/QdqZZN/mZmbJEZN86UOUvvl9vGTJUlmQxNxBU8RUcDi6DKuAK5/jyvQdc7SXr0Cu5H7DzmNfjjn8i+GBk0tE9weFUrB95qpsDdCmPP6+eF4VHZtz86ePIGjve3oo25U3tTdfLGroZhq6o5/KG/lUmVsqNspzRdvoUrNLAIqowbLNlRRZMsGTpqmtyc7+9aT62VB5atl1/6uw3GyJAz/E3jiFQ97m8mTYFcdKbWzvbLM28d9Y9FZOUMkkajv8JpcsvXvPDcXy6/OJ4d1ds7XL3F3wrR2cGieNPVOVI4MoGpbP0dJcXNLjsYWnSpFIY/37gGS1ECvxOpRVC56LQCmbJolpQEG9OenVL2fxWN6yn550p+/bDR8+nRFPQUCiWvj/ftULWs21MdXbj3en+F/qY1cXyxDOh2VF782WrJD/X2Pt7rb9YbLBMfKpVn1y6SRQ+ukGf/62652f+J8b0Vsr2sVFYu0++PydJGqZgjJd9bJJuffEq2P+b9jrtmybI13vavN8qGu8ZEDVfzvj1LNniP++mDd8vKtY/Jypsa91zrDR0jC0o3ev/NFbLM/s5flMrSpp6DlCGoMm6LvLI3VMfxZPUvlrnLF8jE5v6SfyM8i1WZ/Kn2GwZLfjevr1blDSmfrJQDJ/zjRi/JvcnfVKMWyA3Ds6Su8neyYluBDOgZ7E95vb2f+5sqv9gLg3+VKZfk1C99yOpTIEU3RLbV2LNz/S3P8Y/knTJ/28iRm5etlAU3FEjvD7fIbSUzpXS3f2Jst+4yoGS03BrZk6Ipy2TtdC9A7Qn+3XpK4VXj/J1oeTctkP9ZcYeUnFopZWWVDcF8So5ceuVofwfpRFA5YN2GctnXOKu8RnuxTFm6QmYW+QdiKDw3R7L9bZWKQnrhV/W/USt7K8q9vZ1y8FDkeER3GVhQ7G8XyNx/uNiLrmp58T8e9Xp/BXJGcJa59qi8729qL23uomlS3H2v7AzVvRrkyPC8wKVDPjkir/ibxqg75JaRkZ8f/mCr15OslHXLNsvO+lm9OvnM+5Z30yK574Z+cvj3b3tR2TR97Nrveu8hy+sRrr1HHli6RJ54s+H11R1L3RUCEB9B5YKdq2X8g2Uxw0q6D5ax966RuXHCqujM4FCkTo58kPxCeslZ+t+wta8K2V0V3Vh75RaY73m3TpCS/iI1u7bKPTqbVjJI8oLLE4IzflPGS7GUy/zvzJGn/xT8fcFe12gZEHh7NVVveTEZMCLHC8WIvEv8ut6BLTJj+iOyqaxM1i1fImukRGbeOFje/ukMGT//AxNclukhBuVfL//yjwWR4D9QIT/bphvVUrrkP6V8f63U7H9RSr0gRPoRVK7YoWG1Rd6I9Sc/q7+M+e60RrWgxoX0o3IgamiUDOPFjL6qPhT7qzcdCL3IPt4QTANh9DDJOlEpz6zwC+aDe9YHiYqa8StdIpPvWS2aZ1Gzll6Y2TDKm1ogQwOr4T879IK/FcNpBTJ1xaLIUPnA07Jm6Wop/a0u6SiTFTNnyIzHve3rcqS3ebCqk4Pvag+xwZg7r5NCvwN38N2yhlD0wu+eybfI1ZMf9t67fwxpRVC5ZMej8r2ZurgzRteqf4Fc3yipBskZwUJ6bbXsSXZD8ntFUb2Z3dXRQ6juOXLRvdfJpV4qHfnD1vrFpiVnBmMqHDTVctA8rlgGBHKqrvo9PxALZMolwZm+WjmwJ7S+7PXQ6+jlPSfGUPnggcjz8oYGh8mhUM+/Q8bqTKWRmiUeaD2CyjVeb+Ceu1dLWaPAyZbss/1N66ZgD8FzKPmLKfMu7G96RYe9XkW9sv3ycVRBPUcuvdwb8x1/W375o4bW32h9V6OFrKpA8gN5dviQHxCjvN5N1BICb0j4pL9pbXtENu4K1Yx0qDx7UePlHZ5r+gVeTyjU874T7L3VyJHn/U04gaDKmByZsmKjbH5wjL8fcKBcHvjRi6GlCDVS01CJNsKF9EY1l5ChRYXS0uVAkcbt9T52R/YjwgX1iH3l66W0vvFH95TiNv6osLU9mRyZen1B1LAxOCRs4AXznOWy6c1QWOnyjjnhGb1iGZITmIEMhfo1pg5n1Uldoz8UyCSCKmO+LucP7C69T4tqzQ12vCUHgu3v+Ce6lCrKRVE9FpGP/xRdc4lywyL54cLpcvsofz8h18v5Z3mNu3a/vBJV+2pcUJfaCvnl8mBQDvLem7+pvNcfGepFyxsYDNtImOXdNE2u8UZ9dcGToI/ur6+RRdspa6bfI6W7QgtRzxgcqulF99zCod47O7iMIob8nBinECFdCKoMyxp4gUz0t6N1l1MCheQju56Rdf52RKiHoDWfP/ibjZTI0nEFkvW+rm3yDyWiZIR4WRpzSBldUK+TPb9eHf2YwlzpEXj98vlngaUJDYr7BPuEnmHTZNk/ea/1zb1yODBjGFl2UShzSx+TlTd7YXbFeJk7c7y/KLZS1s25S9aEh4FBN0QPk02o68ngP1sjC87zD9brJbmBtVzmyhYrFsiURo9DuhBUGdNPztAQOGWYXHNv4/m8vFsvkCG2oX5aIRvvDfUn8qN7CBoWNY3HRp5Cmbpqslzay65tSlxhUaQ+VfNJjPPzggX1qp1S+uNQ/elrfaN7ILVHY/aIzu4dWCflDflK5pXIgGMVUrr9L1ELWXvkeGH72N1S0u1l2bRpnNz3z+NkzOhxsmCVrUd5Ybri5fr3d+T9l6OHigN7Rg2Te/SfJT9dMUmGffAbKX1T5HBNcAKjuxTeskLm3jxGpty1TP7n3jGS/Ye18oD3OGQGQeWAvMtnm9M9IvWjwTJm6iL58bhh5hy5ukMvm6FNVG9laKGM9XodA/zdiBwZ/tAdMrGkWErMl9fIZi6QDf99n9x8Xnepe7M86tIxTfJCUF/DgqJI3SY7d4RMGV0QHTxl78lBMzSrkze2PWyWGVhDi8bJ0stD5+ad0lPGxCiQfRae4Pz0bdm0PPR+PdnDir3I9YZ5ZkmDN1y0IW5ON5omRRpy473hph474gV7oKgfS94lxZL/wQb5/pwtJtxKy99qWIGuTvP+HW7Tz7OffLxttczhKqAZRVBlTLW8v/+oRP6Q6+ked8hPy54y55bNva5Aen1RLW9sfUTu/M4DUWt38u4qle1r7pOZVwSLvypLBlyiPYBZssB8eY1s9MUywNSJjsrOpzck1pvSc+seWxR5DVpUPu69wNyLZeLMRbK5dJr/IFUmOvo7svM/5f4N/iEZIyv/W8+lGy+X6rmB5iqj3pfOEPa5WOaueUo2zDQPrLfj7YarK9RVvSyl8+ZEAvX5wHWjvEcc3LVF5t/6sDxhPovN8kTZfqnxZx6z+pfIsrJSWfDNXnLw91vkgZle0IXrYc+91bCg9kSt7Ct7RCbP2dxwXuTP75H7n6ys/52qrqpCNi2eIbetKm9RTxTJZy5F7G8nBZcibgU96z94XfHPPpSyHZX+TpoNHSxD91TGOLE5R4Z6PaI94bVMUZp5TL73u8X73aEQGVpULAOyjsru8EnX/ufyl33loWvFNzDP1TFiIp+Z1xMtGZAlR954UXbGKOxH6NUS+snJh96S8l1NvdfOKVWXIm4OPSoXHKiQ8rJyKbNfmQopFTOkVHUzIaWaecyBxiGl9uzw3nOsK0P4n0u8kFLmuYl+ZnoFirKmQkrptarKCSnHEFQAnEdQAXAeQQXAeQQVAOcRVACcR1ABcB5BBcB5BBUA5xFUAJxHUAFwHkEFwHkEFQDnEVQAnEdQAXAeQQXAeQQVAOcRVACcR1ABcB5BBcB5BBUA5xFUAJxHUAFwHkEFwHkEFQDnEVQAnEdQAXAeQQXAeQQVAOcRVACcR1ABcB5BBcB5BBUA5xFUAJxHUAFwHkEFwHkEFQDnEVQAnEdQAXBexoNq1fKHZNKEW+TCC4b7RwC4Ijenr2mf+qVtVfczIaNBpW/6wgtGyOSJ+iEslsc3/ETmzfk+oQVkkA2n7WVPmTap7VO/tK2qquqPzPd06jKy6Iov/e2kuPqqK03YWIuX/VB+9cyz/l40m876AWg46Xd7TD8Mfd7adRvNPoDU04DSULK0HW7d9qzsqnjd7L/62m7zPZaWtP2W6pbbb+BCfzsphgweJJd9o8jfE9n+wkvybuVefy9aTW2t+dKf6+O2P79Dnnthh/lZJLxGSF5uX3nH+7k+DkBqaAdh8f3zZPSoK82+dhA0aB5dv9ELqd0msJrrSbWk7beUU8V0/SA0sfUDumn87WZfU3r1DxbX97QAJJe2LR3iacfg1ddel8tKrjUB1VwwpVPKg6q19Sb9kKbNmmeSXT9IwgpIPhtSSodp02fPN9stpb8nlbXllAeV9ohsUU7Hvy0JGw0rTXbCCkgNW1PSkNKRTKK0HdrZQNu+ta2nSsprVFZ2dnfTtRw39lrJy80x+4mOXzWwampqze/t4T1Px74A2kaDRdujDvfmLVzsH22ehtPD98837Vm/4mn3Naqrr/qmSXJ9w4nQoLKzB5EPh+ULQFvZ3pSOWhKh7c4uV0i3pC9PUHZ4ZkNF9+Mlr4aQTn8m8mHZ6c+WdlMBRIt0FmYk3JZs24vFtmGlyxgOVjU/Q9hSKQmqWDSs9M3q9GesOpOtRTVFn2cLfzozAaB1Nq8vNSWY6bPnNbk2SsULqZZ0Mtoq6TWqeHQdlK7H0LVSWm8K97Dsvj4mHruWSh+ryZ3s1AY6A9th0NrUo+s3+UdjixVS2u5W/egnpifWVHtNprTXqPRNagLbdVJBOvZNtG41siB+EQ9A85rrSWnZJlZIadu1NeN0ydiCT33Duk5KUz1Ik76pYrl9PAV1oHVs27GnxcSjNawgbXsaUpmQthpVPFp3Cq+P0g8k3sIzW6fSoDtYVW2OdenSRb78MvptcIxjimONj9kyS6xRjaUjm/A5f5kKKZXxoFKxwipekc8GFYC2iTchpT0uvZpJUCJF91RyIqhUuGjXVIIHAw1Ay8XrSSlth9oeLReWAzkTVLF6Sjr8C9ewAKSWnhIT1NQQMV0yVkwP0w8ivI5qZAEFcyCdgj0p9atn/jfjIaWcCSoVnvK8aCRLEIB0Cs+m/+qZ3/hbmeVUUGlyB4d61KKA9AovxM5kAT3ImRqVFZ4W1SJeVXVkGQKA1ArO9rl0Tq1zQRVrahRA+mlIpXsFejxODf0AIBbngkovEQEg81xaGuTc0E8L6OEpUgDpp8M+F5YmKOeCCgDCqFEBcB5BBcB5BBUA5xFUAJxHUAFwHkEFwHkddnnC3bOny+hR3/L3dCFpxztfUG93hNbpKP8/hP8f0Pc1bsIUf6/j6LBBpSc3600WrY7aqNPZ4OJ9hom8hrY8NxU6yv8P4c9PF2jGu99Ae8aCTyTM3rRSG4deUK2lN57Usw70MiIjC843vV39PQ8vX8VVXNGstN2AFO2bntZkb1o5+c4ZrbrxpN5A9t3KvfLcCy+Zv/z2rtkaekBTKKYjIZMm3Gy+J+v6RHoemYYeF0dEIggqJEyHaomcpKq9r0QDSIeShBWaQ1AhITagwpeqjUWDJ1ysjhVGBBQSRY0KCepiakp6Z6B333vfHJl2520y/c7bJTs7O6pmZS8lbY9pD0tvMKuzsPpcDTG9d9yQcwbJ1m2/kV+XUaNC05j1Q0K096OBE7yevRW8/6I+Tu/PqMNEu55Hj61a/lCjXhazfkgUPSokRGfsdPins3bZ2d3NtgbMvIWLzTFr8f3zTCD18HpZSntV+tztL7wkNTW15ph6/IlfyHzvuYnUvAB6VEiq4F12Ncg64uJDpB/FdCRV8G7Xj67f5G8BbUNQIans+igtklN7QrJQo0JSaT1KZwh1tXlkG2g7elRIOu1JUSRHMhFUSDpCCslGUAFwHkEFwHkEFQDnEVQAnEdQAXAeQQXAeQQVAOcRVACcR1ABcB5BBcB5BBUA5xFUAJxHUAFwHkEFwHkEFQDnEVQAnEdQAXAeQQXAeQQVAOcRVACcR1ABcB5BBcB5BBUA5xFUAJxHUAFwHkEFwHkEFQDnEVQAnEdQAXAeQQXAeQQVAOcRVACcR1ABcB5BBcB5BBUA5xFUAJxHUAFwHkEFwHkEFQDnEVQAnEdQAXAeQQXAeQQVAOcRVACcR1ABcB5BBcB5BBUA5xFUAJxHUAFwHkEFwHkEFQDnEVQAnEdQAXAeQQXAeQQVAOcRVACcR1ABcB5BBcBxIv8P2jQLopjI8DEAAAAASUVORK5CYII=",alt:"logo de la p\xe1gina",style:iM.imagenLogo})}),(0,ft.jsx)(RP.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,ft.jsxs)(RP.Collapse,{id:"basic-navbar-nav",children:[(0,ft.jsxs)(gR,{className:"me-auto",children:[(0,ft.jsx)(gR.Link,{as:Fe,to:"/",children:"Inicio"}),!t.login&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(gR.Link,{as:Fe,to:"/login",children:"Ingresar"}),(0,ft.jsx)(gR.Link,{as:Fe,to:"/registro",children:"Registrarse"})]}),t.login&&(0,ft.jsx)(rM,{title:"Productos",id:"basic-nav-dropdown",style:iM.dropDown,children:(0,ft.jsx)(rM.Item,{as:Fe,to:"/producto/alta",style:iM.dropDownItem,children:"Subir producto"})})]}),(0,ft.jsx)(gR,{children:t.login&&(0,ft.jsx)(rM,{title:"Has ingresado como ".concat(t.usuario),id:"basic-nav-dropdown",children:(0,ft.jsx)(rM.Item,{onClick:function(){t.handleLogout(),e("/")},style:iM.dropDownItem,children:"Cerrar Sesi\xf3n"})})})]})]})};var oM=function(){return(0,ft.jsx)("div",{className:"App",style:{backgroundColor:"#111",height:"fit-content"},children:(0,ft.jsx)(Me,{basename:"/sl-music-react-app",children:(0,ft.jsx)(LD,{children:(0,ft.jsx)(FD,{children:(0,ft.jsxs)(RC,{style:{height:"100vh"},children:[(0,ft.jsx)(aM,{}),(0,ft.jsx)(WD,{})]})})})})})},uM=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};a.createRoot(document.getElementById("root")).render((0,ft.jsx)(r.StrictMode,{children:(0,ft.jsx)(oM,{})})),uM()}()}();
//# sourceMappingURL=main.993894fe.js.map